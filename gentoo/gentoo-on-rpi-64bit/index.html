<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The personal website of wuseman, it's the Nr1 wiki for cool tips and trikes for all kind of hacks you can imagine"><meta name=author content=wuseman><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.3.5"><title>gentoo-on-rpi-64bit - Nr1 (wuseman's wiki)</title><link rel=stylesheet href=../../assets/stylesheets/main.4a0965b7.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/wuseman/katex.min.css><link rel=stylesheet href=../../assets/stylesheets/wuseman/extra-e384f43f0f.css><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B5KK88V0K4"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-B5KK88V0K4",{page_path:e.pathname})})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-B5KK88V0K4"></script></head> <body dir=ltr data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gentoo-on-rpi-64bit class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> </aside> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Nr1 (wuseman's wiki)" class="md-header__button md-logo" aria-label="Nr1 (wuseman's wiki)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Nr1 (wuseman's wiki) </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> gentoo-on-rpi-64bit </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/wuseman/www.nr1.nu title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> wuseman/www.nr1.nu </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../Installations/piwigo/ class=md-tabs__link> Installations </a> </li> <li class=md-tabs__item> <a href=../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../cracking/wloader/ class=md-tabs__link> Cracking </a> </li> <li class=md-tabs__item> <a href=../gentoo-chroot/ class="md-tabs__link md-tabs__link--active"> Gentoo </a> </li> <li class=md-tabs__item> <a href=../../hacking/ class=md-tabs__link> Hacking </a> </li> <li class=md-tabs__item> <a href=../../linux/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../wiki/ class=md-tabs__link> Wiki </a> </li> <li class=md-tabs__item> <a href=../../windows/RDP/ class=md-tabs__link> Windows </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Nr1 (wuseman's wiki)" class="md-nav__button md-logo" aria-label="Nr1 (wuseman's wiki)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> Nr1 (wuseman's wiki) </label> <div class=md-nav__source> <a href=https://github.com/wuseman/www.nr1.nu title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> wuseman/www.nr1.nu </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Installations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Installations data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Installations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Installations/piwigo/ class=md-nav__link> piwigo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../about/ >About</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../about/CV/ >CV</a> </div> <nav class=md-nav aria-label=CV data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> CV </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../about/Contact/ >Contact</a> </div> <nav class=md-nav aria-label=Contact data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Contact </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Cracking <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cracking data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Cracking </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_1 type=checkbox id=__nav_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../cracking/wloader/ >Wloader</a> </div> <nav class=md-nav aria-label=Wloader data-md-level=2> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Wloader </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Gentoo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Gentoo data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Gentoo </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gentoo-chroot/ class=md-nav__link> gentoo-chroot </a> </li> <li class=md-nav__item> <a href=../gentoo-grub-themes/ class=md-nav__link> gentoo-grub-themes </a> </li> <li class=md-nav__item> <a href=../gentoo-install/ class=md-nav__link> gentoo-install </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> gentoo-on-rpi-64bit <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> gentoo-on-rpi-64bit </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description class=md-nav__link> Description </a> </li> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> Table of Contents </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#downloading-and-writing-the-image class=md-nav__link> Downloading and Writing the Image </a> <nav class=md-nav aria-label="Downloading and Writing the Image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#full-image-genpi64imgxz class=md-nav__link> Full Image (genpi64.img.xz) </a> </li> <li class=md-nav__item> <a href=#lite-image-genpi64liteimgxz class=md-nav__link> Lite Image (genpi64lite.img.xz) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#booting class=md-nav__link> Booting! </a> </li> <li class=md-nav__item> <a href=#using-gentoo class=md-nav__link> Using Gentoo </a> </li> <li class=md-nav__item> <a href=#keeping-your-system-up-to-date class=md-nav__link> Keeping Your System Up-To-Date </a> <nav class=md-nav aria-label="Keeping Your System Up-To-Date"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-new-packages-under-gentoo class=md-nav__link> Installing New Packages Under Gentoo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miscellaneous-configuration-notes-hints-and-tips-skip class=md-nav__link> Miscellaneous Configuration Notes, Hints, and Tips (&darr;skip) </a> </li> <li class=md-nav__item> <a href=#maintenance-notes-advanced-users-only-skip class=md-nav__link> Maintenance Notes (Advanced Users Only) (&darr;skip) </a> <nav class=md-nav aria-label="Maintenance Notes (Advanced Users Only) (↓skip)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optional-switch-back-to-a-pure-bcmrpi3_defconfig-bcm2711_defconfig-kernel class=md-nav__link> Optional: Switch Back to a 'Pure' bcmrpi3_defconfig / bcm2711_defconfig Kernel </a> </li> <li class=md-nav__item> <a href=#optional-compiling-a-kernel-from-source class=md-nav__link> Optional: Compiling a Kernel from Source </a> </li> <li class=md-nav__item> <a href=#have-your-gentoo-pc-do-the-heavy-lifting class=md-nav__link> Have your Gentoo PC Do the Heavy Lifting! </a> </li> <li class=md-nav__item> <a href=#using-your-rpi34-as-a-headless-server class=md-nav__link> Using your RPi3/4 as a Headless Server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miscellaneous-points-advanced-users-only-skip class=md-nav__link> Miscellaneous Points (Advanced Users Only) (&darr;skip) </a> <nav class=md-nav aria-label="Miscellaneous Points (Advanced Users Only) (↓skip)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rpi-specific-ebuilds class=md-nav__link> RPi-Specific Ebuilds </a> </li> <li class=md-nav__item> <a href=#new-features-to-expedite-regular-system-updating class=md-nav__link> New Features to Expedite Regular System Updating </a> </li> <li class=md-nav__item> <a href=#subscribed-ebuild-repositories-aka-overlays class=md-nav__link> Subscribed Ebuild Repositories (aka Overlays) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#project-wiki class=md-nav__link> Project Wiki </a> </li> <li class=md-nav__item> <a href=#help-wanted class=md-nav__link> Help Wanted! </a> </li> <li class=md-nav__item> <a href=#acknowledgement class=md-nav__link> Acknowledgement </a> </li> <li class=md-nav__item> <a href=#feedback-welcome class=md-nav__link> Feedback Welcome! </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../gentoo-tools/ class=md-nav__link> gentoo-cheatsheet </a> </li> <li class=md-nav__item> <a href=../gentoo-update/ class=md-nav__link> gentoo-wupdate </a> </li> <li class=md-nav__item> <a href=../gentoo-vmware/ class=md-nav__link> gentoo-vmware </a> </li> <li class=md-nav__item> <a href=../gentoo-wsplash/ class=md-nav__link> gentoo-wsplash </a> </li> <li class=md-nav__item> <a href=../gentoo-wupdate/ class=md-nav__link> gentoo-wupdate </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/ >Hacking</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Hacking data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Hacking </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Android <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Android data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Android </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1 type=checkbox id=__nav_5_2_1> <label class=md-nav__link for=__nav_5_2_1> FRPBypass <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=FRPBypass data-md-level=3> <label class=md-nav__title for=__nav_5_2_1> <span class="md-nav__icon md-icon"></span> FRPBypass </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_1 type=checkbox id=__nav_5_2_1_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/Android.12/ >Android.12</a> </div> <nav class=md-nav aria-label=Android.12 data-md-level=4> <label class=md-nav__title for=__nav_5_2_1_1> <span class="md-nav__icon md-icon"></span> Android.12 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_2 type=checkbox id=__nav_5_2_1_2> <label class=md-nav__link for=__nav_5_2_1_2> Huawei <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Huawei data-md-level=4> <label class=md-nav__title for=__nav_5_2_1_2> <span class="md-nav__icon md-icon"></span> Huawei </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_2_1 type=checkbox id=__nav_5_2_1_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/Huawei/Huawei_Mediatab-T5-FRP-Bypass_V8.0/ >Huawei Mediatab T5 FRP Bypass V8.0</a> </div> <nav class=md-nav aria-label="Huawei Mediatab T5 FRP Bypass V8.0" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_2_1> <span class="md-nav__icon md-icon"></span> Huawei Mediatab T5 FRP Bypass V8.0 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_3 type=checkbox id=__nav_5_2_1_3> <label class=md-nav__link for=__nav_5_2_1_3> LG <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=LG data-md-level=4> <label class=md-nav__title for=__nav_5_2_1_3> <span class="md-nav__icon md-icon"></span> LG </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_3_1 type=checkbox id=__nav_5_2_1_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/LG/LG_G6-FRP-Bypass/ >LG G6 FRP Bypass</a> </div> <nav class=md-nav aria-label="LG G6 FRP Bypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_3_1> <span class="md-nav__icon md-icon"></span> LG G6 FRP Bypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_4 type=checkbox id=__nav_5_2_1_4> <label class=md-nav__link for=__nav_5_2_1_4> Motorola <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Motorola data-md-level=4> <label class=md-nav__title for=__nav_5_2_1_4> <span class="md-nav__icon md-icon"></span> Motorola </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_4_1 type=checkbox id=__nav_5_2_1_4_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/Motorola/Motorola_Moto_E4.Plus.v7.1-FRP_BYPASS/ >Motorola Moto E4.Plus.v7.1 FRP BYPASS</a> </div> <nav class=md-nav aria-label="Motorola Moto E4.Plus.v7.1 FRP BYPASS" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_4_1> <span class="md-nav__icon md-icon"></span> Motorola Moto E4.Plus.v7.1 FRP BYPASS </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5 type=checkbox id=__nav_5_2_1_5> <label class=md-nav__link for=__nav_5_2_1_5> Samsung <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Samsung data-md-level=4> <label class=md-nav__title for=__nav_5_2_1_5> <span class="md-nav__icon md-icon"></span> Samsung </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5_1 type=checkbox id=__nav_5_2_1_5_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/samsung/Samsung.Xcover.4-FrpBypass/ >Samsung.Xcover.4 FrpBypass</a> </div> <nav class=md-nav aria-label="Samsung.Xcover.4 FrpBypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_5_1> <span class="md-nav__icon md-icon"></span> Samsung.Xcover.4 FrpBypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5_2 type=checkbox id=__nav_5_2_1_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/samsung/Samsung_Galaxy.A10_FRP.Bypass/ >Samsung Galaxy.A10 FRP.Bypass</a> </div> <nav class=md-nav aria-label="Samsung Galaxy.A10 FRP.Bypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_5_2> <span class="md-nav__icon md-icon"></span> Samsung Galaxy.A10 FRP.Bypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5_3 type=checkbox id=__nav_5_2_1_5_3> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/samsung/Samsung_Galaxy.A5_FRP.Bypass/ >Samsung Galaxy.A5 FRP.Bypass</a> </div> <nav class=md-nav aria-label="Samsung Galaxy.A5 FRP.Bypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_5_3> <span class="md-nav__icon md-icon"></span> Samsung Galaxy.A5 FRP.Bypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5_4 type=checkbox id=__nav_5_2_1_5_4> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/samsung/Samsung_Galaxy.S8-FRP.Bypass/ >Samsung Galaxy.S8 FRP.Bypass</a> </div> <nav class=md-nav aria-label="Samsung Galaxy.S8 FRP.Bypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_5_4> <span class="md-nav__icon md-icon"></span> Samsung Galaxy.S8 FRP.Bypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_1_5_5 type=checkbox id=__nav_5_2_1_5_5> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/FRPBypass/samsung/Samsung_Galaxy.s10_FRP.Bypass/ >Samsung Galaxy.s10 FRP.Bypass</a> </div> <nav class=md-nav aria-label="Samsung Galaxy.s10 FRP.Bypass" data-md-level=5> <label class=md-nav__title for=__nav_5_2_1_5_5> <span class="md-nav__icon md-icon"></span> Samsung Galaxy.s10 FRP.Bypass </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2_2 type=checkbox id=__nav_5_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/android/WADPWN/ >WADPWN</a> </div> <nav class=md-nav aria-label=WADPWN data-md-level=3> <label class=md-nav__title for=__nav_5_2_2> <span class="md-nav__icon md-icon"></span> WADPWN </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3> Bios <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Bios data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Bios </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3_1 type=checkbox id=__nav_5_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/bios/HP-ELitebook%E2%81%84Elitedesk/ >HP ELitebook⁄Elitedesk</a> </div> <nav class=md-nav aria-label="HP ELitebook⁄Elitedesk" data-md-level=3> <label class=md-nav__title for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> HP ELitebook⁄Elitedesk </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3_2 type=checkbox id=__nav_5_3_2> <label class=md-nav__link for=__nav_5_3_2> Lenovo And Dell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Lenovo And Dell" data-md-level=3> <label class=md-nav__title for=__nav_5_3_2> <span class="md-nav__icon md-icon"></span> Lenovo And Dell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hacking/bios/Lenovo_And_Dell/Lenovo_And_Dell/ class=md-nav__link> lenovo and dell bios </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4> Bruteforce <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Bruteforce data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Bruteforce </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4_1 type=checkbox id=__nav_5_4_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/bruteforce/EMAGNET/ >EMAGNET</a> </div> <nav class=md-nav aria-label=EMAGNET data-md-level=3> <label class=md-nav__title for=__nav_5_4_1> <span class="md-nav__icon md-icon"></span> EMAGNET </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4_2 type=checkbox id=__nav_5_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/bruteforce/Swedish_Wordlist/ >Swedish Wordlist</a> </div> <nav class=md-nav aria-label="Swedish Wordlist" data-md-level=3> <label class=md-nav__title for=__nav_5_4_2> <span class="md-nav__icon md-icon"></span> Swedish Wordlist </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4_3 type=checkbox id=__nav_5_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/bruteforce/WBRUTER/ >WBRUTER</a> </div> <nav class=md-nav aria-label=WBRUTER data-md-level=3> <label class=md-nav__title for=__nav_5_4_3> <span class="md-nav__icon md-icon"></span> WBRUTER </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4_4 type=checkbox id=__nav_5_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/bruteforce/WSSH/ >WSSH</a> </div> <nav class=md-nav aria-label=WSSH data-md-level=3> <label class=md-nav__title for=__nav_5_4_4> <span class="md-nav__icon md-icon"></span> WSSH </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5> Cameras <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cameras data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Cameras </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_1 type=checkbox id=__nav_5_5_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/cameras/Biltemas_BabyCam/ >Biltemas BabyCam</a> </div> <nav class=md-nav aria-label="Biltemas BabyCam" data-md-level=3> <label class=md-nav__title for=__nav_5_5_1> <span class="md-nav__icon md-icon"></span> Biltemas BabyCam </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5_2 type=checkbox id=__nav_5_5_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/cameras/DLink-6100LH/ >DLink 6100LH</a> </div> <nav class=md-nav aria-label="DLink 6100LH" data-md-level=3> <label class=md-nav__title for=__nav_5_5_2> <span class="md-nav__icon md-icon"></span> DLink 6100LH </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6 type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6> Chromebook <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Chromebook data-md-level=2> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Chromebook </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6_1 type=checkbox id=__nav_5_6_1> <label class=md-nav__link for=__nav_5_6_1> Acer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Acer data-md-level=3> <label class=md-nav__title for=__nav_5_6_1> <span class="md-nav__icon md-icon"></span> Acer </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6_1_1 type=checkbox id=__nav_5_6_1_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/chromebook/Acer/Acer_Chromebook_C720/ >Acer Chromebook C720</a> </div> <nav class=md-nav aria-label="Acer Chromebook C720" data-md-level=4> <label class=md-nav__title for=__nav_5_6_1_1> <span class="md-nav__icon md-icon"></span> Acer Chromebook C720 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6_1_2 type=checkbox id=__nav_5_6_1_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/chromebook/Acer/Acer_Chromebook_C740/ >Acer Chromebook C740</a> </div> <nav class=md-nav aria-label="Acer Chromebook C740" data-md-level=4> <label class=md-nav__title for=__nav_5_6_1_2> <span class="md-nav__icon md-icon"></span> Acer Chromebook C740 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6_2 type=checkbox id=__nav_5_6_2> <label class=md-nav__link for=__nav_5_6_2> Asus <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Asus data-md-level=3> <label class=md-nav__title for=__nav_5_6_2> <span class="md-nav__icon md-icon"></span> Asus </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6_2_1 type=checkbox id=__nav_5_6_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/chromebook/Asus/Asus_C203sa/ >Asus C203sa</a> </div> <nav class=md-nav aria-label="Asus C203sa" data-md-level=4> <label class=md-nav__title for=__nav_5_6_2_1> <span class="md-nav__icon md-icon"></span> Asus C203sa </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_7 type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7> Crawler <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Crawler data-md-level=2> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> Crawler </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_7_1 type=checkbox id=__nav_5_7_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/crawler/wspider/ >Wspider</a> <label for=__nav_5_7_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Wspider data-md-level=3> <label class=md-nav__title for=__nav_5_7_1> <span class="md-nav__icon md-icon"></span> Wspider </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hacking/crawler/wspider/LICENSE/ class=md-nav__link> LICENSE </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8 type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8> Dorks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Dorks data-md-level=2> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> Dorks </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8_1 type=checkbox id=__nav_5_8_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/dorks/Creditcards/ >Creditcards</a> </div> <nav class=md-nav aria-label=Creditcards data-md-level=3> <label class=md-nav__title for=__nav_5_8_1> <span class="md-nav__icon md-icon"></span> Creditcards </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8_2 type=checkbox id=__nav_5_8_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/dorks/Google/ >Google</a> </div> <nav class=md-nav aria-label=Google data-md-level=3> <label class=md-nav__title for=__nav_5_8_2> <span class="md-nav__icon md-icon"></span> Google </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8_3 type=checkbox id=__nav_5_8_3> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/dorks/SQL/ >SQL</a> </div> <nav class=md-nav aria-label=SQL data-md-level=3> <label class=md-nav__title for=__nav_5_8_3> <span class="md-nav__icon md-icon"></span> SQL </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_9 type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9> Radio <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Radio data-md-level=2> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> Radio </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_9_1 type=checkbox id=__nav_5_9_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/radio/Boose_SoundTouch/ >Boose SoundTouch</a> </div> <nav class=md-nav aria-label="Boose SoundTouch" data-md-level=3> <label class=md-nav__title for=__nav_5_9_1> <span class="md-nav__icon md-icon"></span> Boose SoundTouch </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10 type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10> Routers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Routers data-md-level=2> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> Routers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_1 type=checkbox id=__nav_5_10_1> <label class=md-nav__link for=__nav_5_10_1> Inteno <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Inteno data-md-level=3> <label class=md-nav__title for=__nav_5_10_1> <span class="md-nav__icon md-icon"></span> Inteno </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_1_1 type=checkbox id=__nav_5_10_1_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/routers/inteno/FG500-NetAtOnce/ >FG500 NetAtOnce</a> </div> <nav class=md-nav aria-label="FG500 NetAtOnce" data-md-level=4> <label class=md-nav__title for=__nav_5_10_1_1> <span class="md-nav__icon md-icon"></span> FG500 NetAtOnce </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_2 type=checkbox id=__nav_5_10_2> <label class=md-nav__link for=__nav_5_10_2> Sagemcom <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Sagemcom data-md-level=3> <label class=md-nav__title for=__nav_5_10_2> <span class="md-nav__icon md-icon"></span> Sagemcom </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_2_1 type=checkbox id=__nav_5_10_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/routers/sagemcom/FAST5370e/ >FAST5370e</a> </div> <nav class=md-nav aria-label=FAST5370e data-md-level=4> <label class=md-nav__title for=__nav_5_10_2_1> <span class="md-nav__icon md-icon"></span> FAST5370e </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_3 type=checkbox id=__nav_5_10_3> <label class=md-nav__link for=__nav_5_10_3> Technicolor <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Technicolor data-md-level=3> <label class=md-nav__title for=__nav_5_10_3> <span class="md-nav__icon md-icon"></span> Technicolor </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_3_1 type=checkbox id=__nav_5_10_3_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/routers/technicolor/DGA4330TS/ >DGA4330TS</a> </div> <nav class=md-nav aria-label=DGA4330TS data-md-level=4> <label class=md-nav__title for=__nav_5_10_3_1> <span class="md-nav__icon md-icon"></span> DGA4330TS </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_10_3_2 type=checkbox id=__nav_5_10_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/routers/technicolor/TG799VAC-XTREME-18.1/ >TG799VAC XTREME 18.1</a> </div> <nav class=md-nav aria-label="TG799VAC XTREME 18.1" data-md-level=4> <label class=md-nav__title for=__nav_5_10_3_2> <span class="md-nav__icon md-icon"></span> TG799VAC XTREME 18.1 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_11 type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11> Switches <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Switches data-md-level=2> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> Switches </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_11_1 type=checkbox id=__nav_5_11_1> <label class=md-nav__link for=__nav_5_11_1> Cisco <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Cisco data-md-level=3> <label class=md-nav__title for=__nav_5_11_1> <span class="md-nav__icon md-icon"></span> Cisco </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_11_1_1 type=checkbox id=__nav_5_11_1_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/switches/cisco/C1111-8PLTEEA%20/ >C1111 8PLTEEA </a> </div> <nav class=md-nav aria-label="C1111 8PLTEEA " data-md-level=4> <label class=md-nav__title for=__nav_5_11_1_1> <span class="md-nav__icon md-icon"></span> C1111 8PLTEEA </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_11_2 type=checkbox id=__nav_5_11_2> <label class=md-nav__link for=__nav_5_11_2> Edge core <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Edge core" data-md-level=3> <label class=md-nav__title for=__nav_5_11_2> <span class="md-nav__icon md-icon"></span> Edge core </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_11_2_1 type=checkbox id=__nav_5_11_2_1> <div class="md-nav__link md-nav__link--index "> <a href=../../hacking/switches/edge-core/ES3510MA/ >ES3510MA</a> </div> <nav class=md-nav aria-label=ES3510MA data-md-level=4> <label class=md-nav__title for=__nav_5_11_2_1> <span class="md-nav__icon md-icon"></span> ES3510MA </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_12 type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12> Useragents <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Useragents data-md-level=2> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> Useragents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hacking/useragents/UserAgents/ class=md-nav__link> user-agents </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../linux/ >Linux</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Linux data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Bash <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Bash data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Bash </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/bash/bash/ class=md-nav__link> bash </a> </li> <li class=md-nav__item> <a href=../../linux/bash/chroot/ class=md-nav__link> chroot </a> </li> <li class=md-nav__item> <a href=../../linux/bash/dd/ class=md-nav__link> Dd </a> </li> <li class=md-nav__item> <a href=../../linux/bash/echo/ class=md-nav__link> echo </a> </li> <li class=md-nav__item> <a href=../../linux/bash/enviroment/ class=md-nav__link> enviroment </a> </li> <li class=md-nav__item> <a href=../../linux/bash/find/ class=md-nav__link> find </a> </li> <li class=md-nav__item> <a href=../../linux/bash/grep/ class=md-nav__link> grep </a> </li> <li class=md-nav__item> <a href=../../linux/bash/kill/ class=md-nav__link> kill </a> </li> <li class=md-nav__item> <a href=../../linux/bash/ls/ class=md-nav__link> ls </a> </li> <li class=md-nav__item> <a href=../../linux/bash/lsof/ class=md-nav__link> lsof </a> </li> <li class=md-nav__item> <a href=../../linux/bash/man/ class=md-nav__link> man </a> </li> <li class=md-nav__item> <a href=../../linux/bash/paste/ class=md-nav__link> paste </a> </li> <li class=md-nav__item> <a href=../../linux/bash/pgrep/ class=md-nav__link> pgrep </a> </li> <li class=md-nav__item> <a href=../../linux/bash/pkill/ class=md-nav__link> pkill </a> </li> <li class=md-nav__item> <a href=../../linux/bash/printf/ class=md-nav__link> printf </a> </li> <li class=md-nav__item> <a href=../../linux/bash/ps/ class=md-nav__link> ps </a> </li> <li class=md-nav__item> <a href=../../linux/bash/rm/ class=md-nav__link> rm </a> </li> <li class=md-nav__item> <a href=../../linux/bash/screen/ class=md-nav__link> screen </a> </li> <li class=md-nav__item> <a href=../../linux/bash/sed/ class=md-nav__link> sed </a> </li> <li class=md-nav__item> <a href=../../linux/bash/shopt/ class=md-nav__link> shopt </a> </li> <li class=md-nav__item> <a href=../../linux/bash/shuf/ class=md-nav__link> shuf </a> </li> <li class=md-nav__item> <a href=../../linux/bash/sort/ class=md-nav__link> sort </a> </li> <li class=md-nav__item> <a href=../../linux/bash/stat/ class=md-nav__link> stat </a> </li> <li class=md-nav__item> <a href=../../linux/bash/strace/ class=md-nav__link> strace </a> </li> <li class=md-nav__item> <a href=../../linux/bash/sudo/ class=md-nav__link> sudo </a> </li> <li class=md-nav__item> <a href=../../linux/bash/systemd/ class=md-nav__link> systemd </a> </li> <li class=md-nav__item> <a href=../../linux/bash/tar/ class=md-nav__link> tar </a> </li> <li class=md-nav__item> <a href=../../linux/bash/thermal/ class=md-nav__link> thermal </a> </li> <li class=md-nav__item> <a href=../../linux/bash/top/ class=md-nav__link> top </a> </li> <li class=md-nav__item> <a href=../../linux/bash/xargs/ class=md-nav__link> xargs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_3 type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3> Bluetooth <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Bluetooth data-md-level=2> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Bluetooth </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/bluetooth/bluetoothctl/ class=md-nav__link> bluetoothctl </a> </li> <li class=md-nav__item> <a href=../../linux/bluetooth/btmgt/ class=md-nav__link> btmgt </a> </li> <li class=md-nav__item> <a href=../../linux/bluetooth/btmon/ class=md-nav__link> btmon </a> </li> <li class=md-nav__item> <a href=../../linux/bluetooth/ciptool/ class=md-nav__link> ciptool </a> </li> <li class=md-nav__item> <a href=../../linux/bluetooth/hciconfig/ class=md-nav__link> hciconfig </a> </li> <li class=md-nav__item> <a href=../../linux/bluetooth/hcitool/ class=md-nav__link> hcitool </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_4 type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4> Browsers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Browsers data-md-level=2> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Browsers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/browsers/links/ class=md-nav__link> links </a> </li> <li class=md-nav__item> <a href=../../linux/browsers/lynx/ class=md-nav__link> lynx </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_5 type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5> Databases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Databases data-md-level=2> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Databases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/databases/mysql/ class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../linux/databases/sqlite3/ class=md-nav__link> sqlite 3 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_6 type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6> Encryption <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Encryption data-md-level=2> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Encryption </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/encryption/cryptsetup/ class=md-nav__link> cryptsetup/luks/lvm </a> </li> <li class=md-nav__item> <a href=../../linux/encryption/gnupg/ class=md-nav__link> gnupg </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_7 type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7> Filesystem <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Filesystem data-md-level=2> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> Filesystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/filesystem/dev_and_proc/ class=md-nav__link> dev and proc </a> </li> <li class=md-nav__item> <a href=../../linux/filesystem/rename/ class=md-nav__link> rename </a> </li> <li class=md-nav__item> <a href=../../linux/filesystem/sys/ class=md-nav__link> sys </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_8 type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8> Gentoo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Gentoo data-md-level=2> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> Gentoo </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/gentoo/eix/ class=md-nav__link> eix </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_9 type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9> Hacking <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Hacking data-md-level=2> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> Hacking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/hacking/bettercap/ class=md-nav__link> bettercap </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/csfr-hacking/ class=md-nav__link> csfr-hacking </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/masscan/ class=md-nav__link> masscan </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/ncrack/ class=md-nav__link> ncrack </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/netcat/ class=md-nav__link> netcat </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/nmap/ class=md-nav__link> nmap </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/nmap2/ class=md-nav__link> nmap2 </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/sqlmap/ class=md-nav__link> sqlmap </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/tcpdump/ class=md-nav__link> tcpdump </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/tshark/ class=md-nav__link> tshark </a> </li> <li class=md-nav__item> <a href=../../linux/hacking/xss-hacking/ class=md-nav__link> xss-hacking </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_10 type=checkbox id=__nav_6_10> <label class=md-nav__link for=__nav_6_10> Hardware <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Hardware data-md-level=2> <label class=md-nav__title for=__nav_6_10> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/hardware/df/ class=md-nav__link> df </a> </li> <li class=md-nav__item> <a href=../../linux/hardware/du/ class=md-nav__link> du </a> </li> <li class=md-nav__item> <a href=../../linux/hardware/smartctl/ class=md-nav__link> smartmontools </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_11 type=checkbox id=__nav_6_11> <label class=md-nav__link for=__nav_6_11> Install <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Install data-md-level=2> <label class=md-nav__title for=__nav_6_11> <span class="md-nav__icon md-icon"></span> Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/install/matomo/ class=md-nav__link> matomo </a> </li> <li class=md-nav__item> <a href=../../linux/install/mkdocs/ class=md-nav__link> mkdocs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_12 type=checkbox id=__nav_6_12> <label class=md-nav__link for=__nav_6_12> Kernel <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kernel data-md-level=2> <label class=md-nav__title for=__nav_6_12> <span class="md-nav__icon md-icon"></span> Kernel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/kernel/kernel/ class=md-nav__link> kernel </a> </li> <li class=md-nav__item> <a href=../../linux/kernel/perf/ class=md-nav__link> perf </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_13 type=checkbox id=__nav_6_13> <label class=md-nav__link for=__nav_6_13> Logs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Logs data-md-level=2> <label class=md-nav__title for=__nav_6_13> <span class="md-nav__icon md-icon"></span> Logs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/logs/apache2-logs/ class=md-nav__link> apache2-logs </a> </li> <li class=md-nav__item> <a href=../../linux/logs/ssh-log/ class=md-nav__link> ssh-logs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_14 type=checkbox id=__nav_6_14> <label class=md-nav__link for=__nav_6_14> Loops <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Loops data-md-level=2> <label class=md-nav__title for=__nav_6_14> <span class="md-nav__icon md-icon"></span> Loops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/loops/for-loop/ class=md-nav__link> for-loop </a> </li> <li class=md-nav__item> <a href=../../linux/loops/until-loop/ class=md-nav__link> until-loop </a> </li> <li class=md-nav__item> <a href=../../linux/loops/while-loop/ class=md-nav__link> while-loop </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_15 type=checkbox id=__nav_6_15> <label class=md-nav__link for=__nav_6_15> Media <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Media data-md-level=2> <label class=md-nav__title for=__nav_6_15> <span class="md-nav__icon md-icon"></span> Media </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/media/exiftool/ class=md-nav__link> exiftool </a> </li> <li class=md-nav__item> <a href=../../linux/media/ffmpeg/ class=md-nav__link> ffmpeg </a> </li> <li class=md-nav__item> <a href=../../linux/media/mplayer/ class=md-nav__link> mplayer </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_16 type=checkbox id=__nav_6_16> <label class=md-nav__link for=__nav_6_16> Network <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Network data-md-level=2> <label class=md-nav__title for=__nav_6_16> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/network/arp/ class=md-nav__link> arp </a> </li> <li class=md-nav__item> <a href=../../linux/network/curl/ class=md-nav__link> curl </a> </li> <li class=md-nav__item> <a href=../../linux/network/dig/ class=md-nav__link> dig </a> </li> <li class=md-nav__item> <a href=../../linux/network/get/ class=md-nav__link> get </a> </li> <li class=md-nav__item> <a href=../../linux/network/git/ class=md-nav__link> git </a> </li> <li class=md-nav__item> <a href=../../linux/network/ip/ class=md-nav__link> ip </a> </li> <li class=md-nav__item> <a href=../../linux/network/iptables/ class=md-nav__link> iptables </a> </li> <li class=md-nav__item> <a href=../../linux/network/iw/ class=md-nav__link> iw </a> </li> <li class=md-nav__item> <a href=../../linux/network/lftp/ class=md-nav__link> lftp </a> </li> <li class=md-nav__item> <a href=../../linux/network/mail/ class=md-nav__link> mailx </a> </li> <li class=md-nav__item> <a href=../../linux/network/mutt/ class=md-nav__link> mutt </a> </li> <li class=md-nav__item> <a href=../../linux/network/netstat/ class=md-nav__link> netstat </a> </li> <li class=md-nav__item> <a href=../../linux/network/ping/ class=md-nav__link> ping </a> </li> <li class=md-nav__item> <a href=../../linux/network/rclone/ class=md-nav__link> rclone </a> </li> <li class=md-nav__item> <a href=../../linux/network/rdesktop/ class=md-nav__link> rdesktop </a> </li> <li class=md-nav__item> <a href=../../linux/network/rsync/ class=md-nav__link> rsync </a> </li> <li class=md-nav__item> <a href=../../linux/network/ssh-config/ class=md-nav__link> ssh-config </a> </li> <li class=md-nav__item> <a href=../../linux/network/ssh-keygen/ class=md-nav__link> ssh-keygen </a> </li> <li class=md-nav__item> <a href=../../linux/network/ssh/ class=md-nav__link> Ssh </a> </li> <li class=md-nav__item> <a href=../../linux/network/sshfs/ class=md-nav__link> sshfs </a> </li> <li class=md-nav__item> <a href=../../linux/network/wget/ class=md-nav__link> wget </a> </li> <li class=md-nav__item> <a href=../../linux/network/whatismyip/ class=md-nav__link> whatismyip </a> </li> <li class=md-nav__item> <a href=../../linux/network/wireguard/ class=md-nav__link> wireguard </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_17 type=checkbox id=__nav_6_17> <label class=md-nav__link for=__nav_6_17> Package manager <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Package manager" data-md-level=2> <label class=md-nav__title for=__nav_6_17> <span class="md-nav__icon md-icon"></span> Package manager </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/package-manager/apt/ class=md-nav__link> apt </a> </li> <li class=md-nav__item> <a href=../../linux/package-manager/dpkg/ class=md-nav__link> dpkg </a> </li> <li class=md-nav__item> <a href=../../linux/package-manager/emerge/ class=md-nav__link> emerge </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_18 type=checkbox id=__nav_6_18> <label class=md-nav__link for=__nav_6_18> Parallel <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Parallel data-md-level=2> <label class=md-nav__title for=__nav_6_18> <span class="md-nav__icon md-icon"></span> Parallel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/parallel/parallel/ class=md-nav__link> parallel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_19 type=checkbox id=__nav_6_19> <label class=md-nav__link for=__nav_6_19> Reverse engineering <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Reverse engineering" data-md-level=2> <label class=md-nav__title for=__nav_6_19> <span class="md-nav__icon md-icon"></span> Reverse engineering </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/reverse-engineering/hexdump/ class=md-nav__link> hexdump </a> </li> <li class=md-nav__item> <a href=../../linux/reverse-engineering/od/ class=md-nav__link> od </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_20 type=checkbox id=__nav_6_20> <label class=md-nav__link for=__nav_6_20> Syslog ng <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Syslog ng" data-md-level=2> <label class=md-nav__title for=__nav_6_20> <span class="md-nav__icon md-icon"></span> Syslog ng </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/syslog-ng/syslog-conf.ng/ class=md-nav__link> syslog-ng config </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_21 type=checkbox id=__nav_6_21> <label class=md-nav__link for=__nav_6_21> Vim <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Vim data-md-level=2> <label class=md-nav__title for=__nav_6_21> <span class="md-nav__icon md-icon"></span> Vim </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/vim/vim/ class=md-nav__link> vim </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_22 type=checkbox id=__nav_6_22> <label class=md-nav__link for=__nav_6_22> Working with textfiles <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Working with textfiles" data-md-level=2> <label class=md-nav__title for=__nav_6_22> <span class="md-nav__icon md-icon"></span> Working with textfiles </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/working_with_textfiles/awk/ class=md-nav__link> awk </a> </li> <li class=md-nav__item> <a href=../../linux/working_with_textfiles/diff/ class=md-nav__link> diff </a> </li> <li class=md-nav__item> <a href=../../linux/working_with_textfiles/merge-tricks/ class=md-nav__link> merge tricks </a> </li> <li class=md-nav__item> <a href=../../linux/working_with_textfiles/rg/ class=md-nav__link> ripgrep </a> </li> <li class=md-nav__item> <a href=../../linux/working_with_textfiles/sortBreaches/ class=md-nav__link> sortBreaches </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../wiki/ >Wiki</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Wiki data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Wiki </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_2 type=checkbox id=__nav_7_2> <div class="md-nav__link md-nav__link--index "> <a href=../../wiki/ADB/ >ADB</a> <label for=__nav_7_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=ADB data-md-level=2> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> ADB </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../wiki/ADB/AT_Commands/ class=md-nav__link> AT Commands </a> </li> <li class=md-nav__item> <a href=../../wiki/ADB/LICENSE/ class=md-nav__link> LICENSE </a> </li> <li class=md-nav__item> <a href=../../wiki/ADB/UUSD_Codes/ class=md-nav__link> UUSD Codes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_3 type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3> EMAGNET <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=EMAGNET data-md-level=2> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> EMAGNET </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../wiki/EMAGNET/About/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../wiki/EMAGNET/Getting_Started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../../wiki/EMAGNET/Installation/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=../../wiki/EMAGNET/Leaked_Databases%28Largest%29/ class=md-nav__link> Leaked Databases (Largest) </a> </li> <li class=md-nav__item> <a href=../../wiki/EMAGNET/Search_With_Regex/ class=md-nav__link> Search with Regex </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7_4 type=checkbox id=__nav_7_4> <div class="md-nav__link md-nav__link--index "> <a href=../../wiki/Synology/ >Synology</a> </div> <nav class=md-nav aria-label=Synology data-md-level=2> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Synology </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Windows <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Windows data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_1 type=checkbox id=__nav_8_1> <div class="md-nav__link md-nav__link--index "> <a href=../../windows/RDP/ >RDP</a> </div> <nav class=md-nav aria-label=RDP data-md-level=2> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> RDP </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2 type=checkbox id=__nav_8_2> <div class="md-nav__link md-nav__link--index "> <a href=../../windows/WMIC/ >WMIC</a> </div> <nav class=md-nav aria-label=WMIC data-md-level=2> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> WMIC </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description class=md-nav__link> Description </a> </li> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> Table of Contents </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#downloading-and-writing-the-image class=md-nav__link> Downloading and Writing the Image </a> <nav class=md-nav aria-label="Downloading and Writing the Image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#full-image-genpi64imgxz class=md-nav__link> Full Image (genpi64.img.xz) </a> </li> <li class=md-nav__item> <a href=#lite-image-genpi64liteimgxz class=md-nav__link> Lite Image (genpi64lite.img.xz) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#booting class=md-nav__link> Booting! </a> </li> <li class=md-nav__item> <a href=#using-gentoo class=md-nav__link> Using Gentoo </a> </li> <li class=md-nav__item> <a href=#keeping-your-system-up-to-date class=md-nav__link> Keeping Your System Up-To-Date </a> <nav class=md-nav aria-label="Keeping Your System Up-To-Date"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installing-new-packages-under-gentoo class=md-nav__link> Installing New Packages Under Gentoo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miscellaneous-configuration-notes-hints-and-tips-skip class=md-nav__link> Miscellaneous Configuration Notes, Hints, and Tips (&darr;skip) </a> </li> <li class=md-nav__item> <a href=#maintenance-notes-advanced-users-only-skip class=md-nav__link> Maintenance Notes (Advanced Users Only) (&darr;skip) </a> <nav class=md-nav aria-label="Maintenance Notes (Advanced Users Only) (↓skip)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optional-switch-back-to-a-pure-bcmrpi3_defconfig-bcm2711_defconfig-kernel class=md-nav__link> Optional: Switch Back to a 'Pure' bcmrpi3_defconfig / bcm2711_defconfig Kernel </a> </li> <li class=md-nav__item> <a href=#optional-compiling-a-kernel-from-source class=md-nav__link> Optional: Compiling a Kernel from Source </a> </li> <li class=md-nav__item> <a href=#have-your-gentoo-pc-do-the-heavy-lifting class=md-nav__link> Have your Gentoo PC Do the Heavy Lifting! </a> </li> <li class=md-nav__item> <a href=#using-your-rpi34-as-a-headless-server class=md-nav__link> Using your RPi3/4 as a Headless Server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#miscellaneous-points-advanced-users-only-skip class=md-nav__link> Miscellaneous Points (Advanced Users Only) (&darr;skip) </a> <nav class=md-nav aria-label="Miscellaneous Points (Advanced Users Only) (↓skip)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rpi-specific-ebuilds class=md-nav__link> RPi-Specific Ebuilds </a> </li> <li class=md-nav__item> <a href=#new-features-to-expedite-regular-system-updating class=md-nav__link> New Features to Expedite Regular System Updating </a> </li> <li class=md-nav__item> <a href=#subscribed-ebuild-repositories-aka-overlays class=md-nav__link> Subscribed Ebuild Repositories (aka Overlays) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#project-wiki class=md-nav__link> Project Wiki </a> </li> <li class=md-nav__item> <a href=#help-wanted class=md-nav__link> Help Wanted! </a> </li> <li class=md-nav__item> <a href=#acknowledgement class=md-nav__link> Acknowledgement </a> </li> <li class=md-nav__item> <a href=#feedback-welcome class=md-nav__link> Feedback Welcome! </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/wuseman/www.nr1.nu/edit/master/docs/gentoo/gentoo-on-rpi-64bit.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=gentoo-on-rpi-64bit>gentoo-on-rpi-64bit<a class=headerlink href=#gentoo-on-rpi-64bit title="Permanent link">&para;</a></h1> <p>Bootable 64-bit Gentoo image for the Raspberry Pi 4 Model B, and Pi 3 B and B+, with Linux 5.4, OpenRC, Xfce4, VC4/V3D, camera &amp; h/w codec support, profile 17.0, weekly-autobuild binhost</p> <blockquote> <p>30 Oct 2020: sadly, due to legal obligations arising from a recent change in my 'real world' job, I must announce I am <strong>standing down as maintainer of this project with immediate effect</strong>. For the meantime, I will leave the repo up (for historical interest, and since the images may be of use still in certain applications); however, there will be no further updates to the underlying binhost etc., nor will I be accepting / actioning further pull requests or bug reports from this point. Email requests for support will also have to be politely declined, so, <strong>please treat this as an effective EOL notice</strong>.<br><br>For further details, please see my post <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1750206#p1750206">here</a>.<br><br>Gentoo <em>itself</em> on the aarch64 / 64-bit RPi platform remains very much a going concern of course; please see e.g. <a href=https://forums.gentoo.org/viewforum-f-62.html>this forum</a> for more details.<br><br>With sincere apologies, sakaki &gt;&lt;</p> </blockquote> <h2 id=description>Description<a class=headerlink href=#description title="Permanent link">&para;</a></h2> <p><img src=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi4/Raspberry_Pi_3_B_and_B_plus_and_4_B.jpg alt="[Raspberry Pi 4B, 3B and B+]" width=250px align=right></p> <p>This project is a bootable, microSD card <strong>64-bit Gentoo image for the <a href=https://www.raspberrypi.org/products/raspberry-pi-4-model-b/ >Raspberry Pi 4 model B</a>, <a href=https://www.raspberrypi.org/products/raspberry-pi-3-model-b/ >3 model B</a> and <a href=https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/ >3 model B+</a></strong> single board computers (SBC).</p> <p>The image's userland contains a complete (OpenRC-based) Gentoo system (including a full Portage tree) - so you can run <code>emerge</code> operations immediately - and has been pre-populated with a reasonable package set (Xfce v4.14, LibreOffice v6.4.4.2, Firefox Quantum v77.0.1, Chromium v84.0.4147.30, Thunderbird v68.9.0, VLC v3.0.10-r1, Kodi v18.7.1, GIMP v2.10.18-r1 etc.) so that you can get productive <em>without</em> having to compile anything first! Unless you <em>want</em> to, of course; this being Gentoo, GCC v10.1.0, Clang v10.0.0, IcedTea v3.16.0 (OpenJDK 8), Go v1.14.4, Rust v1.44.0 and various versions of Python are of course bundled also <sup>-</sup> As of version 1.2.0 of the image, all userland software has been built under Gentoo's 17.0 profile, and, as of version 1.5.0 of the image, <strong>the new RPi4 Model B is also supported</strong> (and to reflect this, the project itself has been renamed, from <code>gentoo-on-rpi3-64bit</code> to <code>gentoo-on-rpi-64bit</code> <sup>-</sup>).</p> <p>The kernel and userland are both 64-bit (<code>arm64</code>/<code>aarch64</code>), and support for the Pi's <a href=https://wiki.gentoo.org/wiki/Raspberry_Pi_VC4>VC4</a> GPU (VC6 on the Pi4) has been included (using <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=29&t=159853"><code>vc4-fkms-v3d</code></a> / Mesa), so rendering performance is reasonable (e.g., <code>glxgears</code> between 400 and 1200fps, depending on load and system type; real-time video playback). The Pi's onboard Ethernet, WiFi (dual-band on the RPi3 B+ / Pi4 B) and Bluetooth adaptors are supported, as is the official 7" <a href=#touchscreen>touchscreen</a> (if you have one). Sound works too, both via HDMI (given an appropriate display), and the onboard headphone jack. As of version 1.1.0 of the image, a <a href=#binhost>weekly-autobuild binhost</a>, custom <a href=#profile>Gentoo profile</a>, and <a href=#binary_kp>binary kernel package</a> have been provided, making it relatively painless to keep your system up-to-date (and, because of this, <a href=https://github.com/sakaki-/genup><code>genup</code></a> has been configured to run <a href=#weekly_update>automatically once per week</a>, by default). As of version 1.4.0 of the image, access to the RPi3's hardware video codecs (and camera module, if you have one) <a href=#v4l2>is supported</a> too, via the V4L2 framework, and, as of version 1.5.0, these features are available on the RPi4 also. Additionally, on the RPi4, the use of dual monitors is supported (but not required) as of version 1.5.0 (as is accelerated graphics, via V3D / Mesa). And, there is no 3GiB 'memory ceiling' anymore: if you are fortunate enough to own a 8GiB Pi4, all 8GiB of that RAM is usable. As of 1.5.2, <a href=#mmal>64-bit MMAL userland</a> is supported (and used by bundled tools like <code>raspivid</code>), as is automated update of the RPi4's onboard EEPROM firmware. And finally, as of 1.6.0, <code>rpi-5.4.y</code> kernels are supported, the FOSS Jitsi videoconferencing server is bundled, and <code>elogind</code> is used in place of <code>consolekit</code>.</p> <p>Here's a screenshot of the image running on a dual-display RPi4 B (click to show a higher resolution view):</p> <p><a href=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi4/demo-screenshot-1.6.0-pi4-ds-white-bg-v2.jpg><img src=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi4/demo-screenshot-1.6.0-pi4-ds-white-bg-small-v2.jpg alt="[gentoo-on-rpi-64bit in use on Pi4 (screenshot)]" width=960px></a></p> <p>The image may be downloaded from the link below (or via <code>wget</code>, per the instructions which follow).</p> <table> <thead> <tr> <th align=left><a id=downloadlinks></a>Variant</th> <th align=right>Version</th> <th align=right>Image</th> <th align=right>Digital Signature</th> </tr> </thead> <tbody> <tr> <td align=left>Raspberry Pi 4B, 3B/B+ 64-bit Full</td> <td align=right>v1.6.0</td> <td align=right><a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64.img.xz>genpi64.img.xz</a></td> <td align=right><a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64.img.xz.asc>genpi64.img.xz.asc</a></td> </tr> <tr> <td align=left>Raspberry Pi 4B, 3B/B+ 64-bit Lite</td> <td align=right>v1.6.0</td> <td align=right><a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64lite.img.xz>genpi64lite.img.xz</a></td> <td align=right><a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64lite.img.xz.asc>genpi64lite.img.xz.asc</a></td> </tr> </tbody> </table> <p><strong>NB:</strong> most users will want the first, full image (<a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64.img.xz>genpi64.img.xz</a>) - the 'lite' variant (<a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64lite.img.xz>genpi64lite.img.xz</a>) boots to a command-line (rather than a graphical desktop), and is intended only for experienced Gentoo users (who wish to to <em>e.g.</em> set up a server).</p> <blockquote> <p>The previous release versions are still available (together with a detailed changelog) <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases>here</a>. If you have a significant amount of work invested in an older release of this image, I have also provided manual upgrade instructions (from 1.0.0 thru 1.5.4 &rarr; 1.6.0) <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases#upgrade_to_1_6_0>here</a>.</p> </blockquote> <p>Please read the instructions below before proceeding. Also please note that all images (and binary packages) are provided 'as is' and without warranty. You should also be comfortable with the (at the moment, unavoidable) non-free licenses required by the firmware and boot software supplied on the image before proceeding: these may be reviewed <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/tree/master/licenses>here</a>.</p> <blockquote> <p>It is sensible to install Gentoo to a <strong>separate</strong> microSD card from that used by your default Raspbian system; that way, when you are finished using Gentoo, you can simply power off, swap back to your old card, reboot, and your original system will be just as it was.</p> <p>Please also note that support for <code>arm64</code> is still in its <a href=https://wiki.gentoo.org/wiki/Raspberry_Pi>early stages</a> with Gentoo, so it is quite possible that you may encounter strange bugs etc. when running a 64-bit image such as this one. A lot of packages <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3/package.accept_keywords>have been <code>* ~*</code> keyworded</a> to get the system provided here to build... but hey, if you like Gentoo, little things like that aren't likely to put you off <sup>-</sup></p> </blockquote> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ul> <li><a href=#prerequisites>Prerequisites</a></li> <li><a href=#downloading-and-writing-the-image>Downloading and Writing the Image</a></li> <li><a href=#regularimage>Full Image (genpi64.img.xz)</a></li> <li><a href=#liteimage>Lite Image (genpi64lite.img.xz)</a></li> <li><a href=#booting>Booting!</a></li> <li><a href=#using-gentoo>Using Gentoo</a></li> <li><a href=#keeping-your-system-up-to-date>Keeping Your System Up-To-Date</a></li> <li><a href=#installing-new-packages-under-gentoo>Installing New Packages Under Gentoo</a></li> <li><a href=#miscellaneous-configuration-notes-hints-and-tips-skip>Miscellaneous Configuration Notes, Hints, and Tips</a></li> <li><a href=#maintenance-notes-advanced-users-only-skip>Maintenance Notes (Advanced Users Only)</a></li> <li><a href=#revertkernelbin>Optional: Switch Back to a 'Pure' bcmrpi3_defconfig / bcm2711_defconfig Kernel</a></li> <li><a href=#kernelbuild>Optional: Compiling a Kernel from Source</a></li> <li><a href=#have-your-gentoo-pc-do-the-heavy-lifting>Have your Gentoo PC Do the Heavy Lifting!</a></li> <li><a href=#rpi3_headless>Using your RPi3 as a Headless Server</a></li> <li><a href=#miscellaneous-points-advanced-users-only-skip>Miscellaneous Points (Advanced Users Only)</a></li> <li><a href=#rpi-specific-ebuilds>RPi-Specific Ebuilds</a></li> <li><a href=#new-features-to-expedite-regular-system-updating>New Features to Expedite Regular System Updating</a></li> <li><a href=#subscribed-ebuild-repositories-aka-overlays>Subscribed Ebuild Repositories (aka Overlays)</a></li> <li><a href=#projectwiki>Project Wiki</a></li> <li><a href=#help-wanted>Help Wanted!</a></li> <li><a href=#acknowledgement>Acknowledgement</a></li> <li><a href=#feedback-welcome>Feedback Welcome!</a></li> </ul> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <p>To try this out, you will need: * For the <strong>full</strong> image (which most users will want), a <a href=https://en.wikipedia.org/wiki/Secure_Digital>microSD</a> card of <em>at least</em> 16GB capacity (as this image is 1,961MiB compressed, 12.25GiB == 13.15GB uncompressed, so it should fit on any card marked as &gt;= 16GB). For the <strong>'lite'</strong> image, a card marked as &gt;= 8GB should suffice (as this image is 755MiB compressed, 7.25GiB == 7.78GB uncompressed). If you intend to build many additional large packages (or kernels) on your RPi, a card of &gt;16GB is recommended (the root partition will <a href=#morespace>automatically be expanded</a> to fill the available space on your microSD card, on first boot). Depending on the slots available on your PC, you may also need an adaptor to allow the microSD card to be plugged in (to write the image to it initially). <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1517864#p1517864">Class A1 cards</a> are particularly recommended, but not required.</p> <blockquote> <p>I have found most SanDisk cards work fine; if you are having trouble, a good sanity check is to try writing the <a href=https://www.raspberrypi.org/downloads/raspbian/ >standard Raspbian 32-bit image</a> to your card, to verify that your Pi4 (or Pi3) will boot with it, before proceeding.</p> </blockquote> <ul> <li> <p>A Raspberry Pi 4 Model B, or Pi 3 Model B or B+ (obviously!). For simplicity, I am going to assume that you will be logging into the image (at least initially) via an (HDMI) screen and (USB) keyboard connected directly to your Pi, rather than e.g. via <code>ssh</code> (although, for completeness, it <em>is</em> possible to <code>ssh</code> in via the Ethernet interface (which has a DHCP client running), if you can determine the allocated IP address, for example from your router, or via <a href=https://security.stackexchange.com/a/36200><code>nmap</code></a>). A <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=63&t=138636">decent power supply</a> is recommended.</p> </li> <li> <p>A PC to decompress the image and write it to the microSD card. This is most easily done on a Linux machine of some sort, but it is straightforward on a Windows or Mac box too (for example, by using <a href=https://etcher.io>Etcher</a>, which is a nice, all-in-one cross-platform graphical tool for exactly this purpose - it's free and open-source; or, bzt's <a href=https://gitlab.com/bztsrc/usbimager>usbimager</a>, a very lightweight cross-platform open source image writer). In the instructions below I'm going to assume you're using Linux.</p> <blockquote> <p>It is possible to use your Raspberry Pi for this task too, if you have an external card reader attached, or if you have your root on e.g. USB (and take care to unmount your existing /boot directory before removing the original microSD card), or are booted directly from USB. Most users will find it simplest to write the image on a PC, however.</p> </blockquote> </li> </ul> <h2 id=downloading-and-writing-the-image>Downloading and Writing the Image<a class=headerlink href=#downloading-and-writing-the-image title="Permanent link">&para;</a></h2> <p>Choose either the full (recommended for most users) or 'lite' (command-line only) variant, then follow the appropriate instructions below (<a href=#regularimage>full</a> or <a href=#liteimage>lite</a>).</p> <blockquote> <p>If you are using a Windows or Mac box, or prefer to use a GUI tool in Linux, I recommend you download your preferred image via your web browser using the <a href=#downloadlinks>links</a> above, and then check out either of the the free, open-source, cross-platform tools <a href=https://etcher.io>Etcher</a> or <a href=https://gitlab.com/bztsrc/usbimager>usbimager</a> to write it to microSD card. Then, once you've done that, continue reading at <a href=#booting>"Booting!"</a> below.</p> <p>Alternatively, for those who prefer the Raspberry Pi <a href=https://www.raspberrypi.org/documentation/installation/noobs.md>NOOBS</a> installer GUI, both images are now available for installation using <a href=https://github.com/procount/pinn>PINN</a> (called <code>gentoo64</code> and <code>gentoo64lite</code> there). PINN is a fork of NOOBS and includes a number of additional advanced features. Please see <a href=https://forums.gentoo.org/viewtopic-p-8122236.html#8122236>this post</a> for further details. <em>Many thanks to <a href=https://github.com/procount>procount</a> for his work on this.</em></p> </blockquote> <h3 id=full-image-genpi64imgxz><a id=regularimage></a>Full Image (<code>genpi64.img.xz</code>)<a class=headerlink href=#full-image-genpi64imgxz title="Permanent link">&para;</a></h3> <p>On your Linux box, issue (you may need to be <code>root</code>, or use <code>sudo</code>, for the following, hence the '#' prompt): <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp># </span>wget -c https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64.img.xz
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp># </span>wget -c https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64.img.xz.asc
</code></pre></div></p> <p><img src=https://github.com/sakaki-/resources/raw/master/raspberrypi/pi4/rpi4-desktop.png alt="RPi4 Running Full Image" height=200px align=right></p> <p>to fetch the compressed disk image file (~1,961MiB) and its signature.</p> <p>Next, if you like, verify the image using gpg (this step is optional): <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=gp># </span>gpg --keyserver hkp://ipv4.pool.sks-keyservers.net:80 --recv-key DDE76CEA
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=gp># </span>gpg --verify genpi64.img.xz.asc genpi64.img.xz
</code></pre></div></p> <p>Assuming that reports 'Good signature', you can proceed. (Warnings that the key is "not certified with a trusted signature" are normal and <a href=http://security.stackexchange.com/questions/6841/ways-to-sign-gpg-public-key-so-it-is-trusted>may be ignored</a>.)</p> <p>Next, insert (into your Linux box) the microSD card on which you want to install the image, and determine its device path (this will be something like <code>/dev/sdb</code>, <code>/dev/sdc</code> etc. (if you have a <a href=http://linux-sunxi.org/Bootable_SD_card#Introduction>USB microSD card reader</a>), or perhaps something like <code>/dev/mmcblk0</code> (if you have e.g. a PCI-based reader); in any case, the actual path will depend on your system - you can use the <code>lsblk</code> tool to help you). Unmount any existing partitions of the card that may have automounted (using <code>umount</code>). Then issue:</p> <blockquote> <p><strong>Warning</strong> - this will <em>destroy</em> all existing data on the target drive, so please double-check that you have the path correct! As mentioned, it is wise to use a spare microSD card as your target, keeping your existing Raspbian microSD card in a safe place; that way, you can easily reboot back into your existing Raspbian system, simply by swapping back to your old card.</p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=gp># </span>xzcat genpi64.img.xz &gt; /dev/sdX <span class=o>&amp;&amp;</span> sync
</code></pre></div> <p>Substitute the actual microSD card device path, for example <code>/dev/sdc</code>, for <code>/dev/sdX</code> in the above command. Make sure to reference the device, <strong>not</strong> a partition within it (so e.g., <code>/dev/sdc</code> and not <code>/dev/sdc1</code>; <code>/dev/sdd</code> and not <code>/dev/sdd1</code> etc.)</p> <blockquote> <p>If, on your system, the microSD card showed up with a path of form <code>/dev/mmcblk0</code> instead, then use this as the target, in place of <code>/dev/sdX</code>. For this naming format, the trailing digit <em>is</em> part of the drive name (partitions are labelled as e.g. <code>/dev/mmcblk0p1</code>, <code>/dev/mmcblk0p2</code> etc.). So, for example, you might need to use <code>xzcat genpi64.img.xz &gt; /dev/mmcblk0 &amp;&amp; sync</code>.</p> </blockquote> <p>The above <code>xzcat</code> to the microSD card will take some time, due to the decompression (it takes between 5 and 25 minutes on my machine, depending on the microSD card used). It should exit cleanly when done - if you get a message saying 'No space left on device', then your card is too small for the image, and you should try again with a larger capacity one.</p> <blockquote> <p><a id=morespace></a>Note that on first boot, the image will <em>automatically</em> attempt to resize its root partition (which, in this image, includes <code>/home</code>) to fill all remaining free space on the microSD card, by running <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-apps/rpi3-init-scripts/files/init.d_autoexpand_root-4>this startup service</a>; if you <em>do not</em> want this to happen (for example, because you wish to add extra partitions to the microSD card later yourself), then simply <strong>rename</strong> the (empty) sentinel file <code>autoexpand_root_partition</code> (in the top level directory of the <code>vfat</code> filesystem on the first partition of the microSD card) to <code>autoexpand_root_none</code>, before attempting to boot the image for the first time.</p> </blockquote> <p>Now continue reading at <a href=#booting>"Booting!"</a> below.</p> <h3 id=lite-image-genpi64liteimgxz><a id=liteimage></a>Lite Image (<code>genpi64lite.img.xz</code>)<a class=headerlink href=#lite-image-genpi64liteimgxz title="Permanent link">&para;</a></h3> <blockquote> <p>Please note: this image boots to a command line, not a GUI, and is only suitable for experienced Gentoo users. If unsure, choose the <a href=#regularimage>full image</a> above, instead.</p> </blockquote> <p>On your Linux box, issue (you may need to be <code>root</code>, or use <code>sudo</code>, for the following, hence the '#' prompt): <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=gp># </span>wget -c https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64lite.img.xz
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=gp># </span>wget -c https://github.com/sakaki-/gentoo-on-rpi-64bit/releases/download/v1.6.0/genpi64lite.img.xz.asc
</code></pre></div></p> <p><img src=https://github.com/sakaki-/resources/raw/master/raspberrypi/pi4/rpi4-console.png alt="[RPi4 Running Lite Image]" height=200px align=right></p> <p>to fetch the compressed disk image file (~755MiB) and its signature.</p> <p>Next, if you like, verify the image using gpg (this step is optional): <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=gp># </span>gpg --keyserver hkp://ipv4.pool.sks-keyservers.net:80 --recv-key DDE76CEA
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=gp># </span>gpg --verify genpi64lite.img.xz.asc genpi64lite.img.xz
</code></pre></div></p> <p>Assuming that reports 'Good signature', you can proceed. (Warnings that the key is "not certified with a trusted signature" are normal and <a href=http://security.stackexchange.com/questions/6841/ways-to-sign-gpg-public-key-so-it-is-trusted>may be ignored</a>.)</p> <p>Next, insert (into your Linux box) the microSD card on which you want to install the image, and determine its device path (this will be something like <code>/dev/sdb</code>, <code>/dev/sdc</code> etc. (if you have a <a href=http://linux-sunxi.org/Bootable_SD_card#Introduction>USB microSD card reader</a>), or perhaps something like <code>/dev/mmcblk0</code> (if you have e.g. a PCI-based reader); in any case, the actual path will depend on your system - you can use the <code>lsblk</code> tool to help you). Unmount any existing partitions of the card that may have automounted (using <code>umount</code>). Then issue:</p> <blockquote> <p><strong>Warning</strong> - this will <em>destroy</em> all existing data on the target drive, so please double-check that you have the path correct! As mentioned, it is wise to use a spare microSD card as your target, keeping your existing Raspbian microSD card in a safe place; that way, you can easily reboot back into your existing Raspbian system, simply by swapping back to your old card.</p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=gp># </span>xzcat genpi64lite.img.xz &gt; /dev/sdX <span class=o>&amp;&amp;</span> sync
</code></pre></div> <p>Substitute the actual microSD card device path, for example <code>/dev/sdc</code>, for <code>/dev/sdX</code> in the above command. Make sure to reference the device, <strong>not</strong> a partition within it (so e.g., <code>/dev/sdc</code> and not <code>/dev/sdc1</code>; <code>/dev/sdd</code> and not <code>/dev/sdd1</code> etc.)</p> <blockquote> <p>If, on your system, the microSD card showed up with a path of form <code>/dev/mmcblk0</code> instead, then use this as the target, in place of <code>/dev/sdX</code>. For this naming format, the trailing digit <em>is</em> part of the drive name (partitions are labelled as e.g. <code>/dev/mmcblk0p1</code>, <code>/dev/mmcblk0p2</code> etc.). So, for example, you might need to use <code>xzcat genpi64lite.img.xz &gt; /dev/mmcblk0 &amp;&amp; sync</code>.</p> </blockquote> <p>The above <code>xzcat</code> to the microSD card will take some time, due to the decompression (it takes between 5 and 10 minutes on my machine, depending on the microSD card used). It should exit cleanly when done - if you get a message saying 'No space left on device', then your card is too small for the image, and you should try again with a larger capacity one.</p> <blockquote> <p>Note that on first boot, the image will <em>automatically</em> attempt to resize its root partition (which, in this image, includes <code>/home</code>) to fill all remaining free space on the microSD card, by running <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-apps/rpi3-init-scripts/files/init.d_autoexpand_root-4>this startup service</a>; if you <em>do not</em> want this to happen (for example, because you wish to add extra partitions to the microSD card later yourself), then simply <strong>rename</strong> the (empty) sentinel file <code>autoexpand_root_partition</code> (in the top level directory of the <code>vfat</code> filesystem on the first partition of the microSD card) to <code>autoexpand_root_none</code>, before attempting to boot the image for the first time.</p> </blockquote> <p>Now continue reading at <a href=#booting>"Booting!"</a>, immediately below. Note, however, that in the case of this 'lite' image, after the startup / resize process has completed, you will be landed at a console login prompt (although it is simple enough to <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Setup-a-Simple-X11-Desktop-Environment-on-the-Lite-Image>parlay to a basic X11 desktop</a> if you wish). The login credentials are the same as for the full image, <em>viz.</em>: * default user <strong>demouser</strong>, password <strong>raspberrypi64</strong>; * <strong>root</strong> user password also <strong>raspberrypi64</strong>.</p> <blockquote> <p>Hint: you can use the bundled tool <code>nmtui</code> to easily establish a WiFi network connection from the command line.</p> <p>Hint: if you wish to use your RPi&frac34; in a <em>headless</em> context, as of v1.5.2 of the image you can edit the file <code>startup.sh</code> on the first partition, to e.g. set up fixed network IP addresses, specify WiFi login passphrases etc. The file can be edited on any PC (since the first partition is formatted FAT) and you need to make any changes prior to first boot. The shipped <code>startup.sh</code> contains a <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-apps/rpi-onetime-startup/files/startup.sh-2>number of (commented) examples</a> to help get you oriented. Users booting the image on a system with attached mouse, keyboard and monitor can ignore this facility of course, since networking can be configured via the GUI, once booted.</p> </blockquote> <h2 id=booting><a id=booting></a>Booting!<a class=headerlink href=#booting title="Permanent link">&para;</a></h2> <p>Begin with your RPi4 (or RPi3) powered off. Remove the current (Raspbian or other) microSD card from the board (if fitted), and store it somewhere safe.</p> <p>Next, insert the (Gentoo) microSD card you just wrote the image to into the Pi. Ensure you have peripherals connected (with the main display plugged into the <strong>HDMI0</strong> port - the one nearer the USB-C power connector - if using an RPi4), and apply power.</p> <p>You should see the Pi's standard 'rainbow square' on-screen for about 2 seconds, then the display will go blank for about 10 seconds, and then (once the graphics driver has loaded) a text console will appear, showing OpenRC starting up. On this first boot (unless you have renamed the sentinel file <code>autoexpand_root_partition</code> in the microSD card's first partition to <code>autoexpand_root_none</code>), the system will, after a further 10 seconds or so, <em>automatically resize</em> the root partition to fill all remaining free space on the drive, and, having done this, reboot (to <a href=http://unix.stackexchange.com/questions/196435/is-it-possible-to-enlarge-the-partition-without-rebooting>allow the kernel to see</a> the new partition table). You should then see the 'rainbow square' startup sequence once more, and then the system will resize its root filesystem, to fill the newly enlarged partition. Once this is done, it will launch a standard Xfce desktop, logged in automatically to the pre-created <code>demouser</code> account. A simple configuration application will also be autostarted; this allows you to e.g. change screen resolution, if required:</p> <p><img src=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi4/xfce-desktop-small.png alt="[Baseline Xfce desktop]" width=960px></p> <blockquote> <p>If your display looks OK, there's no need to make any changes immediately - just click <kbd>OK</kbd> to dismiss the welcome dialog, and then click on the <kbd>Cancel</kbd> button to close out the configuration tool itself.</p> </blockquote> <p>The whole process (from first power on to graphical desktop) should take less than three minutes or so (on subsequent reboots, the resizing process will not run, so startup will be a <em>lot</em> faster).</p> <blockquote> <p>The initial <strong>root</strong> password on the image is <strong>raspberrypi64</strong>. The password for <strong>demouser</strong> is also <strong>raspberrypi64</strong> (you may need this if e.g. the screen lock comes on; you can also do <code>sudo su --login root</code> to get a root prompt at the terminal, without requiring a password). These passwords are set by the <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-apps/rpi3-init-scripts/files/init.d_autoexpand_root-4><code>autoexpand-root</code></a> startup service. Note that the screensaver for <code>demouser</code> has been disabled by default on the image.</p> <p>NB - if your connected computer monitor or TV output appears <strong>flickering or distorted</strong>, you may need to change the settings in the file <code>config.txt</code>, located in the microSD card's first partition (this partition is formatted <code>vfat</code> so you should be able to edit it on any PC; alternatively, when booted into the image, it is available at <code>/boot/config.txt</code>). Any changes made take effect on the next restart. For an explanation of the various options available in <code>config.txt</code>, please see <a href=https://www.raspberrypi.org/documentation/configuration/config-txt/README.md>these notes</a> (the <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-boot/rpi3-boot-config/files/config.txt-9>shipped defaults</a> should work fine for most users, however). As of v1.3.1 of this image, you can also use the bundled GUI tool (shown in the screenshot above) to modify (some of) these settings. The program, <code>pyconfig_gen</code>, is, as noted, automatically started on first login, and is available under <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd>.</p> <p>If the edges of the desktop appear "clipped" by your display (this mostly happens when using HDMI TVs), issue <code>sudo mousepad /boot/config.txt</code>, comment out the line <code>disable_overscan=1</code> (so it reads instead <code>#disable_overscan=1</code>), save the file, and then reboot (from v1.3.1, you can also enable and configure overscan via the <kbd>Rpi Config Tool</kbd>, as noted above). Please note that with modern boot firmware, <a href=https://github.com/raspberrypi/linux/issues/3059#issuecomment-510108535>overscan is ignored</a> if a DMT mode is set.</p> <p>Tip: if you'd like to set up a persistent dual-monitor setup on an RPi4, please see my short tutorial on this project's open wiki <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Dual-Displays-on-your-RPi4>here</a> (this also contains useful hints for setting up a single display).</p> </blockquote> <h2 id=using-gentoo><a id=using_gentoo></a>Using Gentoo<a class=headerlink href=#using-gentoo title="Permanent link">&para;</a></h2> <p>The supplied image contains a fully-configured <code>~arm64</code> Gentoo system (<em>not</em> simply a <a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Media#Minimal_installation_CD>minimal install</a> or <a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Media#What_are_stages_then.3F>stage 3</a>), with a complete Portage tree already downloaded, so you can immediately perform <code>emerge</code> operations etc. Be aware that, as shipped, it uses <strong>UK locale settings, keyboard mapping, timezone and WiFi regulatory domain</strong>; however, these are easily changed if desired. See the Gentoo Handbook (<a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Base#Timezone>here</a> and <a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/System#Init_and_boot_configuration>here</a>) for details on the first three; to customize the WiFi regulatory domain, start the <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd> app, select the <kbd>WiFi</kbd> tab, choose your location from the drop-down, click <kbd>Save and Exit</kbd>, and reboot when prompted.</p> <blockquote> <p>Please note that for non-UK keyboards, <strong>prior</strong> to v1.5.4 of the image, you will also need to edit the file <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code> and replace <code>gb</code> in the line <code>Option "XkbLayout" "gb"</code> with the appropriate code from <a href=https://pastebin.com/v2vCPHjs>this list</a>. Leave the rest of the file as-is, save, then reboot for the change to take effect. You will need to be the <code>root</code> user, or use <code>sudo</code> to edit this file (e.g., type <code>sudo mousepad /etc/X11/xorg.conf.d/00-keyboard.conf</code> in a terminal). <strong>From</strong> v1.5.4 however, a simpler GUI-driven method is available. Simply click <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>Keyboard</kbd>, select the <kbd>Layout</kbd> tab, ensure <kbd>Use system defaults</kbd> is <em>unchecked</em>, and then, in the <kbd>Keyboard layout</kbd> section, click on <kbd>Add</kbd> to insert the layouts you need to use. For example, the image has <code>English (UK)</code> and <code>English (US)</code> selected, but you should obviously choose whatever works for you. Do not add more than four layouts (or the switcher plugin will not work correctly). You can use the arrow keys to re-order the list (if you have more than one layout); the one at the <em>top</em> will be the default activated at login time. Once done, click on <kbd>Close</kbd> to dismiss the dialog. You should now find that you can switch layouts (if you have specified more than one) either by clicking on the top panel-bar keyboard plugin (the one next to the <code>Demo User</code> text on the far right) or by pressing the hotkey (by default, this is <kbd>Windows Key</kbd><kbd>Space</kbd>).</p> </blockquote> <p>If you have an RPi4, and would like to configure a <strong>dual monitor</strong> setup, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Dual-Displays-on-your-RPi4>these notes</a> (also contains some useful hints for single monitor deployment, applicable to all models).</p> <p>If you wish to add Bluetooth peripherals (e.g., a wireless mouse and/or keyboard) to your RPi, please see <a href=#add_bt_device>below</a>.</p> <p>If you would like to run <strong>benchmarks</strong> on your RPi system, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Effective-Benchmarking-on-your-64-Bit-RPi-System>these notes</a>.</p> <p>For hardware-accelerated YouTube playback, please see <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1589280#p1589280">this post</a>. Also please note that as of v1.5.4 of the image, you can (particularly on a Pi4B with a fast Internet connection) use <kbd>Applications</kbd>&rarr;<kbd>Internet</kbd>&rarr;<kbd>SMTube (YouTube, Hi-Res)</kbd> to play back videos from YouTube in 1080p, where available; this is significantly better than the currently bundled browsers (Firefox and Chromium) can achieve.</p> <p>The <code>@world</code> set of packages (from <code>/var/lib/portage/world</code>) pre-installed on the image may be viewed <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/world-packages>here</a> (note that the version numbers shown in this list are Gentoo ebuilds, but they generally map 1-to-1 onto upstream package versions).</p> <blockquote> <p>The <em>full</em> package list for the image (which includes <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/system title="GitHub User: system">@system</a> and dependencies) may also be viewed, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/world-all-packages>here</a>.</p> </blockquote> <p>The system on the image has been built via a minimal install system and stage 3 from Gentoo (<code>arm64</code>, available <a href=http://distfiles.gentoo.org/experimental/arm64/ >here</a>), but <em>all</em> binaries (libraries and executables) have been rebuilt (with profile 17.0) to run optimally on the Raspberry Pi 4 B's Cortex-A72-based SoC, while still retaining backwards compatibility with the older Pi 3 (B and B) model's Cortex-A53. The <code>/etc/portage/make.conf</code> file used on the image may be viewed <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/make.conf>here</a>, augmented by the <a href=#profile>custom profile's</a> <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3/make.defaults><code>make.defaults</code></a>. The <code>CHOST</code> on the image is <code>aarch64-unknown-linux-gnu</code> (per <a href=https://wiki.gentoo.org/wiki/User:NeddySeagoon/Pi3#Getting_Started>these notes</a>). All packages have been brought up to date against the Gentoo tree as of 11 June 2020. The image contains <em>two</em> kernels: one (<a href=https://github.com/sakaki-/bcmrpi3-kernel-bis><code>bcmrpi3-kernel-bis</code></a>) is used when booting on the RPi3 B/B+, and the other (<a href=https://github.com/sakaki-/bcm2711-kernel-bis><code>bcm2711-kernel-bis</code></a>) when booting on an RPi4. The correct kernel is chosen automatically at boot time. Each kernel has a distinct release name, and so a separate module set in <code>/lib/modules/</code>.</p> <blockquote> <p>Note: the <code>CFLAGS</code> used for the image build is <code>-march=armv8-a+crc -mtune=cortex-a72 -O2 -pipe</code>. You can of course re-build selective components with more aggressive flags yourself, should you choose. As the SIMD FPU features are standard in ARMv8, there is no need for <code>-mfpu=neon mfloat-abi=hard</code> etc., as you would have had on e.g. the 32-bit ARMv7a architecture. Note that AArch64 NEON also has a full IEEE 754-compliant mode (including handling denormalized numbers etc.), there is also no need for <code>-ffast-math</code> flag to fully exploit the FPU either (again, unlike earlier ARM systems). Please refer to the official <a href=http://infocenter.arm.com/help/topic/com.arm.doc.den0024a/DEN0024A_v8_architecture_PG.pdf>Programmer’s Guide for ARMv8-A</a> for more details. Neither the Pi3 nor Pi4 is shipped with the ARMv8 hardware crypto extensions enabled, unfortunately.</p> </blockquote> <p>When logged in as <code>demouser</code>, it is sensible to change the password (from <code>raspberrypi64</code>) and <code>root</code>'s password (also from <code>raspberrypi64</code>). Open a terminal window and do this now: <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=gp>demouser@pi64 ~ $ </span>passwd
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=go>Changing password for demouser.</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class="gp gp-VirtualEnv">(current)</span> <span class=go>UNIX password: &lt;type raspberrypi64 and press Enter&gt;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=go>New password: &lt;type your desired password, and press Enter&gt;</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=go>Retype new password: &lt;type the desired password again, and press Enter&gt;</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=go>passwd: password updated successfully</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=gp>demouser@pi64 ~ $ </span>su -
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=go>Password: &lt;type raspberrypi64 and press Enter, to become root&gt;</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=go>pi64 ~ # passwd</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=go>New password: &lt;type your desired password for root, and press Enter&gt;</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=go>Retype new password: &lt;type the desired root password again, and press Enter&gt;</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=go>passwd: password updated successfully</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=go>pi64 ~ # exit</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=go>logout</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=gp>demouser@pi64 ~ $</span>
</code></pre></div></p> <p><a id=add_new_account></a>If you want to create your own account, you can do so easily. Open a terminal, su to root, then issue (adapting with your own details, obviously!): <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=go>pi64 ~ # useradd --create-home --groups &quot;adm,disk,lp,wheel,audio,video,cdrom,usb,users,plugdev,portage,cron,gpio,i2c,spi&quot; --shell /bin/bash --comment &quot;Sakaki&quot; sakaki</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=go>pi64 ~ # passwd sakaki</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=go>New password: &lt;type your desired password for the new user, and press Enter&gt;</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=go>Retype new password: &lt;type the desired password again, and press Enter&gt;</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=go>passwd: password updated successfully</span>
</code></pre></div></p> <p>You can then log out of <code>demouser</code>, and log into your new account, using the username and password just set up. When prompted with the <code>Welcome to the first start of the panel</code> dialog, select <kbd>Use default config</kbd>, as this provides a useful 'starter' layout.</p> <blockquote> <p><a id=black_background_first_login></a>Depending on how quickly you select <kbd>Use default config</kbd>, you <em>may</em> find you are left with a black desktop background. This issue should resolve itself after your next login, however.</p> </blockquote> <p>Then, once logged in, you can delete the <code>demouser</code> account if you like. Open a terminal, <code>su</code> to root, then: <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=go>pi64 ~ # userdel --remove demouser</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=go>userdel: demouser mail spool (/var/spool/mail/demouser) not found</span>
</code></pre></div></p> <blockquote> <p>The mail spool warning may safely be ignored. Also, if you want your new user to be automatically logged in on boot (as <code>demouser</code> was), substitute your new username for <code>demouser</code> in the file <code>/etc/lightdm/lightdm.conf.d/50-autologin-demouser.conf</code> (and if you do <em>not</em> want autologin, this file may safely be deleted).</p> </blockquote> <p>One hint worth bearing in mind: desktop compositing is on for new users by default (unless you are using a Pi3 and have a very high-resolution display, when it will automatically be turned off for you). This gives nicely rendered window shadows etc. but if you find video playback framerates (from <code>VLC</code> etc.) are too slow, try turning it off (<kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>Window Manager Tweaks</kbd>, <kbd>Compositor</kbd> tab).</p> <blockquote> <p>Note that as of version 1.1.2 of the image, a number of Xfce 'fixups' will automatically be applied when a new user logs in for the first time; these include:<br>1) synchronizing compositing to the vertical blank (without which menus flash annoyingly under VC4);<br>2) setting window move and resize opacity levels; and<br>3) ensuring the desktop background displays on login (otherwise it often stays black; note that this fix sometimes does not work for the <em>first</em> login of a new user, as noted <a href=black_background_first_login>above</a>).<br>They are managed by the <code>xfce-extra/xfce4-fixups-rpi3</code> package (which inserts an entry into <code>/etc/xdg/autostart/</code>).</p> </blockquote> <h2 id=keeping-your-system-up-to-date><a id=weekly_update></a>Keeping Your System Up-To-Date<a class=headerlink href=#keeping-your-system-up-to-date title="Permanent link">&para;</a></h2> <p>You can update your system at any time. As there are quite a few steps involved to do this correctly on Gentoo, I have provided a convenience script, <code>genup</code> (<a href=https://github.com/sakaki-/genup>source</a>, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/genup.pdf>manpage</a>) to do this as part of the image.</p> <p>Note that <strong>by <a href=#why_weekly_update>default</a>, this script will run automatically once per week, commencing the second week after first boot</strong> (see the task installed in <code>/etc/cron.weekly</code>). Review the logfile <code>/var/log/latest-genup-run.log</code> to see changes made by the latest auto-update run.</p> <blockquote> <p>As of version 1.3.0 of the image, a number of additional 'fixups' will also be applied weekly - these are small scripts (which may be viewed <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/app-portage/weekly-genup/files>here</a>) used to address emergent issues that e.g. may prevent your system updating correctly. The output may be reviewed in <code>/var/log/latest-fixup-run.log</code>. Disabling auto-updating (see text immediately below) will also disable the fixup cronjob.</p> </blockquote> <p><a id=disable_weekly_update></a>If you would rather <em>not</em> use auto-updating, simply edit the file <code>/etc/portage/package.use/rpi-64bit-meta</code> so it reads (the relevant line is the last one): <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Enable/disable any metapackage USE flags you want here, and then</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=c1># re-emerge dev-embedded/rpi-64bit-meta to have the effect taken up</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=c1># e.g. you might set (uncommented):</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=c1>#</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=c1>#    dev-embedded/rpi-64bit-meta -weekly-genup</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=c1>#</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=c1># to disable the automated weekly genup (package update)</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=c1># run.</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=c1>#</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=c1># Unless you override them, the default metapackage flags are used.</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=c1># At the time of writing, those are (default flag status shown as + or -):</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=c1>#</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=c1>#  + boot-fw : pull in the /boot firmware, configs and bootloader</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=c1>#  + kernel-bin : pull in the binary kernel package</span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=c1>#  - porthash : pull in repo signature checker, for isshoni.org rsync</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=c1>#  + weekly-genup: pull in cron.weekly script, to run genup automatically</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=c1>#  + innercore: pull in essential system packages for image (RPi initscripts etc.)</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=c1>#  + core: pull in main packages for image (clang etc.) (requires innercore)</span>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=c1>#  + xfce: pull in packages for baseline Xfce4 system (requires core)</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a><span class=c1>#  - pitop: pull in Pi-Top support packages (NB most users will NOT want this;</span>
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a><span class=c1>#      the Pi-Top is a DIY laptop kit based around the RPi3) (requires xfce)</span>
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=c1>#  - apps: pull in baseline desktop apps (libreoffice etc.) (requires xfce)</span>
<a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a><span class=c1>#</span>
<a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a><span class=c1># NB the main point of the core, xfce, pitop and apps USE flags is just to let</span>
<a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a><span class=c1># you reduce what is in your @world set (/var/lib/portage/world).</span>
<a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>dev-embedded/rpi-64bit-meta -weekly-genup
</code></pre></div></p> <p>Then re-emerge the meta package, which will remove the <code>cron</code> entry (NB: doing it this way ensures the entry <em>stays</em> removed, even if you later manually update your system): <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=go>pi64 ~ # emerge -v rpi-64bit-meta</span>
</code></pre></div></p> <p>Of course, you can always use <code>genup</code> directly (as root) to update your system at any time. See the <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/genup.pdf>manpage</a> for full details of the process followed, and the options available for the command.</p> <blockquote> <p>Bear in mind that a <code>genup</code> run will take around three to six hours to complete, even if all the necessary packages are available as binaries on the <a href=#binhost>binhost</a>. Why? Well, since Gentoo's <a href=https://wiki.gentoo.org/wiki/Portage>Portage</a> - unlike most package managers - gives you the flexibility to specify which package versions and configuration (via USE flags) you want, it has a nasty graph-theoretic problem to solve each time you ask to upgrade (and it is mostly written in Python too, which doesn't help <sup>-</sup>). Also, many of the binary packages are themselves quite large (for example, the current <code>libreoffice</code> binary package is &gt;100MiB) and so time-consuming to download (unless you have a very fast Internet connection).</p> </blockquote> <p>When an update run has completed, if prompted to do so by genup (directly, or at the tail of the <code>/var/log/latest-genup-run.log</code> logfile), then issue: <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=go>pi64 ~ # dispatch-conf</span>
</code></pre></div> to deal with any config file clashes that may have been introduced by the upgrade process.</p> <p>For more information about Gentoo's package management, see <a href="https://wiki.gentoo.org/wiki/Sakaki's_EFI_Install_Guide/Installing_the_Gentoo_Stage_3_Files#Gentoo.2C_Portage.2C_Ebuilds_and_emerge_.28Background_Reading.29">my notes here</a>.</p> <blockquote> <p>You may also find it useful to keep an eye on this project's (sticky) thread in the 'Gentoo on ARM' forum at <a href=https://forums.gentoo.org/viewtopic-t-1098232.html>gentoo.org</a>, as I occasionally post information about this project there.</p> </blockquote> <h3 id=installing-new-packages-under-gentoo>Installing New Packages Under Gentoo<a class=headerlink href=#installing-new-packages-under-gentoo title="Permanent link">&para;</a></h3> <blockquote> <p>The following is only a <em>very</em> brief intro to get you started. For more information, see the <a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Working/Portage>Gentoo handbook</a>.</p> </blockquote> <p>You can add any additional packages you like to your RPi. To search for available packages, you can use the (pre-installed) <a href=https://wiki.gentoo.org/Eix><code>eix</code> tool</a>. For example, to search for all packages with 'hex editor' in their description:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=gp>demouser@pi64 ~ $ </span>eix --description --compact <span class=s2>&quot;hex.editor&quot;</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=go>[N] app-editors/curses-hexedit (--): full screen curses hex editor (with insert/delete support)</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=go>[N] app-editors/dhex (--): ncurses-based hex-editor with diff mode</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=go>[N] app-editors/hexcurse (--): ncurses based hex editor</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=go>[N] app-editors/lfhex (--): A fast hex-editor with support for large files and comparing binary files</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=go>[N] app-editors/qhexedit2 (--): Hex editor library, Qt application written in C++ with Python bindings</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=go>[N] app-editors/shed (--): Simple Hex EDitor</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=go>[N] app-editors/wxhexeditor (--): A cross-platform hex editor designed specially for large files</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=go>[N] dev-util/bless (--): GTK# Hex Editor</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=go>Found 8 matches</span>
</code></pre></div> (your output may vary).</p> <p>Then, suppose you wanted to find out more about one of these, say <code>shed</code>:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=gp>demouser@pi64 ~ $ </span>eix --verbose app-editors/shed
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=go>* app-editors/shed</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=go>     Available versions:  *1.12 *1.13 ~*1.15</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=go>     Homepage:            http://shed.sourceforge.net/</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=go>     Find open bugs:      https://bugs.gentoo.org/buglist.cgi?quicksearch=app-editors%2Fshed</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=go>     Description:         Simple Hex EDitor</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=go>     License:             GPL-2</span>
</code></pre></div> (again, your output may vary, depending upon the state of the Gentoo repo at the time you run the query, your version of <code>eix</code>, etc.)</p> <p>That '*' in front of versions 1.12 and 1.13 indicates that the package has <em>not</em> yet been reviewed by the Gentoo devs for the <code>arm64</code> architecture, but that its versions 1.12 and 1.13 <em>have</em> been reviewed as stable for some other architectures (in this case, <code>amd64</code>, <code>ppc</code> and <code>x86</code> - you can see this by reviewing the matching ebuilds, at <code>/usr/portage/app-editors/shed/shed-1.12.ebuild</code> and <code>/usr/portage/app-editors/shed/shed-1.13.ebuild</code>). Version 1.15 is also marked as being in testing (the '~*') for those (other) architectures.</p> <p>However, you will find that most packages (which don't have e.g. processor-specific assembly or 32-bit-only assumptions) <em>will</em> build fine on <code>arm64</code> anyway, you just need to tell Gentoo that it's OK to try.</p> <p>To do so for this package, become root, then issue:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=go>pi64 ~ # echo &quot;app-editors/shed * ~*&quot; &gt;&gt; /etc/portage/package.accept_keywords/shed</span>
</code></pre></div> <blockquote> <p>The above means to treat as an acceptable build candidate any version marked as <em>stable</em> on any architecture (the '<em>\') or as *testing</em> on any architecture (the '~*'). The second does <em>not</em> imply the first - for example, <code>shed-1.12</code> is not marked as testing on any architecture at the time of writing, so just '~*' wouldn't match it.</p> </blockquote> <p>Then you can try installing it, using <a href=https://wiki.gentoo.org/wiki/Portage><code>emerge</code></a>: <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=go>pi64 ~ # emerge --verbose app-editors/shed</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=go>These are the packages that would be merged, in order:</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=go>Calculating dependencies... done!</span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=go>[ebuild  N    *] app-editors/shed-1.15::gentoo  86 KiB</span>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=go>Total: 1 package (1 new), Size of downloads: 86 KiB</span>
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>
<a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=go>&gt;&gt;&gt; Verifying ebuild manifests</span>
<a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=go>&gt;&gt;&gt; Emerging (1 of 1) app-editors/shed-1.15::gentoo</span>
<a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=go>&gt;&gt;&gt; Installing (1 of 1) app-editors/shed-1.15::gentoo</span>
<a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=go>&gt;&gt;&gt; Recording app-editors/shed in &quot;world&quot; favorites file...</span>
<a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=go>&gt;&gt;&gt; Jobs: 1 of 1 complete                           Load avg: 1.25, 0.56, 0.21</span>
<a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=go>&gt;&gt;&gt; Auto-cleaning packages...</span>
<a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>
<a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=go>&gt;&gt;&gt; No outdated packages were found on your system.</span>
<a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>
<a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=go> * GNU info directory index is up-to-date.</span>
</code></pre></div></p> <p>Once this completes, you can use your new package!</p> <blockquote> <p>Note that if you intend to install complex packages, you may find it easier to set <code>ACCEPT_KEYWORDS="* ~*"</code> in <code>/etc/portage/make.conf</code>, since many packages are not yet keyworded for <code>arm64</code> yet on Gentoo. Obviously, this will throw up some false positives, but it will also mostly prevent Portage from suggesting you pull in 'live' (aka <code>-9999</code>, aka current-tip-of-source-control) ebuilds, which can easily create a nasty dependency tangle.</p> </blockquote> <p>Once you get a package working successfully, you can then explicitly keyword its dependencies if you like (in <code>/etc/portage/package.accept_keywords/...</code>), rather than relying on <code>ACCEPT_KEYWORDS="* ~*"</code> in <code>/etc/portage/make.conf</code>. Should you do so, please feel free to file a PR against the <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3><code>genpi64:default/linux/arm64/17.0/desktop/genpi64</code> profile</a> with your changes, so that others can benefit (I intend to submit keywords from this profile to be considered for inclusion in the main Gentoo tree, in due course).</p> <p>Have fun! <sup>-</sup></p> <blockquote> <p>If you need to install a particular package that isn't currently in the Gentoo tree, note that it <em>is</em> possible to install binary packages from Raspbian (or other 32-bit repos) on your 64-bit system. For further details, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Running-32-bit-Raspbian-Packages-on-your-64-bit-Gentoo-System>these notes</a>.</p> <p>Alternatively, to install source packages with highly resource-intensive build profiles (such as <code>dev-lang/rust</code>), you can temporarily mount the image within a <code>binfmt_misc</code> QEMU user-mode <code>chroot</code> on your Linux PC, and perform the <code>emerge</code> there. This technique allows you to easily leverage the increased memory and CPU throughput of your regular desktop machine. For further details, please see my wiki tutorial <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Build-aarch64-Packages-on-your-PC%2C-with-User-Mode-QEMU-and-binfmt_misc>here</a>.</p> </blockquote> <h2 id=miscellaneous-configuration-notes-hints-and-tips-skip>Miscellaneous Configuration Notes, Hints, and Tips (&darr;<a href=#maintnotes>skip</a>)<a class=headerlink href=#miscellaneous-configuration-notes-hints-and-tips-skip title="Permanent link">&para;</a></h2> <p>You don't need to read the following notes to use the image, but they may help you better understand what is going on!</p> <blockquote> <p>NB some of the following notes need updating for the new 1.6.0 image. I plan to do this shortly.</p> </blockquote> <ul> <li> <p>For simplicity, the image uses a single <code>ext4</code> root partition (includes <code>/home</code>), which <a href=#morespace>by default</a> will be auto-resized to fill all remaining free space on the microSD card on first boot. Also, to allow large packages (such as <code>gcc</code>) to be built from source without running out of memory on smaller systems, a 1 GiB swapfile has been set up at <code>/var/cache/swap/swap1</code>, and on boot this will be auto-resized if necessary, if space becomes tight (by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-expand-swap>this service</a>). Feel free to modify this configuration as desired (for example, you can significantly improve performance under load by setting up a dedicated swap device on a separate bus from the system's rootfs; for details, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Improve-Swap-Perfomance-on-your-RPi>this short tutorial</a>).</p> <blockquote> <p>Incidentally, it <em>is</em> possible to get an RPi3 Model B to boot from a USB drive (no microSD card required); see for example <a href=http://www.makeuseof.com/tag/make-raspberry-pi-3-boot-usb/ >these instructions</a> (try at your own risk!), and furthermore the RPi3 Model B+ can boot a USB-written image <em>without</em> modification, as it has the necessary OTP fuses factory set. Alternatively, you can retain <code>/boot</code> on the microSD card, but use a USB drive for the system root (remember to modify <code>/boot/cmdline.txt</code> and <code>/etc/fstab</code> accordingly, if you choose to go this route). At the time of writing, the RPi4 does not yet support direct USB boot (although this feature is pending, and you can always use the split sys{b,r}oot method just mentioned: NB, <em>if</em> doing so I recommend you use the a USB2 port for your rootfs on the RPi4, until the <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1510558#p1510558">FIQ</a> is implemented on the aarch64 kernel).</p> </blockquote> </li> <li> <p>As of version 1.3.0 of the image, the <a href=https://en.wikipedia.org/wiki/Zswap><code>zswap</code></a> in-memory transparent compressing swap cache is in use. Under most normal workloads, this should improve responsiveness when the system starts to run out of memory, by intercepting swapped-out memory pages, compressing them, and storing them in a dynamic RAM buffer instead of hitting flash. The <code>rpi3-zswap</code> service may be viewed <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-zswap>here</a>, and configured via <code>/etc/conf.d/rpi3-zswap</code>. </p> </li> <li> <p>Because the Pi has no battery-backed real time clock (RTC), I have used the <code>swclock</code> (rather than the more usual <code>hwclock</code>) OpenRC boot service on the image - this simply sets the clock on boot to the recorded last shutdown time. An NTP client, <code>chronyd</code>, is also configured, and this will set the correct time as soon as a valid network connection is established.</p> <blockquote> <p>Note that this may cause a large jump in the time when it syncs, which in turn will make the screensaver lock come on. Not a major problem, but something to be aware of, as it can be quite odd to boot up, log in, and have your screen almost immediately lock! For this reason, the <code>demouser</code> account on the image has the screensaver disabled by default.</p> </blockquote> </li> <li> <p>The image is configured with <code>NetworkManager</code>, so achieving network connectivity should be straightforward. The Ethernet interface is initially configured as a DHCP client, but obviously you can modify this as needed. Use the NetworkManager applet (top right of your screen) to do this; you can also use this tool to connect to a WiFi network.</p> <blockquote> <p>Note that getting WiFi to work on the RPi&frac34; requires appropriate firmware (installed in <code>/lib/firmware/brcm</code>): this is managed by the <code>sys-firmware/brcm43430-firmware</code> package (see <a href=#wifi>below</a>). On the RPi3 B+ and RPi4 B, dual-band WiFi is supported.</p> </blockquote> </li> <li> <p>Bluetooth <em>is</em> operational on this image, but since, by default, the Raspberry Pi 3 <a href=http://www.briandorey.com/post/Raspberry-Pi-3-UART-Overlay-Workaround>uses the hardware UART</a> / <code>ttyAMA0</code> to communicate with the Bluetooth adaptor, the standard serial console does not work and has been disabled (see <code>/etc/inittab</code> and <code>/boot/cmdline.txt</code>). You can of course <a href="https://www.raspberrypi.org/forums/viewtopic.php?t=138120">change this behaviour</a> if access to the hardware serial port is important to you.</p> <blockquote> <p>Bluetooth on the RPi&frac34; also requires a custom firmware upload. This is carried out by a the <code>rpi3-bluetooth</code> OpenRC service, supplied by the <code>net-wireless/rpi3-bluetooth</code> package (see <a href=#bluetooth>below</a>).</p> </blockquote> </li> <li> <p><strong>Tip:</strong> <a id=add_bt_device></a>to connect a new Bluetooth device to your RPi&frac34; (a wireless mouse or keyboard, for example), first click on the Bluetooth icon in the top toolbar. When the <code>Bluetooth Devices</code> panel opens, click on <kbd>Search</kbd>, and make your device discoverable (this will usually involve pressing or holding a button or switch on the device itself), shortly after which it should appear in the listing. Once it does, click on it, then press <kbd>Setup...</kbd>, then ensure the <code>Pair Device</code> radio button is selected, and click <kbd>Next</kbd>. Then, if you are attaching a more complex device such as a keyboard, you'll see a PIN code notification message displayed (simpler devices, such as mice, often don't require a PIN for pairing, in which case no message will show). If you <em>are</em> prompted with a PIN, enter the code given into your device (for a keyboard, this normally means typing it in and pressing <kbd>Enter</kbd>). Once the devices are paired, you'll be prompted where to connect the device to: ensure the <code>Human Interface Device Service (HID)</code> radio button is selected, and click <kbd>Next</kbd>. Hopefully you will then see a message telling you <code>Device added and connected successfully</code>; click <kbd>Close</kbd> to dismiss it. With this done, your new device should start working. However, if you want to have it connect again automatically each boot, there's one more step you need to do. Click on your new device in the list (its icon should now be showing a key symbol, indicating that it is paired), and then click on the <kbd>Trust</kbd> shortcut button (the one that looks like a four-pointed gold star). With this done, your device setup is complete! You can add multiple interface devices to your RPi&frac34; in this manner.</p> </li> <li> <p>The Pi uses the first (<code>vfat</code>) partition of the microSD card (<code>/dev/mmcblk0p1</code>) for booting. The various (closed-source) firmware files pre-installed there may are managed by the <code>sys-boot/rpi3-64bit-firmware</code> package (see <a href=#boot_fw>below</a>). Once booted, this first partition will be mounted at <code>/boot</code>, and you may wish to check or modify the contents of the files <code>/boot/cmdline.txt</code> and <code>/boot/config.txt</code>.</p> </li> <li> <p>Because of licensing issues (specifically, <a href=https://packages.gentoo.org/useflags/bindist><code>bindist</code></a> compliance), Mozilla Firefox Quantum has been distributed in its 'developer' edition - named 'Aurora'. Bear in mind that this app will take quite a long time (20 to 30 seconds on an RPi3, somewhat less on a an RPi4) to start on first use, as it sets up its local storage in <code>~/.mozilla/&lt;...&gt;</code>.</p> </li> <li>As your copy of Firefox is updated, you may see its title-bar name change sometimes to 'Nightly' (where that particular edition is taken from the <a href=https://forums.gentoo.org/viewtopic-p-7304522.html#7304522>eponymous release channel</a>).</li> <li>I have also pre-installed the lighter-weight Links browser on the image, in case you would like to use this in preference to Firefox.</li> <li> <p>For additional security, you can consider running Firefox inside an X11 <code>firejail</code> sandbox. See <a href=https://wiki.gentoo.org/wiki/Sakaki%27s_EFI_Install_Guide/Sandboxing_the_Firefox_Browser_with_Firejail>these notes</a> for further details (the setup described therein <em>will</em> work on <code>arm64</code>; I use it configured that way on my own RPis).</p> </li> <li> <p>As of v1.3.1 of the image, the full-scale browser Chromium is also included on the image. For <code>bindist</code> compliance, I use a <a href=https://github.com/sakaki-/genpi64-overlay/blob/a8e84d5295bd49811456a953514521ba5efa01ba/www-client/chromium/chromium-76.0.3809.87-r1.ebuild#L476-L478>modified</a> ebuild and <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/profiles/targets/rpi3/package.use/chromium>turn off</a> the patent-encumbered <code>h264</code> software codec.</p> </li> <li> <p>It is a similar story with the Mozilla Thunderbird mail client. Its <code>bindist</code>-compliant developer edition (installed on the image) is named 'Earlybird'.</p> </li> <li> <p>Claws Mail has also been pre-installed on the image, if you want a lighter-weight, but still fully featured, mail client.</p> </li> <li> <p>By default, the image uses the Pi's <a href=https://wiki.gentoo.org/wiki/Raspberry_Pi_VC4>VC4 GPU</a> acceleration (VC6 in the Pi4, although it still uses the <code>vc4...</code> kernel modules) in X, which has reasonable support in the 4.19.y kernel and the supplied userspace (via <code>media-libs/mesa</code> ultimately - this has been <a href=https://github.com/sakaki-/genpi64-overlay/blob/a8e84d5295bd49811456a953514521ba5efa01ba/media-libs/mesa/mesa-19.1.4-r1.ebuild#L413>tweaked</a> on the image to include v3d support for the new Pi4). Note however that this is still work in progress, so you may experience issues with certain applications. The image (as shipped) uses the mixed-mode <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=29&t=159853"><code>vc4-fkms-v3d</code></a> overlay / driver (see <code>/boot/config.txt</code>, or <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd>; you can change the driver if you wish to, or are experiencing serious glitches). On my RPi4 B at least, a <code>glxgears</code> score significantly in excess 1000fps can be obtained on an unloaded system (~400fps on a loaded desktop). Incidentally, in normal use the main load is the Xfce window manager's compositor - try turning it off to see (via <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>Window Manager Tweaks</kbd>, <kbd>Compositor</kbd> tab) . YMMV - if you experience problems with this setup (or find that e.g. your system is stuck on the 'rainbow square' at boot time after a kernel update), you can fall-back to the standard framebuffer mode by commenting out the <code>dtoverlay=vc4-fkms-v3d</code> line in <code>/boot/config.txt</code> (i.e., the file <code>config.txt</code> located in the microSD card's first partition).</p> <blockquote> <p>Kodi, VLC and SMPlayer have been pre-installed on the image, and they will all make use of accelerated (Mesa/gl) playback. Because of incompatibilities and periodic crashes when using it, XVideo (xv) mode has been disabled in the X server (<code>/etc/X11/xorg.conf.d/50-disable-Xv.conf</code>); this doesn't really impinge on usability. NB: <strong>if you find video playback framerates too slow</strong>, it is always worth <strong>disabling the window manager's compositor</strong> (see point immediately above) as a first step. Hint: for some video types, SMPlayer and Kodi perform significantly better than VLC, so if you do experience 'glitchy' playback with one media player, try using one of the others.</p> </blockquote> </li> <li> <p>As of v1.4.0 of this image, 'true' kms mode (<code>vc4-kms-v3d</code>) is usable for regular RPi users (this can be easily selected via <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd>). Please note that window manager compositing <em>should be turned off</em> when using this mode, and accordingly, I have modified the existing <a href=#safecompositor>rpi3-safecompositor service</a> to do this automatically.</p> <blockquote> <p>For avoidance of doubt, <strong>f**kms, the shipped default, is unaffected by this. Also please note that Pi-Top users should **not</strong> use the 'true' kms mode; as Pi-Top speaker audio output is not supported under it. Also, since **f**kms mode is the factory default for the Buster release of Raspbian, it is likely to receive the most support going forward, and as such, my recommendation would be to stick with that.</p> </blockquote> </li> <li> <p>ALSA sound on the system is operative and routed by default through the headphone jack on the Pi. If you connect a sound-capable HDMI monitor (or television) sound should automatically also play through that device (in parallel) - at the moment there is only one 'master' volume control available.</p> <blockquote> <p>In addition to Kodi, VLC and SMPlayer (all of which can play audio) the image also includes Clementine, which has good audio library support and is well integrated with on-line music services. NB - on first launch, Clementine sometimes fails to start, if it has difficulties creating its necessary database files. If this occurs, log out, log back in, and try launching Clementine again. Once it has first started successfully (for a given user) the issue disappears.</p> </blockquote> </li> </ul> <blockquote> <p>Hint: if you have headphones connected to your RPi3, but can't hear anything, issue (as the regular user, in a terminal) <code>amixer -c 0 cset numid=3 1</code> to force sound to route to the onboard jack (this will cause HDMI output to be muted too). Issue <code>amixer -c 0 cset numid=3 2</code> to turn HDMI audio output on again (muting the headphones).</p> </blockquote> <ul> <li> <p>As of v1.5.0 of the image, full <code>pulseaudio</code> support has been built into all supplied packages (via a global USE flag).</p> </li> <li> <p>If you are using a Pi-Top chassis, have emerged <code>rpi-64bit-meta</code> with the <code>pitop</code> USE flag set, and have one or more pi-topSPEAKER units plugged in, the HDMI audio stream will <a href=https://github.com/sakaki-/genpi64-overlay#ptspeaker>automatically play</a> though these. You should also be able to change the <a href=https://github.com/sakaki-/genpi64-overlay#ptbrightness>screen backlight brightness</a> using the <a href=https://github.com/sakaki-/genpi64-overlay#ptkeycuts>keyboard buttons</a>, see the <a href=https://github.com/sakaki-/genpi64-overlay#ptbattery>remaining battery charge</a> in the top panel, and find that the when you shut down your system, the hub <a href=https://github.com/sakaki-/genpi64-overlay#ptpoweroff>powers off</a> your Pi-Top properly.</p> </li> <li> <p>Pi-Top (v1) users: you can (at your option) swap out your existing RPi3 Model B board for a RPi3 Model B+; everything should work as before, but performance will be increased somewhat (the peak normal clock speed of the B+ is faster (at 1.4GHz) than the B (at 1.2GHz); also, the B+ includes a heat spreader, so is less prone to thermal throttling when worked hard). While you could in principle also use an RPi4 in the Pi-Top chassis, you'd need an adaptor for the microHDMI and power connectors, and you may also find the unit draws more power than the Pi-Top circuitry can supply, so this approach is not recommended.</p> </li> <li> <p>The frequency governor is switched to <code>ondemand</code> (from the default, <code>powersave</code>), for better performance, as of version 1.0.1. This is managed by the <code>sys-apps/rpi3-ondemand-cpufreq</code> package (see <a href=#ondemand>below</a>).</p> </li> <li> <p>If you are using an RPi3 Model B board, the frequency will switch dynamically between 600MHz and 1.2GHz, depending on load. On a Model B+, it will switch between 600MHz and 1.4GHz. On an RPi4, it will switch between 600MHz and 1.5GHz.</p> </li> <li> <p>On the RPi4, you can easily try <em>overclocking</em> your system, without voiding your warranty. To do so, open <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd> app, select the <kbd>Pi4 Tuning</kbd> tab, select an option from <code>Mid</code> to <code>Extreme</code> in the supplied 'manettino' <sup>-</sup>, click <kbd>Save and Exit</kbd>, then elect to reboot when prompted. Note that you are likely to require active cooling for your RPi4 when overclocked, and it is always possible (although unlikely) that your device may fail to boot at the faster settings (if it does, simply edit the file <code>config.txt</code> on the first partition of the microSD card, comment out the <code>arm_freq</code> and <code>gpu_freq</code> settings, and try again).</p> </li> <li> <p>On the RPi4, please make sure your EEPROM firmware is up-to-date; there is (at the time of writing) an official update available (<code>0137a8.bin</code>) that can lower power consumption by around 300mW, which makes a significant difference to this somewhat <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=63&t=245703">thermally challenged</a> <sup>-</sup> device. For more details please see <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1490467#p1490467">this post</a>.</p> </li> <li> <p><code>PermitRootLogin yes</code> has explicitly been set in <code>/etc/ssh/sshd_config</code>, and <code>sshd</code> is present in the <code>default</code> runlevel. This is for initial convenience only - feel free to adopt a more restrictive configuration.</p> </li> <li> <p>I haven't properly tested suspend to RAM or suspend to swap functionality yet.</p> </li> <li> <p>As of version 1.0.1, all users in the <code>wheel</code> group (which includes <code>demouser</code>) have a passwordless sudo ability for all commands. Modify <code>/etc/sudoers</code> via <code>visudo</code> to change this, if desired (the relevant line is <code>%wheel ALL=(ALL) NOPASSWD: ALL</code>).</p> </li> <li> <p>As mentioned <a href=#morespace>above</a>, by default on first boot the image will attempt to automatically expand the root (second) partition to fill all remaining free space on the microSD card. If, for some reason, you elected <em>not</em> to do this (and so renamed the sentinel file <code>autoexpand_root_partition</code> to <code>autoexpand_root_none</code> prior to first boot), you can easily expand the size of the second (root) partition manually, so that you have more free space to work in, using the tools (<code>fdisk</code> and <code>resize2fs</code>). See <a href=http://geekpeek.net/resize-filesystem-fdisk-resize2fs/ >these instructions</a>, for example. I <strong>strongly</strong> recommend you do expand the root partition (whether using the default, first-boot mechanism or manually) if you are intending to perform large package (or kernel) builds on your Pi (it isn't necessary just to play around with the image of course).</p> </li> <li> <p><a id=touchscreen></a>If you are using the <a href=https://www.element14.com/community/docs/DOC-78156/l/raspberry-pi-7-touchscreen-display>official 7" touchscreen</a> with your RPi3 (I have not tried it with an RPi4), you can rotate the display (and touch input) 180&deg; (to make it the right way up for the default case orientation) by appending <code>lcd_rotate=2</code> to <code>/boot/config.txt</code>, and restarting. Also, as of v1.1.3 of the image, the <a href=http://plippo.de/p/twofing><code>twofing</code></a> daemon is included and will run automatically on startup; this lets you two-finger press to simulate right click, and also enables a limited repertoire of two-finger gestures (zoom/pinch, rotate, scroll etc.) within some apps. The daemon has no effect when the touchscreen is not connected. The <code>onboard</code> on-screen keyboard is also available (again, as of v1.1.3); activate it via <kbd>Applications</kbd>&rarr;<kbd>Accessories</kbd>&rarr;<kbd>Onboard</kbd>.</p> </li> <li>As of version 1.2.0 of the image, the SPI interface has been activated (via <code>/boot/config.txt</code>); feel free to comment this out again if you need the GPIO lines it uses.</li> <li> <p>Additionally, as of 1.2.0, the necessary binaries for using your RPi&frac34; to <a href="https://wiki.gentoo.org/wiki/Sakaki's_EFI_Install_Guide/Disabling_the_Intel_Management_Engine">disable the Intel Management Engine</a> are now bundled with the image. Together with the above change, this allows your system to be used to run <a href=https://github.com/corna/me_cleaner><code>me_cleaner</code></a> 'out of the box' (provided you have the correct <a href="https://wiki.gentoo.org/wiki/Sakaki's_EFI_Install_Guide/Disabling_the_Intel_Management_Engine#Prerequisites">hardware connector and wires</a>, of course). Users uninterested in this particular application are unaffected, and need take no action.</p> </li> <li> <p>The image uses the RPi&frac34;'s hardware random number generator to feed <code>/dev/random</code> (via <code>sys-apps/rng-tools</code>); see <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-boot/rpi3-64bit-firmware>these notes</a> for further details.</p> </li> <li> <p>As a (limited, 64-bit) build of <code>media-libs/raspberrypi-userland</code> is included, you can use <code>vcgencmd</code> etc. As of version 1.5.2 of the image, this includes support for MMAL (including bundled tools such as <code>raspivid</code> and <code>raspicam</code>), although OpenMAX-IL is not yet supported from a 64-bit userland.</p> </li> <li> <p>If you wish to share files on a network with Windows boxes, please note that <code>net-fs/samba</code> is bundled as of version 1.2.2 of the image. To configure and activate it, please see e.g. <a href=https://forums.gentoo.org/viewtopic-p-8215174.html#8215174>these notes</a>.</p> </li> <li> <p>An <code>sysctl.d</code> rule (<code>35-low-memory-cache-settings.conf</code>) is used to modify the kernel cache settings slightly, for better performance in a memory constrained environment, per <a href="https://www.codero.com/knowledge-base/pdf.php?cat=3&id=388&artlang=en">these notes</a>.</p> </li> <li> <p><a id=safecompositor></a>As of version 1.2.2 of the image, a startup service (<code>rpi3-safecompositor</code>) is used to turn off display compositing if a high pixel clock is detected (&gt; 1.2175MHz, currently), and an RPi3 is in use. This is because certain applications, for example LibreOffice v6 Draw and Impress, can cause the whole system to lock-up when used with compositing on under such conditions. The restriction does not apply to the RPi4.</p> </li> <li> <p>Also as of version 1.2.2, a startup service (<code>rpi3-ethfix</code>) is used to workaround certain RPi3B+ Ethernet issues via <code>ethtool</code>. It has no effect on RPi3B or RPi4 models.</p> </li> <li> <p>You can easily install (and run) 32-bit Raspbian apps on your 64-bit Gentoo system if you like (using <code>apt-get</code> from a <code>chroot</code>), since <a href="https://community.arm.com/processors/f/discussions/3330/how-aarch32-bit-applications-will-be-supported-on-aarch64?ReplyFilter=Answers&ReplySortBy=Answers&ReplySortOrder=Descending">ARMv8 supports mixed-mode userland</a>. If this interests you, please see my wiki entry on this subject, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Running-32-bit-Raspbian-Packages-on-your-64-bit-Gentoo-System>here</a>.</p> </li> <li> <p>To install source packages with resource-intensive build profiles, you can temporarily mount the image within a <code>binfmt_misc</code> QEMU user-mode <code>chroot</code> on your PC, and perform the <code>emerge</code> there. For further details, please see my wiki tutorial <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Build-aarch64-Packages-on-your-PC%2C-with-User-Mode-QEMU-and-binfmt_misc>here</a>.</p> </li> <li> <p>If you would like to run <strong>benchmarks</strong> on your RPi&frac34; system, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Effective-Benchmarking-on-your-64-Bit-RPi-System>these notes</a>.</p> </li> <li> <p>You can easily remove unwanted applications, and even the Xfce4 graphical desktop itself, from your 64-bit Gentoo system if desired. To do so, please refer to my notes <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Create-a-Slimmed-Down-Version-of-the-Image>here</a>.</p> </li> <li> <p>If you are interested in a Docker variant of the image, please see necrose99's notes <a href=https://github.com/necrose99/gentoo-on-rpi-64bit/tree/master/Dockerstuff>here</a>.</p> </li> <li> <p>As of version 1.3.0 of the image, the weekly-gated rsync mirror URI has changed, to <code>rsync://isshoni.org/gentoo-portage-pi64-gem</code>. This mirror has no <code>porthash</code> <code>repo.hash{,.asc}</code> files present in it, so may be checked by Portage's official <code>gemato</code> verification tool (and this will be done automatically for you during <code>genup</code> runs). The <code>porthash</code> tool itself (which previous versions of the image used for tree verification) has now been retired.</p> <blockquote> <p>The old <code>rsync://isshoni.org/gentoo-portage-pi64</code> (non <code>-gem</code>) mirror will continue to be updated also for now, but will likely be withdrawn at some point in the future.</p> </blockquote> </li> <li> <p>As of version 1.2.2 of the image, you can efficiently run additional guest operating systems on your 64-bit Gentoo RPi&frac34;, using QEMU virtualization with KVM acceleration (much as you might use, say, VirtualBox on a PC). For further details, please see my wiki tutorial <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Run-Another-OS-on-your-RPi-as-a-Virtualized-QEMU-Guest-under-KVM>here</a>. If you like, you can run a GUI, even a full desktop, on your guest OS, as further detailed <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Adding-a-GUI-to-your-QEMU-KVM-Guest-OS>here</a>. Sample screenshot (with an Ubuntu 18.04 LTS guest): <img src=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi3/kvm-bionic-vnc.png alt="[QEMU Guest Desktop with KVM Virtualization]" width=800px> <br>Notice how the guest and host OSes in the above are running different <em>kernels</em> - it's not just a <code>chroot</code>. On the higher-memory (2, 4 and 8GiB) RPi4 models, running a guest OS using KVM becomes quite a realistic proposition.</p> </li> <li> <p>If you'd like to remotely access your RPi&frac34;'s desktop from another machine (whether a Linux PC, Windows PC, Mac or even another RPi!), you can do so easily, by using <a href=https://en.wikipedia.org/wiki/Virtual_Network_Computing>VNC</a>. Please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Run-a-Remote-VNC-Desktop-on-your-RPi>these notes</a> for further details.</p> </li> <li> <p>For Windows users, <a href=https://en.wikipedia.org/wiki/Remote_Desktop_Protocol>RDP</a> access is also supported (please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Access-your-RPi3%27s-Desktop-Remotely-from-a-Windows-Box-via-RDP>these notes</a> for further details).</p> </li> <li> <p>As of version 1.3.1 of the image, an Xfce4 startup service <code>rpi3-noblank</code> is active; this prevents the X11 screensaver from blanking the screen when it (i.e., the screensaver) is supposed to be turned off, as this can cause a mysterious 'black screen' (with no obvious way to recover, moving the mouse and keyboard don't work) under the <code>vc4-{f,}kms-v3d</code> graphics drivers.</p> </li> <li> <p>As of version 1.3.1 of the image, and as noted earlier, a simple tool, <a href="url=https://github.com/sakaki-/pyconfig_gen"><code>pyconfig_gen</code></a> has been provided, for easy (GUI-based) update of (a subset of the features contained in) the <code>/boot/config.txt</code> file on the RPi3. This utility is autostarted on first boot for each user. Changes made to the <code>/boot/config</code>.txt file using this application are subject to ratification on reboot; if you do not explicitly accept them before a short time limit expires, an automatic reboot under the prior, 'last known good' config is performed. This prevents you from locking yourself out by specifying (e.g.) an HDMI mode that is unsupported by your display (as an additional precaution against this particular case, only modes reported as being supported by the currently connected display are presented for selection in the GUI). Currently, only a small (but hopefully, useful) subset of the options available may be edited via this application, but this will be increased in future. It is still possible to directly edit <code>/boot/config.txt</code> via <code>nano</code> etc. - the app ignores keys it does not manage.</p> </li> <li> <p>As of v1.5.0 of the image, you can use the <code>pyconfig_gen</code> tool to specify settings for a second screen, connected to the HDMI1 port on your Pi4 (these additional settings are ignored on the Pi3, which only has a single HDMI connector). To do so, open <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd>, select the <kbd>Second Display</kbd> tab, choose the appropriate settings just as you did for your main (HDMI0) display, then click <kbd>Save and Exit</kbd>, electing to reboot when prompted. Once your system comes back up, you can then confirm the settings (if OK),then click the <kbd>Launch Screen Layout Editor</kbd> to start the <code>arandr</code> program. This tool lets you set the relative rotation and layout of your two screens (side by side, stacked etc.), and you can apply these settings 'live' by clicking on the "green tickmark" toolbar button. Once you have a layout you like, you can persist it across reboots, by clicking the "save" toolbar icon (the rightmost one). If you save the settings to the location <code>~/.screenlayout/default.sh</code>, they will automatically be applied for you at each (graphical) login, for convenience. As of version 1.5.2 of the image, you can suppress this automatic application by holding down <kbd>Ctrl</kbd> during graphical startup.</p> </li> <li> <p><a id=v4l2></a>As of version 1.4.0 of the image, use of the Pi's hardware video codecs, and (optional) camera module, are both supported, via the <a href=https://events.static.linuxfound.org/images/stories/pdf/lceu2012_debski.pdf>V4L2 framework</a>. Two trivial applications (<kbd>Applications</kbd>&rarr;<kbd>Multimedia</kbd>&rarr;<kbd>RPi Camera Live View</kbd>, and <kbd>Applications</kbd>&rarr;<kbd>Multimedia</kbd>&rarr;<kbd>RPi Video Player (HW Codecs)</kbd>) are bundled to help demonstrate these features; a screenshot of these in use (running on an RPi3B+, with an attached Pi camera module v2, in a Pi-Top v1 chassis) is shown below: <img src=https://raw.githubusercontent.com/sakaki-/resources/master/raspberrypi/pi3/live-view-v4l2-codecs.jpg alt="[Demonstrating Camera and Hardware Video Codec Access]" width=800px> <br>As of v1.5.0 of the image, these tools also work on an RPi4.<br>Given an appropriately patched <code>ffmpeg</code> (which is present in &gt;=v1.4.0 of the image), exploiting these features from the command line is very simple - see the <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Using-the-RPi%27s-Video-Codecs-and-Camera-Module>example 'recipes'</a> (which work for both the RPi3 and RPi4) in this project's open <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki>wiki</a>.</p> </li> <li> <p><a id=mmal></a>As of version 1.5.2 of the image, MMAL 64-bit userland support has been added, via the inclusion of 6by9's pointer-wrangling <a href=https://github.com/raspberrypi/userland/pull/586>PR#586</a> into <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/media-libs/raspberrypi-userland/files/raspberrypi-userland-1.20191121-64-bit-mmal.patch><code>media-libs/raspberrypi-userland</code></a>. As a result, tools such as <code>raspivid</code> and <code>raspistill</code> are bundled with the image (So now if, for example, you have the optional camera module attached, you should be able to issue e.g. <code>raspivid -v -o test.h264 -t 10000 -g 1</code>). (For those interested, OpenMAX-IL is not yet supported in 64-bit.)</p> </li> <li> <p>Also from v1.5.2, the <code>mmal</code> USE flag for <code>media-video/ffmpeg</code> has been turned on, as the necessary support libraries and headers are now present (thanks to the above PR). So, for example, you could play back the above <code>test.h264</code> file using <code>ffplay -vcodec h264_mmal -i test.h264</code> (as well as via e.g. <code>ffplay -vcodec h264_v4l2m2m -i test.h264</code> of course, since the V4L2-M2M h/w codec endpoints remain supported too).</p> </li> <li> <p>If you'd like to install <a href=https://en.wikipedia.org/wiki/Flatpak>Flatpak</a> apps on your RPi, please see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Install-Flatpak-Applications-on-your-RPi>these notes</a> for further details.</p> </li> <li> <p>As of version 1.5.2 of the image, the <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/dev-embedded/rpi4-eeprom-updater><code>rpi4-eeprom-updater</code></a> service has been added, to automate the upgrading of the RPi4's bootloader and VL805 (USB) EEPROM firmware, patterned on the official <a href=http://archive.raspberrypi.org/debian/pool/main/r/rpi-eeprom/ >rpi-eeprom</a> deb. This service has no effect on the RPi3. For further details, please see <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1557653#p1557653">this post</a>.</p> </li> <li> <p>Also as of version 1.5.2, the <code>rpi-onetime-startup</code> service has been added. This runs the script <code>startup.sh</code> from the top-level directory of the FAT filesystem in partition 1, if present, on the first boot (after partition resizing), having first disabled itself from future invocation. It is particularly intended to allow e.g. initial networking to be configured for users of headless systems, and to that end the bundled <code>(/boot/)startup.sh</code> script contains a <a href=https://github.com/sakaki-/genpi64-overlay/blob/master/sys-apps/rpi-onetime-startup/files/startup.sh-2>number of (commented) examples</a> of configuring the wired and wireless interfaces (using <code>nmcli</code>). To use, edit the <code>startup.sh</code> script (on e.g. a Windows or Linux desktop box) on the microSD card to which you have just written the image, prior to first using the card to boot your headless RPi&frac34; (users booting the image on a system with attached mouse, keyboard and monitor do not need to do use this facility of course, since networking can be configured via the GUI, once booted).</p> </li> <li> <p>And also as of version 1.5.2, some of the core Gentoo system paths have changed, in line with <a href=https://bugs.gentoo.org/378603>upstream</a>, as follows (for more details, please see <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1569964#p1569964">this post</a>):</p> </li> <li><code>/usr/portage</code> -&gt; <code>/var/db/repos/gentoo</code> (<code>$PORTDIR</code>)</li> <li><code>/usr/portage/distfiles</code> -&gt; <code>/var/cache/distfiles</code> (<code>$DISTDIR</code>)</li> <li><code>/usr/portage/packages</code> -&gt; <code>/var/cache/binpkgs</code> (<code>$PKGDIR</code>)</li> <li> <p><code>/usr/local/portage/&lt;overlay&gt;</code> -&gt; <code>/var/db/repos/&lt;overlay&gt;</code></p> </li> <li> <p>If you'd like to set up a persistent dual-monitor setup on an RPi4, please see my short tutorial on this project's open wiki <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Dual-Displays-on-your-RPi4>here</a> (also contains some notes useful for single-display systems too).</p> </li> <li> <p>As of version 1.6.0, you can easily check and capture detailed network activity on your system, via <kbd>Applications</kbd>&rarr;<kbd>Internet</kbd>&rarr;<kbd>EtherApe</kbd> and <kbd>Applications</kbd>&rarr;<kbd>Internet</kbd>&rarr;<kbd>Wireshark</kbd>.</p> </li> <li> <p>Also as of version 1.6.0, a baseline set of packages for the FOSS videoconferencing server, <strong>Jitsi</strong>, is bundled. Please see <a href=https://forums.gentoo.org/viewtopic-p-8467370.html#8467370>this post</a> for further instructions on setup and use (although you can of course skip the "RPi4 64-bit Gentoo Install" section there, as the necessary packages are already present on the image). You'll realistically require a 2GiB RPi4B (or better) to run this application successfully. Note, though, that since Jitsi does not process the video streams, but acts simply as a meeting coordination point, <a href=https://www.callstats.io/blog/webrtc-architectures-explained-in-5-minutes-or-less>selective forwarding unit</a> and TURN server, the <a href=https://jitsi.org/jitsi-videobridge-performance-evaluation/ >CPU requirements are not onerous</a> - an RPi4 should be able to handle a reasonable number of simultaneous participants.</p> </li> <li> <p>And also as of version 1.6.0, you can dynamically switch the output route for audio (HDMI or headphones) by right-clicking the volume icon in the top panel bar (beside the clock) and selecting <kbd>Open Mixer</kbd> from the drop-down menu; you can then choose the route in the <kbd>Playback</kbd> tab's dropdown. </p> </li> </ul> <h2 id=maintenance-notes-advanced-users-only-skip><a id=maintnotes></a>Maintenance Notes (Advanced Users Only) (&darr;<a href=#miscpoints>skip</a>)<a class=headerlink href=#maintenance-notes-advanced-users-only-skip title="Permanent link">&para;</a></h2> <p>The following are some notes regarding optional maintenance tasks. The topics here may be of interest to advanced users, but it is not necessary to read these to use the image day-to-day.</p> <blockquote> <p>NB some of the following notes need updating for the new 1.6.0 image. I plan to do this shortly.</p> </blockquote> <h3 id=optional-switch-back-to-a-pure-bcmrpi3_defconfig-bcm2711_defconfig-kernel><a id=revertkernelbin></a>Optional: Switch Back to a 'Pure' <code>bcmrpi3_defconfig</code> / <code>bcm2711_defconfig</code> Kernel<a class=headerlink href=#optional-switch-back-to-a-pure-bcmrpi3_defconfig-bcm2711_defconfig-kernel title="Permanent link">&para;</a></h3> <p>As of version 1.2.2 of the image, the default binary kernel package has changed, to <code>sys-kernel/bcmrpi3-kernel-bis-bin</code>, the underlying kernel for which uses a slightly augmented version of the upstream <code>bcmrpi3_defconfig</code>, thereby enabling a number of useful additional facilities (such as KVM, ZSWAP etc). And, as of version 1.5.0 of the image, a <em>second</em> default kernel package is used, <code>sys-kernel/bcm2711-kernel-bis-bin</code>, the underlying kernel for which uses an augmented version of the upstream <code>bcm2711_defconfig</code> for the RPi4.</p> <p>However, if you'd rather use the 'vanilla' <code>sys-kernel/bcm{rpi3,2711}-kernel-bin</code> (i.e., "pure" <code>bcm{rpi3,2711}_defconfig</code>) kernel packages, as was the case for &lt;= v1.2.1 of the image, you can do so easily; simply become root, and issue: <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=go>pi64 ~ # emerge --ask --verbose --oneshot sys-kernel/bcm{rpi3,2711}-kernel-bin</span>
</code></pre></div></p> <p>Once this completes, reboot immediately, and you'll be using the "old default" binary kernel packages again (and this choice will be respected during e.g. <code>genup</code> system update runs, going forward).</p> <p>Switching back to the "-bis" binary kernel package pair, should you subsequently wish to do so, is just as straightforward; simply become root again and issue: <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=go>pi64 ~ # emerge --ask --verbose --oneshot sys-kernel/bcm{rpi3,2711}-kernel-bis-bin</span>
</code></pre></div></p> <p>Reboot immediately the above command completes.</p> <h3 id=optional-compiling-a-kernel-from-source><a id=kernelbuild></a>Optional: Compiling a Kernel from Source<a class=headerlink href=#optional-compiling-a-kernel-from-source title="Permanent link">&para;</a></h3> <p>If you'd like to compile a kernel from source on your new system, rather than using the provided binary package, you can do so easily.</p> <p>Because (at the time of writing) 64-bit support for the RPi&frac34; is fairly 'cutting edge', you'll need to download the source tree directly, rather than using <code>sys-kernel/raspberrypi-sources</code>. You'll need to use at least version rpi-4.19.y (to get camera and <a href=https://events.static.linuxfound.org/images/stories/pdf/lceu2012_debski.pdf>V4L2 M2M</a> access to the RPi&frac34;'s hardware video codecs), with rpi-5.4.y preferred (and bundled as of version 1.6.0 of the image).</p> <blockquote> <p>Actually, you <em>can</em> also use <code>sys-kernel/raspberrypi-sources</code> if you like, as that has a 4.19.9999 ebuild. However, to keep things straightforward, I have retained the 'direct clone' instructions in what follows.</p> </blockquote> <p>The tree you need is maintained <a href=https://github.com/raspberrypi/linux>here</a>.</p> <p>However first, since it generally makes sense to use a 'stable' branch compiler and <code>binutils</code> for kernel builds, but the RPi&frac34; image uses the 'testing' (aka <code>~arm64</code>) branch for all packages by default, begin by downgrading your <code>gcc</code> compiler and <code>binutils</code> on the RPi3 to the 'stable' variants (these versions are also available on the binhost, so the following process shouldn't take long). Become root, and issue: <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=go>pi64 ~ # echo &quot;sys-devel/gcc -~arm64&quot; &gt;&gt; /etc/portage/package.accept_keywords/gcc</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=go>pi64 ~ # echo &quot;sys-devel/binutils -~arm64&quot; &gt;&gt; /etc/portage/package.accept_keywords/binutils</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=go>pi64 ~ # emerge --update --oneshot sys-devel/gcc sys-devel/binutils</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=go>pi64 ~ # gcc-config --list-profiles</span>
</code></pre></div></p> <p>Take a note of the index number of the 'stable branch' version of the compiler returned by the last command above (this will probably be <code>1</code>), and then ensure the profile is set (substitute it for <code>1</code> in the below, if different): <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=go>pi64 ~ # gcc-config 1</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=go>pi64 ~ # env-update &amp;&amp; source /etc/profile</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=go>pi64 ~ # FEATURES=&quot;-getbinpkg&quot; emerge --oneshot sys-devel/libtool</span>
</code></pre></div></p> <p>This process only needs to be done once. It won't affect your ability to build other packages on your RPi&frac34;.</p> <blockquote> <p><strong>NB:</strong> if you are running Gentoo on a microSD card, please be sure that you have an expanded root partition (as described <a href=#morespace>above</a>) on a &gt;=16GB card, before attempting to build a kernel.</p> </blockquote> <p>Now, suppose you wish to build the most modern version of the rpi-5.4.y kernel (same major/minor version as on the image). Then, begin by pulling down a <a href=http://stackoverflow.com/q/21833870>shallow clone</a> of the desired version's branch from <a href=https://github.com/raspberrypi/linux>GitHub</a> (users with sufficient bandwidth and disk space may of course clone the entire tree, and then checkout the desired branch locally, but the following approach is much faster).</p> <p>Working logged in as your regular user, <em>not</em> root (for security), issue: <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=gp>user@pi64 ~ $ </span>mkdir -pv kbuild <span class=o>&amp;&amp;</span> <span class=nb>cd</span> kbuild
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=gp>user@pi64 kbuild $ </span>rm -rf linux
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=gp>user@pi64 kbuild $ </span>git clone --depth <span class=m>1</span> https://github.com/raspberrypi/linux.git -b rpi-5.4.y
</code></pre></div></p> <p>This may take some time to complete, depending on the speed of your network connection.</p> <p>When it has completed, go into the newly created <code>linux</code> directory, and set up the baseline configuration. You'll actually need to build <em>two</em> kernels, one for the RPi3, another for the RPi4. So let's begin by building an RPi3 kernel, which uses <code>bcmrpi3_defconfig</code>. Issue: <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=gp>user@pi64 kbuild $ </span><span class=nb>cd</span> linux
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=gp>user@pi64 linux $ </span>make distclean
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=gp>user@pi64 linux $ </span>make bcmrpi3_defconfig
</code></pre></div></p> <p>Next, modify the configuration if you like to suit your needs (this step is optional, as a kernel built with the stock <code>bcm{rpi3,2711}_defconfig</code> will work perfectly well for most users): <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=gp>user@pi64 linux $ </span>make menuconfig
</code></pre></div> When ready, go ahead and build the kernel, modules, and dtbs. Issue: <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=gp>user@pi64 linux $ </span>nice -n <span class=m>19</span> make -j4 Image modules dtbs
</code></pre></div> This will a reasonable time to complete. (Incidentally, the build is forced to run at the lowest system priority, to prevent your machine becoming too unresponsive during this process.)</p> <p>With the kernel built, we need to install it. Assuming your first microSD card partition is mounted as <code>/boot</code> (which, given the <code>/etc/fstab</code> on the image (visible <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/fstab>here</a>), it should be), become root.</p> <p>Next, remove the provided binary kernel. Edit the file <code>/etc/portage/package.use/rpi-64bit-meta</code> so it reads (the relevant line is the last one): <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=c1># Enable/disable any metapackage USE flags you want here, and then</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=c1># re-emerge dev-embedded/rpi-64bit-meta to have the effect taken up</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=c1># e.g. you might set (uncommented):</span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=c1>#</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=c1>#    dev-embedded/rpi-64bit-meta -weekly-genup</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=c1>#</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=c1># to disable the automated weekly genup (package update)</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=c1># run.</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=c1>#</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=c1># Unless you override them, the default metapackage flags are used.</span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=c1># At the time of writing, those are (default flag status shown as + or -):</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=c1>#</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=c1>#  + boot-fw : pull in the /boot firmware, configs and bootloader</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=c1>#  + kernel-bin : pull in the binary kernel package</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=c1>#  - porthash : pull in repo signature checker, for isshoni.org rsync</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=c1>#  + weekly-genup: pull in cron.weekly script, to run genup automatically</span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=c1>#  + innercore: pull in essential system packages for image (RPi initscripts etc.)</span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a><span class=c1>#  + core: pull in main packages for image (clang etc.) (requires innercore)</span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=c1>#  + xfce: pull in packages for baseline Xfce4 system (requires core)</span>
<a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a><span class=c1>#  - pitop: pull in Pi-Top support packages (NB most users will NOT want this;</span>
<a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a><span class=c1>#      the Pi-Top is a DIY laptop kit based around the RPi3) (requires xfce)</span>
<a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a><span class=c1>#  - apps: pull in baseline desktop apps (libreoffice etc.) (requires xfce)</span>
<a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a><span class=c1>#</span>
<a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=c1># NB the main point of the core, xfce, pitop and apps USE flags is just to let</span>
<a id=__codelineno-24-25 name=__codelineno-24-25 href=#__codelineno-24-25></a><span class=c1># you reduce what is in your @world set (/var/lib/portage/world).</span>
<a id=__codelineno-24-26 name=__codelineno-24-26 href=#__codelineno-24-26></a>dev-embedded/rpi-64bit-meta -kernel-bin
</code></pre></div></p> <p>Then re-emerge the meta package, to delete the binary kernel package itself: <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=go>pi64 ~ # emerge -v rpi-64bit-meta</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=go>pi64 ~ # emerge --depclean</span>
</code></pre></div></p> <blockquote> <p>Important: do <strong>not</strong> try to restart your system yet - with the binary kernel uninstalled, you <strong>must</strong> install the new kernel (and DTBs and module set) you have just built, or the image will no longer boot. We will do that next.</p> </blockquote> <p>Next, substituting your regular user's account name (the one you logged into when building the kernel, above) for <code>user</code> in the below, issue: <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=go>pi64 ~ # cd /home/user/kbuild/linux</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=go>pi64 linux # cp -v arch/arm64/boot/Image /boot/kernel8.img</span>
</code></pre></div></p> <p>Note that by default, the kernel does <em>not</em> require a separate U-Boot loader.</p> <p>Next, copy over the device tree blobs (at the time of writing <code>arm64</code> was still using the <code>2710</code> dtb, but this may change to <code>2837</code> in future, so for safety, copy both of these, and also the RPi3 B+ and compute module 3 variants): <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=go>pi64 linux # cp -v arch/arm64/boot/dts/broadcom/bcm{2710,2837}-rpi-3-b.dtb /boot/</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=go>pi64 linux # cp -v arch/arm64/boot/dts/broadcom/bcm2710-rpi-3-b-plus.dtb /boot/</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=go>pi64 linux # cp -v arch/arm64/boot/dts/broadcom/bcm2710-rpi-cm3.dtb /boot/</span>
</code></pre></div></p> <blockquote> <p>Interestingly, even if you have a RPi3 B+, you don't <em>actually</em> need the <code>bcm2710-rpi-3-b-plus.dtb</code> dtb to boot it - the system's firmware will intelligently patch your standard <code>bcm2710-rpi-3-b.dtb</code> file, if that's all it can find. Nevertheless, it is better hygiene to include it.</p> </blockquote> <p>Then, copy across the device tree overlay blobs (these are now the responsibility of the kernel, not the boot firmware, package, so it is essential you add them): <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=go>pi64 linux # cp -rv arch/arm64/boot/dts/overlays/ /boot/</span>
</code></pre></div></p> <p>Lastly, install the modules: <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=go>pi64 linux # make modules_install</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=go>pi64 linux # sync</span>
</code></pre></div></p> <blockquote> <p>We <strong>don't</strong> do a <code>make firmware_install</code> here, since that build target <a href=http://lkml.iu.edu/hypermail/linux/kernel/1709.1/04650.html>has been dropped</a> for &gt;= 4.14.</p> </blockquote> <p>Once that is done, we'll loop back and build and install the Pi4 kernel. Issue:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=gp>user@pi64 linux $ </span>make distclean
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=gp>user@pi64 linux $ </span>make bcm2711_defconfig
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=gp>user@pi64 linux $ </span>make menuconfig
</code></pre></div> <p>Make sure to set <code>CONFIG_LOCALVERSION</code> to something distinct (like "-2711") to ensure the release names of the two kernels are distinct - you don't want their modules getting co-mingled in <code>/lib/modules/&lt;kernel-release-name&gt;/...</code>. Make any other changes you want, then save and exit the configuration tool, and issue:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=gp>user@pi64 linux $ </span>nice -n <span class=m>19</span> make -j4 Image modules dtbs
</code></pre></div> <p>Once done, copy across the kernel, dtb and modules (note the modified name used for the RPi4 kernel in <code>/boot</code>, to distinguish it from the RPi3 kernel (<code>kernel8.img</code>) that we built and copied over earlier):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=go>pi64 linux # cp -v arch/arm64/boot/Image /boot/kernel8-p4.img</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=go>pi64 linux # cp -v arch/arm64/boot/dts/broadcom/bcm2711-rpi-4-b.dtb /boot/</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=go>pi64 linux # make modules_install</span>
</code></pre></div> <p>There is no need to copy the <code>overlays</code> directory, as that is identical between the RPi3 and RPi4 64-bit builds, and you have already copied it over.</p> <p>All done! After you reboot, you'll be using your new kernels.</p> <p>It is also possible to cross-compile a kernel on your (Gentoo) PC, which is much faster than doing it directly on the RPi. Please see the instructions <a href=#heavylifting>later in this document</a>.</p> <blockquote> <p>Alternatively, if you set up <code>distcc</code> with <code>crossdev</code> (also covered in the instructions <a href=#heavylifting>below</a>), you can call <code>pump make</code> instead of <code>make</code> to automatically offload kernel compilation workload to your PC. However, if you do use <code>distcc</code> in this way, be aware that not all kernel files can be successfully built in this manner; a small number (particularly, at the start of the kernel build) may fall back to using local compilation. This is normal, and the vast majority of files <em>will</em> distribute OK.</p> </blockquote> <p>If you want to switch <strong>back</strong> to the binary kernel package again, simply comment out the line you added at the end of <code>/etc/portage/package.use/rpi-64bit-meta</code>, and issue: <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=go>pi64 ~ # emerge -v rpi-64bit-meta</span>
</code></pre></div> You will receive warnings about file collisions (as the kernel package overwrites your <code>/boot/kernel8.img</code>, <code>/boot/kernel8-p4.img</code> etc.) but it should go through OK. Reboot, and you'll be using your binary kernels again!</p> <blockquote> <p>At this point, you may wish to clean up your old, source-built kernels' modules from <code>/lib/modules/&lt;your-kernel-release-names&gt;</code>, to save space.</p> </blockquote> <h3 id=have-your-gentoo-pc-do-the-heavy-lifting><a id=heavylifting></a>Have your Gentoo PC Do the Heavy Lifting!<a class=headerlink href=#have-your-gentoo-pc-do-the-heavy-lifting title="Permanent link">&para;</a></h3> <p>The RPi3 (and even the RPi4, although significantly better) does not have a particularly fast processor when compared to a modern PC. While this is fine when running the device in day-to-day mode (as a IME-free lightweight desktop replacement, for example), it does pose a bit of an issue when building large packages from source.</p> <blockquote> <p>Of course, as the (&gt;= 1.1.0) image now has a weekly-autobuild <a href=#binhost>binhost</a> provided, this will only really happen if you start setting custom USE flags on packages like <code>app-office/libreoffice</code>, or emerging lots of packages not on the <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/world-all-packages>original pre-installed set</a>.</p> </blockquote> <p>However, there is a solution to this, and it is not as scary as it sounds - leverage the power of your PC (assuming it too is running Gentoo Linux) as a cross-compilation host!</p> <p>For example, you can cross-compile kernels for your RPi&frac34; on your PC very quickly (around 5-15 minutes from scratch), by using Gentoo's <code>crossdev</code> tool. See my full instructions <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Your-Gentoo-PC-for-Cross-Compilation-with-crossdev>here</a>, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Build-an-RPi4-64bit-Kernel-on-your-crossdev-PC>here</a> and <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Build-an-RPi3-64bit-Kernel-on-your-crossdev-PC>here</a> on this project's open <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki>wiki</a>.</p> <p>Should you setup <code>crossdev</code> on your PC in this manner, you can then take things a step further, by leveraging your PC as a <code>distcc</code> server (instructions <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Your-crossdev-PC-for-Distributed-Compilation-with-distcc>here</a> on the wiki). Then, with just some simple configuration changes on your RPi3 (see <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Set-Up-Your-RPi3-as-a-distcc-Client>these notes</a>), you can distribute C/C++ compilation (and header preprocessing) to your remote machine, which makes system updates a lot quicker (and the provided tool <code>genup</code> will automatically take advantage of this distributed compilation ability, if available).</p> <blockquote> <p>Since they share the same ARMv8a architecture (<code>march</code>), binaries built in this manner can be used on either a RPi3 Model B, B+ <em>or</em> an RPi4 Model B, without modification.</p> </blockquote> <h3 id=using-your-rpi34-as-a-headless-server><a id=rpi3_headless></a>Using your RPi&frac34; as a Headless Server<a class=headerlink href=#using-your-rpi34-as-a-headless-server title="Permanent link">&para;</a></h3> <p>If you want to run a dedicated server program on your RPi3 or RPi4 (for example, a cryptocurrency miner), you won't generally want (or need) the graphical desktop user interface. To disable it, issue (as root): <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=go>pi64 ~ # rc-update del xdm default</span>
</code></pre></div></p> <p><a id=reclaim_mem></a>You can also reclaim the memory reserved for the <code>vc4</code> graphics driver (this is optional). To do so, issue: <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=go>pi64 ~ # nano -w /boot/config.txt</span>
</code></pre></div></p> <p>and comment out the following line, so it reads: <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c1>#dtoverlay=vc4-fkms-v3d</span><span class=w></span>
</code></pre></div></p> <p>(Your setup may have a <code>cma</code> specification following the <code>vc4-fkms-v3d</code>; it's still the same line, and should be commented.)</p> <p>Also ensure that the camera module support software is not loaded, and that only a minimal amount of GPU memory is allocated - to do so, ensure the below lines in the file read as follows: <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=c1>#start_x=1</span><span class=w></span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=na>gpu_mem</span><span class=o>=</span><span class=s>16</span><span class=w></span>
</code></pre></div></p> <p>Leave the rest of the file as-is. Save, and exit <code>nano</code>.</p> <p>Reboot your system. You will now have a standard terminal login available only, which greatly saves on system resources.</p> <blockquote> <p>Should you wish to completely remove the graphical desktop's <em>packages</em> from your system too, please see my notes <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki/Create-a-Slimmed-Down-Version-of-the-Image>here</a>.</p> </blockquote> <p>Next, ensure that your system won't autoupdate (since this can cause high system load at an unpredictable moment). Log in as root, then issue: <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=go>pi64 ~ # echo &quot;dev-embedded/rpi-64bit-meta -weekly-genup&quot; &gt; /etc/portage/package.use/rpi-64bit-meta</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=go>pi64 ~ # emerge -v rpi-64bit-meta</span>
</code></pre></div></p> <p>You can now arrange for your server program to start on boot, either by creating an explicit OpenRC service file in <code>/etc/init.d/</code> or by adding an (executable) startup script, named <code>/etc/local.d/&lt;servicename&gt;.start</code>, in which you fork off the server using <code>start-stop-daemon</code> (or similar).</p> <blockquote> <p>I recommend that you run your service at the <em>lowest</em> possible system priority (i.e., highest positive number niceness), particularly if it is CPU intensive. This will ensure that you're able to log in successfully using <code>ssh</code>, even if the daemon is in a tight CPU-bound loop.</p> </blockquote> <p>It is generally more reliable to use the Ethernet rather than the WiFi network interface when running a headless server in this manner. Also, make sure your system has an adequate heatsink fitted (or even active CPU cooling, for particularly demanding applications), since the RPi3 (particuarly when running in 64-bit mode) can <a href=https://www.theregister.co.uk/2017/10/18/active_cooling_a_raspberry_pi_3/ >get quite hot</a>, leading to thermal throttling or even protective system shutdown if your cooling is insufficient. The RPi3 Model B+ has a <a href=https://core-electronics.com.au/tutorials/raspberry-pi-3-model-b-plus-performance-vs-3-model-b.html>integral heat-spreader</a>, so (in addition to having a higher clock speed) it may be a somewhat better choice than the RPi3 Model B for more demanding applications. The RPi4 has <a href="https://www.raspberrypi.org/forums/viewtopic.php?f=63&t=245703">even more significant thermal challenges</a> than the RPi3, so active cooling is recommended for demanding applications.</p> <blockquote> <p>Of course, take the normal precautions when running an internet-exposed server in this manner: for example, set up an appropriate firewall, consider running the server process under <code>firejail</code>, modify the shipped-default passwords, and keep your system up-to-date by (manually) running <code>genup</code>, from time to time.</p> </blockquote> <p>Should you wish to revert back to using the graphical desktop at some point in the future, simply issue (as root): <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=go>pi64 ~ # rc-update add xdm default</span>
</code></pre></div></p> <p>Then, if you edited <code>/boot/config.txt</code> <a href=#reclaim_mem>above</a>, undo that change now. Issue: <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=go>pi64 ~ # nano -w /boot/config.txt</span>
</code></pre></div></p> <p>and uncomment the following line, so it reads: <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=na>dtoverlay</span><span class=o>=</span><span class=s>vc4-fkms-v3d</span><span class=w></span>
</code></pre></div></p> <blockquote> <p>With modern boot firmware, the recommendation is <em>not</em> to set an explicit <code>cma</code> parameter on <code>vc4-fkms-v3d</code>.</p> </blockquote> <p>If you wish to use the camera, and hardware video codecs, also ensure that the below lines read as follows (if not, this step may be omitted): <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=na>start_x</span><span class=o>=</span><span class=s>1</span><span class=w></span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=na>gpu_mem</span><span class=o>=</span><span class=s>128</span><span class=w></span>
</code></pre></div></p> <p>Leave the rest of the file as-is. Save, and exit <code>nano</code>. Reboot your system, and you should have your full graphical desktop back again!</p> <h2 id=miscellaneous-points-advanced-users-only-skip><a id=miscpoints></a>Miscellaneous Points (Advanced Users Only) (&darr;<a href=#helpwanted>skip</a>)<a class=headerlink href=#miscellaneous-points-advanced-users-only-skip title="Permanent link">&para;</a></h2> <p>The following are some notes about the detailed structure of the image. It is not necessary to read these to use the image day-to-day. <!--  --></p> <h3 id=rpi-specific-ebuilds>RPi-Specific Ebuilds<a class=headerlink href=#rpi-specific-ebuilds title="Permanent link">&para;</a></h3> <p>As of version 1.1.0 of the image, all the required firmware and startup files have now been placed under ebuild control, for ease of maintenance going forward: * <a id=metapackage></a>A metapackage, <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/dev-embedded/rpi-64bit-meta><code>sys-firmware/rpi-64bit-meta</code></a> from the (subscribed) <a href=https://github.com/sakaki-/genpi64-overlay><code>genpi64</code></a> ebuild repository (overlay) governs the inclusion of all the components discussed below (controlled by a set of USE flags). The version of the metapackage matches the version of the live-USB release to which it pertains.</p> <blockquote> <p>For avoidance of doubt, by default the <code>rpi-64bit-meta</code> metapackage does <em>not</em> specify the various end-user applications installed on the image (such as <code>libreoffice</code>, <code>firefox</code> etc.), so these may be freely uninstalled or modified as required (if you only intend to install <em>additional</em> applications however, you can specify the <code>apps</code> USE flag for <code>rpi-64bit-meta</code>, and then remove <code>libreoffice</code>, <code>firefox</code> etc from your <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/world title="GitHub User: world">@world</a> set (<code>/var/lib/portage/world</code>). * <a id=boot_fw></a>The <code>/boot</code> firmware (<em>excluding</em> the kernel and DTBs; <em>those</em> are provided by <code>sys-kernel/bcm{rpi3,2711}-kernel&lt;-bis&gt;-bin</code>, discussed later) is provided by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-boot/rpi3-64bit-firmware><code>sys-boot/rpi3-64bit-firmware</code></a>: the upstream <a href=https://github.com/raspberrypi/firmware/tree/master/boot><code>raspberrypi/firmware/boot</code></a> repo is checked once per week for new release tags, and a new corresponding ebuild created automatically if one is found. This package also pulls in (via <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-boot/rpi3-boot-config><code>sys-boot/rpi3-boot-config</code></a>) 'starter' configuration files <code>/boot/cmdline.txt</code> and <code>/boot/config.txt</code> (with settings matching those on the image), but these are <code>CONFIG_PROTECT</code>ed, so any changes you make subsequently will be preserved. * <a id=wifi></a>The configuration file <code>brcmfmac43430-sdio.txt</code>, required for the RPi&frac34;'s integrated WiFi, is provided by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-firmware/brcm43430-firmware><code>sys-firmware/brcm43430-firmware</code></a> (its main firmware being provided by the standard <a href=http://packages.gentoo.org/package/sys-kernel/linux-firmware><code>linux-firmware</code></a> package). * This package now also provides the equivalent file <code>brcmfmac43455-sdio.txt</code>, for use with the RPi3 B+'s (and RPi4 B's) new <a href=https://www.raspberrypi.com.tw/tag/bcm2837/ >dual-band WiFi</a> setup (Cypress CYW43455), plus the <code>brcmfmac43430-sdio.clm_blob</code>. * The WiFi regulatory domain (initially set to <code>GB</code> on the image), is set by the <code>rpi3-wifi-regdom</code> service (provided by the <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/net-wireless/rpi3-wifi-regdom><code>net-wireless/rpi3-wifi-regdom</code></a> package); its value may be set by editing the file <code>/etc/conf.d/rpi3-wifi-regdom</code>, or (more conveniently) via the GUI-based <kbd>Applications</kbd>&rarr;<kbd>Settings</kbd>&rarr;<kbd>RPi Config Tool</kbd>, <kbd>WiFi</kbd> tab. * <a id=bluetooth></a>Firmware (<code>/etc/firmware/BCM43430A1.hcd</code>) for the RPi&frac34;'s integrated Bluetooth transceiver is provided by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-firmware/bcm4340a1-firmware><code>sys-firmware/bcm4340a1-firmware</code></a> (adapted from the Arch Linux <a href=https://aur.archlinux.org/packages/pi-bluetooth/ ><code>pi-bluetooth</code></a> package). A startup service and <code>udev</code> rule are provided by the companion <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/net-wireless/rpi3-bluetooth><code>net-wireless/rpi3-bluetooth</code></a> package (adapted from the same Arch Linux upstream). * <a id=ondemand></a>The <code>/etc/local.d/ondemand_freq_scaling.start</code> boot script, which switches the RPi&frac34; from its (<code>bcm{rpi3,2711}_defconfig</code>) default <code>powersave</code> CPU frequency governor, to <code>ondemand</code>, for better performance, has been switched to a <code>sysinit</code> OpenRC service, provided by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-ondemand-cpufreq><code>sys-apps/rpi3-ondemand-cpufreq</code></a>. On the RPi3 B, this allows the frequency to range up to 1.2GHz, and on the RPi3 B+, up to 1.4GHz, without overclocking. On the RPi4 B, this allows the frequency to range up to 1.5GHz without overclocking (and up to 2.0GHz with). * <a id=init_scripts></a>The <code>autoexpand_root_partition.start</code> script has been migrated into an OpenRC boot service, provided by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-init-scripts><code>sys-apps/rpi3-init-scripts</code></a>. * <a id=expand-swap></a>On first boot, after the root has been expanded, the default swapfile (at <code>/var/cache/swap/swap1</code>) will be auto-expanded to 1,024MiB if required, by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-expand-swap><code>sys-apps/rpi3-expand-swap</code></a>; configuration settings in <code>/etc/conf.d/rpi3-expand-swap</code>. * <a id=zswap></a>The <code>zswap</code> transparent compressing swap cache is set up by <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-apps/rpi3-zswap><code>sys-apps/rpi3-zswap</code></a>; configuration settings in <code>/etc/conf.d/rpi3-zswap</code>.</p> </blockquote> <h3 id=new-features-to-expedite-regular-system-updating><a id=expedited_updates></a>New Features to Expedite Regular System Updating<a class=headerlink href=#new-features-to-expedite-regular-system-updating title="Permanent link">&para;</a></h3> <p>In addition to the above, as of version 1.1.0 of the image, a number of other changes have been made to expedite the process of keeping your 64-bit Gentoo RPi3 up-to-date: * <a id=binary_kp></a>An autobuild of the official <a href=https://github.com/raspberrypi/linux><code>raspberrypi/linux</code></a> kernel (default branch) using <code>bcmrpi3_defconfig</code> has been set up <a href=https://github.com/sakaki-/bcmrpi3-kernel>here</a>; a new release tarball is automatically pushed once per week, and a matching kernel binary package (<a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcmrpi3-kernel-bin><code>sys-kernel/bcmrpi3-kernel-bin</code></a>) is also created simultaneously. A variant of this with a slightly tweaked config is also maintained <a href=https://github.com/sakaki-/bcmrpi3-kernel-bis>here</a> with binary kernel package (<a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcmrpi3-kernel-bis-bin><code>sys-kernel/bcmrpi3-kernel-bis-bin</code></a>); this latter version is used by default as of v1.2.2 of the image.</p> <p>As of version 1.5.0 of the image, a parallel set of projects is maintained for the <code>bcm2711_defconfig</code> kernel used when booting an RPi4 (default autobuild <a href=https://github.com/sakaki-/bcm2711-kernel-bis>here</a> with binary kernel package <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcm2711-kernel-bin>here</a>, <code>-bis</code> autobuild <a href=https://github.com/sakaki-/bcm2711-kernel-bis>here</a> with binary kernel package <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcm2711-kernel-bis-bin>here</a>).</p> <p>NB: at the time of writing, the <code>rpi-4.19.y</code> branch was the default (receiving most attention for backports etc.) Using <code>-bin</code> packages for the kernel makes it easy to switch between them (and to update your kernel, and module set, to the latest version available - along with all other packages on your system - whenever you issue <code>genup</code>); you can see the kernels available by issuing <code>eix bcm{rpi3,2711}-kernel-bis-bin</code>. Also, note that by default (via the <code>with-matching-boot-fw</code> USE flag) installing a particular <code>sys-kernel/bcm{rpi3,2711}-kernel&lt;-bis&gt;-bin</code> version will <em>also</em> cause the version of <code>sys-boot/rpi3-64bit-firmware</code> (see <a href=#boot_fw>above</a>) current at the time the kernel was released, to be installed (to <code>/boot</code>). This helps to reduce issues with firmware / kernel mismatches with cutting edge features such as VC4 support. Note also that via the (default) <code>pi3multiboot</code> flag, a matching-release <code>bcmrpi3-kernel-bis-bin</code> becomes a dep of <code>bcm2711-kernel-bis-bin</code>, so it suffices to work only with the latter (a similar USE flag is also available for the non-<code>bis</code> variants).</p> <blockquote> <p>Use of the provided binary kernel packages is optional, you can always uninstall them (by editing the file <code>/etc/portage/package.use/rpi-64bit-meta</code>, setting the <code>-kernel-bin</code> USE flag, then issuing <code>emerge -v rpi-64bit-meta</code>) and <a href=#kernelbuild>building your own kernel</a> instead, if desired.</p> </blockquote> <ul> <li> <p><a id=binhost></a>The project's <a href=https://wiki.gentoo.org/wiki/Binary_package_guide>Gentoo binhost</a> at <a href=https://isshoni.org/pi64pie>https://isshoni.org/pi64pie</a> has been reconfigured to perform a <strong>weekly update and autobuild of all installed (userspace) packages on the image</strong>, allowing your RPi&frac34; to perform fast updates via the resulting binary packages where possible, only falling back to local source-based compilation when necessary (using this facility <a href=#disable_weekly_update>is optional</a>, of course, just like the binary kernel package). <a id=rsync></a>The binhost also provides a (weekly-gated) <code>rsync</code> mirror (<code>rsync://isshoni.org/gentoo-portage-pi64-gem</code>) for the main <code>gentoo</code> repo (fully compatible with Gentoo's official <code>gemato</code> signed hash verification), used to keep your RPi&frac34;'s "visible" ebuild tree in lockstep with the binary package versions available on the <a href=https://isshoni.org/pi64pie>isshoni.org</a> binhost (incidentally, the <code>gentoo</code> repo on <a href=https://isshoni.org/pi64pie>isshoni.org</a> itself is maintained against upstream using <code>webrsync-gpg</code>).</p> <blockquote> <p>NB: I can make <strong>no guarantees</strong> about the future availability of the weekly autobuilds on <a href=https://isshoni.org/pi64pie>isshoni.org</a>, nor the autoupdated binary kernel packages (on GitHub). However, we use these as part of our own production infrastructure, so they should be around for a while. Use the provided binary packages at your own risk.</p> </blockquote> </li> <li> <p><a id=profile></a>A custom Gentoo profile, <code>genpi64:default/linux/arm64/17.0/desktop/genpi64</code>, is provided (and selected as the active profile on the image), which supplies many of the default build settings, USE flags etc., required for 64-bit Gentoo on the RPi&frac34;, again, keeping them in lockstep with the binhost (and ensuring you will have a binary package available when upgrading any of the pre-installed software packages on the image). You can view this profile (provided via the <a href=https://github.com/sakaki-/genpi64-overlay>genpi64</a> ebuild repository) <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3>here</a>. &gt; NB: as of release 1.2.0, the profile changed, from <code>rpi3:default/linux/arm64/13.0/desktop/rpi3</code> to <code>rpi3:default/linux/arm64/17.0/desktop/rpi3</code>, reflecting the underlying <a href=https://www.gentoo.org/support/news-items/2017-11-30-new-17-profiles.html>Gentoo profile upgrade</a> from 13.0 to 17.0. Users of prior releases interested in manually upgrading should read <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/releases#upgrade_to_profile_17>these notes</a>. Then, as of release 1.5.0, the profile changed again, from <code>rpi3:default/linux/arm64/17.0/desktop/rpi3</code> to <code>genpi64:default/linux/arm64/17.0/desktop/genpi64</code>, reflecting a change in name of the main overlay (from <code>rpi</code> to <code>genpi64</code>). Users interested in this migration should read my transcribed news article <a href=https://forums.gentoo.org/viewtopic-p-8362116.html#8362116>here</a>.</p> </li> </ul> <p><a id=why_weekly_update></a>These features, viz.: * the <code>genpi64:default/linux/arm64/17.0/desktop/genpi64</code> <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3>profile</a>, * the weekly autobuild <a href=https://isshoni.org/pi64pie>isshoni.org binhost</a>, * the 'weekly-gated', signature-authenticated portage rsync mirror (<code>rsync://isshoni.org/gentoo-portage-pi64-gem</code>), and * the <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcmrpi3-kernel-bis-bin><code>sys-kernel/bcmrpi3-kernel-bis-bin</code></a> and <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/sys-kernel/bcm2711-kernel-bis-bin><code>sys-kernel/bcm2711-kernel-bis-bin</code></a> binary kernel packages;</p> <p>make <strong>updating a typical system (with few user-added packages) possible with a near 100% hit rate on the binhost's binaries</strong>. As such, updating (via <a href=https://github.com/sakaki-/genup><code>genup</code></a>, for example, or an old-school <code>eix-sync &amp;&amp; emerge -uDUav --with-bdeps=y @world</code>) is <em>much</em> less onerous than before, and so has been <strong>automated</strong> on the image (via the <code>app-portage/weekly-genup</code> package, which installs a script in <code>/etc/cron.weekly</code>). This automated weekly updating can easily be disabled if you do not wish to use it (simply edit the file <code>/etc/portage/package.use/rpi-64bit-meta</code> and set the <code>-weekly-genup</code> USE flag, then <code>emerge -v rpi-64bit-meta</code>).</p> <h3 id=subscribed-ebuild-repositories-aka-overlays>Subscribed Ebuild Repositories (<em>aka</em> Overlays)<a class=headerlink href=#subscribed-ebuild-repositories-aka-overlays title="Permanent link">&para;</a></h3> <p>The image is subscribed to the following ebuild repositories: * <strong>gentoo</strong>: this is the main Gentoo tree of course, but is (by default) supplied via <code>rsync://isshoni.org/gentoo-portage-pi64-gem</code>, a weekly-gated, signature-authenticated portage rsync mirror locked to the binhost's available files, as described <a href=#rsync>above</a>. * <strong><a href=https://github.com/sakaki-/sakaki-tools>sakaki-tools</a></strong>: this provides a number of small utilities for Gentoo. The image currently uses the following ebuilds from the <code>sakaki-tools</code> overlay: * <strong>app-portage/showem</strong> <a href=https://github.com/sakaki-/showem>source</a>, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/showem.pdf>manpage</a></p> <div class=highlight><pre><span></span><code>A tool to view the progress of parallel `emerge` operations.
</code></pre></div> <ul> <li> <p><strong>app-portage/genup</strong> <a href=https://github.com/sakaki-/genup>source</a>, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/genup.pdf>manpage</a></p> <p>A utility for keeping Gentoo systems up to date. * <strong>app-portage/porthash</strong> <a href=https://github.com/sakaki-/porthash>source</a>, <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/porthash.pdf>manpage</a></p> <p>Checks, or creates, signed 'master' hashes of Gentoo repos (useful when distributing via e.g. <code>rsync</code>). Retired as of version 1.3.0 of this image in favour of Gentoo's official <code>gemato</code> verification. * <strong>sys-apps/me_cleaner</strong> <a href=https://github.com/corna/me_cleaner>upstream</a></p> <p>A tool for partial deblobbing of Intel ME/TXE firmware images, used to disable the Intel Management Engine (ME). Now bundled with the image for convenience, for those who would like to use their RPi3 as an external programmer to reflash the firmware on their PC. See <a href="https://wiki.gentoo.org/wiki/Sakaki's_EFI_Install_Guide/Disabling_the_Intel_Management_Engine">these notes</a> for further details. * <strong>sys-apps/coreboot-utils</strong> <a href=https://www.coreboot.org>upstream</a></p> <p>Provides some tools useful for inspection of Intel firmware images (used with <code>me_cleaner</code>, above).</p> </li> <li> <p><strong>media-gfx/fotoxx</strong> <a href=https://www.kornelix.net/fotoxx/fotoxx.html>upstream</a></p> <p>A program for improving image files from digital cameras (HDR etc). Supplies v19.13, which is not yet in the Gentoo tree.</p> </li> <li> <p><strong><a href=https://github.com/sakaki-/genpi64-overlay>genpi64</a></strong>: this overlay (which used to be named <code>rpi3</code> and was subsequently <a href=https://forums.gentoo.org/viewtopic-p-8362116.html#8362116>migrated</a> at v1.5.0 with the advent of RPi4 support) provides ebuilds specific to the Raspberry Pi 3 &amp; Pi 4, or builds that have fallen off the main Gentoo tree but which are the last known reliable variants for <code>arm64</code>. It also provides the <a href=#profile>custom profile</a> <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3><code>genpi64:default/linux/arm64/17.0/desktop/genpi64</code></a>. A list of provided ebuilds may be found on the <a href=https://github.com/sakaki-/genpi64-overlay#list_of_ebuilds>overlay's project page</a>.</p> </li> </ul> <h2 id=project-wiki><a id=projectwiki></a>Project Wiki<a class=headerlink href=#project-wiki title="Permanent link">&para;</a></h2> <p>In addition to the notes in this README, this project also has an associated open <strong>wiki</strong>, containing a number of short tutorial articles you may find helpful when using 64-bit Gentoo on your RPi3 or RPi4.</p> <p>You can view the wiki homepage <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/wiki>here</a>. Feel free to add your own material!</p> <h2 id=help-wanted><a id=helpwanted></a>Help Wanted!<a class=headerlink href=#help-wanted title="Permanent link">&para;</a></h2> <p>You've got this far through the README - I'm impressed <sup>-</sup>. In fact, you may be just the sort of person to help get <code>arm64</code> into a more stable state in the main Gentoo tree...</p> <p>To that end, if you have managed to get additional packages (not included in the original <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/blob/master/reference/world-all-packages>pre-installed set</a>) working reliably on your <code>gentoo-on-rpi-64bit</code> system, please feel free to submit PRs for the relevant <a href=#profile>profile</a> elements of the <a href=https://github.com/sakaki-/genpi64-overlay/tree/master/profiles/targets/rpi3><code>genpi64</code> overlay</a> (for example, <code>package.accept_keywords</code>, <code>package.bashrc</code> and <code>package.use</code> entries). Not only will upstreaming your changes help other users in the short term, it will also create a shared knowledge base (about how to get various packages working on <code>arm64</code>) that can be used as a sourcebook for keywording PRs (etc.) to the main Gentoo tree.</p> <p>Within reason, I'm also happy to consider adding working packages to the set maintained by the weekly-autobuild <a href=#binhost>binhost</a>; just open an <a href=https://github.com/sakaki-/gentoo-on-rpi-64bit/issues>issue</a> to request this.</p> <h2 id=acknowledgement>Acknowledgement<a class=headerlink href=#acknowledgement title="Permanent link">&para;</a></h2> <p>I'd like to acknowledge NeddySeagoon's work getting Gentoo to run in 64-bit mode on the RPi3 (see particularly <a href=https://forums.gentoo.org/viewtopic-t-1041352.html>this thread</a>, which was a really useful reference when putting this project together originally).</p> <h2 id=feedback-welcome>Feedback Welcome!<a class=headerlink href=#feedback-welcome title="Permanent link">&para;</a></h2> <p>If you have any problems, questions or comments regarding this project, feel free to drop me a line! (<a href=mailto:sakaki@deciban.com>&#115;&#97;&#107;&#97;&#107;&#105;&#64;&#100;&#101;&#99;&#105;&#98;&#97;&#110;&#46;&#99;&#111;&#109;</a>)</p> </article> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../gentoo-install/ class="md-footer__link md-footer__link--prev" aria-label="Previous: gentoo-install" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> gentoo-install </div> </div> </a> <a href=../gentoo-tools/ class="md-footer__link md-footer__link--next" aria-label="Next: gentoo-cheatsheet" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> gentoo-cheatsheet </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2015 - 2022 <a href=https://github.com/wuseman target=_blank rel=noopener>wuseman</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/wuseman target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/wuseman1 target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tabs.link", "content.tooltips", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.85cb4492.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": 1.0}</script> <script src=../../assets/javascripts/bundle.a877e258.min.js></script> </body> </html>