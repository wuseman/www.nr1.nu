<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content=wuseman><link href=https://www.nr1.nu/gentoo/gentoo-tools/ rel=canonical><link rel="shortcut icon" href=../../img/favicon.ico><title>gentoo-cheatsheet - Nr1 (wuseman's wiki)</title><link href=../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../css/font-awesome.min.css rel=stylesheet><link href=../../css/base.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css><link href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css rel=stylesheet><link href=../../assets/pymdownx-extras/extra-e384f43f0f.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><script src=../../js/jquery-1.10.2.min.js defer></script><script src=../../js/bootstrap-3.3.7.min.js defer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></head> <body> <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary"> <div class=container> <a class=navbar-brand href=../..>Nr1 (wuseman's wiki)</a> <!-- Expander button --> <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-collapse> <span class=navbar-toggler-icon></span> </button> <!-- Expanded navigation --> <div id=navbar-collapse class="navbar-collapse collapse"> <!-- Main navigation --> <ul class="nav navbar-nav"> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Home <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../.. class=dropdown-item>About</a> </li> <li> <a href=../../contact/ class=dropdown-item>Contact</a> </li> <li> <a href=../../cv/ class=dropdown-item>CV</a> </li> <li> <a href=../../usage_notes/ class=dropdown-item>Help</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Android <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../android/ class=dropdown-item>info</a> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>adb</a> <ul class=dropdown-menu> <li> <a href=../../android/adb/readme/ class=dropdown-item>adb</a> </li> <li> <a href=../../android/adb/at/ class=dropdown-item>at-commands</a> </li> <li> <a href=../../android/adb/uusd_codes/ class=dropdown-item>uusd-codes</a> </li> </ul> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Cracking <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../cracking/ class=dropdown-item>info</a> </li> <li> <a href=../../cracking/wloader/ class=dropdown-item>wloader</a> </li> </ul> </li> <li class="dropdown active"> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Gentoo <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=./ class="dropdown-item active">gentoo-cheatsheet</a> </li> <li> <a href=../gentoo-chroot/ class=dropdown-item>gentoo-chroot</a> </li> <li> <a href=../gentoo-vmware/ class=dropdown-item>gentoo-vmware</a> </li> <li> <a href=../wuseman-overlay/ class=dropdown-item>wuseman-overlay</a> </li> <li> <a href=../gentoo-update/ class=dropdown-item>gentoo-wupdate</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Hacking <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../hacking/ class=dropdown-item>hacking</a> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Bios</a> <ul class=dropdown-menu> <li> <a href=../../hacking/bios/ class=dropdown-item>bios</a> </li> <li> <a href=../../hacking/bios/hp_device_and_bios-hacking/ class=dropdown-item>hp bios</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Bruteforce</a> <ul class=dropdown-menu> <li> <a href=../../hacking/bruteforce/ class=dropdown-item>bruteforce</a> </li> <li> <a href=../../hacking/bruteforce/EMAGNET/ class=dropdown-item>emagnet</a> </li> <li> <a href=../../hacking/bruteforce/wbruter/ class=dropdown-item>wbruter</a> </li> <li> <a href=../../hacking/bruteforce/wssh/ class=dropdown-item>wssh</a> </li> <li> <a href=../../hacking/bruteforce/swedish_wordlist.txt/ class=dropdown-item>swedish wordlist</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Cameras</a> <ul class=dropdown-menu> <li> <a href=../../hacking/cameras/ class=dropdown-item>cameras</a> </li> <li> <a href=../../hacking/cameras/biltemas_babycam/ class=dropdown-item>biltemas babycam</a> </li> <li> <a href=../../hacking/cameras/dlink-6100lh/ class=dropdown-item>dlink-6100lh</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Chromebook</a> <ul class=dropdown-menu> <li> <a href=../../hacking/chromebook/ class=dropdown-item>chromebook</a> </li> <li> <a href=../../hacking/chromebook/acer_chromebook_c720/ class=dropdown-item>acer c720</a> </li> <li> <a href=../../hacking/chromebook/acer_chromebook_c740/ class=dropdown-item>acer c740</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Radio</a> <ul class=dropdown-menu> <li> <a href=../../hacking/radio/ class=dropdown-item>radio</a> </li> <li> <a href=../../hacking/radio/boose_soundtouch/ class=dropdown-item>boose soundtouch</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Router</a> <ul class=dropdown-menu> <li> <a href=../../hacking/routers/ class=dropdown-item>router</a> </li> <li> <a href=../../hacking/routers/technicolor_dga4330ts/ class=dropdown-item>technicolor dga4330ts</a> </li> </ul> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Linux <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../linux/apt/ class=dropdown-item>apt</a> </li> <li> <a href=../../linux/awk/ class=dropdown-item>awk</a> </li> <li> <a href=../../linux/chroot/ class=dropdown-item>chroot</a> </li> <li> <a href=../../linux/cryptsetup/ class=dropdown-item>cryptsetup</a> </li> <li> <a href=../../linux/curl/ class=dropdown-item>curl</a> </li> <li> <a href=../../linux/dev_and_proc/ class=dropdown-item>dev and proc</a> </li> <li> <a href=../../linux/exiftool/ class=dropdown-item>exiftool</a> </li> <li> <a href=../../linux/find/ class=dropdown-item>find</a> </li> <li> <a href=../../linux/git/ class=dropdown-item>git</a> </li> <li> <a href=../../linux/gnupg/ class=dropdown-item>gnupg</a> </li> <li> <a href=../../linux/grep/ class=dropdown-item>grep</a> </li> <li> <a href=../../linux/kernel/ class=dropdown-item>kernel</a> </li> <li> <a href=../../linux/log/ class=dropdown-item>log</a> </li> <li> <a href=../../linux/matomo/ class=dropdown-item>matomo</a> </li> <li> <a href=../../linux/merge-tricks/ class=dropdown-item>merge tricks</a> </li> <li> <a href=../../linux/nmap/ class=dropdown-item>nmap</a> </li> <li> <a href=../../linux/netstat/ class=dropdown-item>netstat</a> </li> <li> <a href=../../linux/perf/ class=dropdown-item>perf</a> </li> <li> <a href=../../linux/rename/ class=dropdown-item>rename</a> </li> <li> <a href=../../linux/rg/ class=dropdown-item>ripgrep</a> </li> <li> <a href=../../linux/sed/ class=dropdown-item>sed</a> </li> <li> <a href=../../linux/ssh-log/ class=dropdown-item>ssh-log</a> </li> <li> <a href=../../linux/syslog-ng/syslog-conf.ng/ class=dropdown-item>syslog-ng</a> </li> <li> <a href=../../linux/sys/ class=dropdown-item>sys</a> </li> <li> <a href=../../linux/sqlmap/ class=dropdown-item>sqlmap</a> </li> <li> <a href=../../linux/tcpdump/ class=dropdown-item>tcpdump</a> </li> <li> <a href=../../linux/whatismyip/ class=dropdown-item>whatismyip</a> </li> <li> <a href=../../linux/wireguard/ class=dropdown-item>wireguard</a> </li> <li> <a href=../../linux/vim/ class=dropdown-item>vim</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Misc <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../archive/useragents/user_agents.txt class=dropdown-item>UserAgents</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav ml-auto"> <li class=nav-item> <a href=# class=nav-link data-toggle=modal data-target=#mkdocs_search_modal> <i class="fa fa-search"></i> Search </a> </li> <li class=nav-item> <a rel=prev href=../../cracking/wloader/ class=nav-link> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li class=nav-item> <a rel=next href=../gentoo-chroot/ class=nav-link> Next <i class="fa fa-arrow-right"></i> </a> </li> <li class=nav-item> <a href=https://github.com/www.nr1.nu/tree/master/docs/src/markdown/gentoo/gentoo-tools.md class=nav-link>Edit on www.nr1.nu</a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role=complementary> <div class=navbar-header> <button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#toc-collapse title="Table of Contents"> <span class="fa fa-angle-down"></span> </button> </div> <div id=toc-collapse class="navbar-collapse collapse card bg-secondary"> <ul class="nav flex-column"> <li class=nav-item data-level=1><a href=#gentoo-cheatsheet class=nav-link>gentoo-cheatsheet</a> <ul class="nav flex-column"> </ul> </li> </ul> </div> </div></div> <div class=col-md-9 role=main> <h1 id=gentoo-cheatsheet>gentoo-cheatsheet<a class=headerlink href=#gentoo-cheatsheet title="Permanent link"></a></h1> <p>Here is my personal wiki I created during years when I worked with Gentoo shell, feel free to use/copy/link this wiki as you wish but please add a url to my wiki.</p> <h3 id=qxpak>qxpak<a class=headerlink href=#qxpak title="Permanent link"></a></h3> <ul> <li>manipulate xpak archives</li> </ul> <p><img alt=qxpak src=https://user-images.githubusercontent.com/26827453/168084001-d3a5e16c-511e-4217-93d3-7d49434cd3a8.png></p> <h3 id=qkeyword>qkeyword<a class=headerlink href=#qkeyword title="Permanent link"></a></h3> <ul> <li>list packages based on keywords</li> </ul> <p><img alt=qkeyword src=https://user-images.githubusercontent.com/26827453/168083420-98873763-dc35-4189-8c79-0d2c1437cf59.png> <img alt=qkeyword2 src=https://user-images.githubusercontent.com/26827453/168083432-4a31fd26-ec85-4df5-a3d4-fd38d1989997.png></p> <p><img alt=qdropped src=https://user-images.githubusercontent.com/26827453/168083658-b6c555a0-bb3f-4777-b68b-0360254b6e66.png></p> <h3 id=qsize>qsize<a class=headerlink href=#qsize title="Permanent link"></a></h3> <ul> <li>calculate size usage</li> </ul> <p><img alt=1 src=https://user-images.githubusercontent.com/26827453/168079721-0b851f77-ed62-40fb-9fd4-9bb095602caf.png></p> <h3 id=qlop>qlop<a class=headerlink href=#qlop title="Permanent link"></a></h3> <ul> <li>emerge log analyzer</li> </ul> <p><img alt=Screenshot_20220512_124333 src=https://user-images.githubusercontent.com/26827453/168077349-f38fe013-ebaf-4046-8225-0da762e79c5f.png></p> <p><img alt=qlop src=https://user-images.githubusercontent.com/26827453/168076806-a75790c1-1445-446a-8ea2-69878190dc8d.png></p> <h3 id=quse>quse<a class=headerlink href=#quse title="Permanent link"></a></h3> <ul> <li>find pkgs using useflags &amp; print useflag description and much more</li> </ul> <p><img alt=13221313 src=https://user-images.githubusercontent.com/26827453/168077908-b50dac67-777b-4acf-81c6-e0286cdda8f6.png></p> <h3 id=qtegrity>qtegrity<a class=headerlink href=#qtegrity title="Permanent link"></a></h3> <ul> <li>verify files with IMA</li> </ul> <p><img alt=qtegrity src=https://user-images.githubusercontent.com/26827453/168084318-9f4fc6c4-858f-400b-8d81-311f602870d9.png></p> <h3 id=qsearch>qsearch<a class=headerlink href=#qsearch title="Permanent link"></a></h3> <ul> <li>search packages and descriptions and much more really really quick but its not faster then eix yet</li> </ul> <p><img alt=2313131 src=https://user-images.githubusercontent.com/26827453/168079053-47b2bcff-743e-4da7-a0ab-666a4765ae15.png></p> <ul> <li>qsearch vs eix</li> </ul> <p><img alt=21312313112313 src=https://user-images.githubusercontent.com/26827453/168078555-7f72d3ef-0a1c-4275-b0cb-9edc6fac0d59.png></p> <h3 id=qcheck>qcheck<a class=headerlink href=#qcheck title="Permanent link"></a></h3> <ul> <li>verify integrity of installed packages</li> </ul> <p><img alt=qcheck src=https://user-images.githubusercontent.com/26827453/168080040-1d80a0b4-3f81-4253-954f-c40c575d21d8.png></p> <h3 id=qwhich>qwhich<a class=headerlink href=#qwhich title="Permanent link"></a></h3> <ul> <li>as which but for gentoo ebuild and packages</li> </ul> <p><img alt=22 src=https://user-images.githubusercontent.com/26827453/168080606-022b0955-12d5-410c-a70a-4cfe0df01261.png></p> <h3 id=qgrep>qgrep<a class=headerlink href=#qgrep title="Permanent link"></a></h3> <ul> <li>like RipGrep or The Silver Searcherbut for Gentoo ebuilds</li> </ul> <p><img alt=qgrep src=https://user-images.githubusercontent.com/26827453/168080917-ee2f34e3-aa41-44f2-9a1c-97fe088070e3.png></p> <h3 id=qmanifest>qmanifest<a class=headerlink href=#qmanifest title="Permanent link"></a></h3> <ul> <li>verify or generate thick Manifest files</li> </ul> <h3 id=gpg-signature-is-invalid>gpg signature is invalid<a class=headerlink href=#gpg-signature-is-invalid title="Permanent link"></a></h3> <ul> <li>I doing this readme while I wait for portage to be finished and all is cool :)</li> </ul> <p><img alt=qmanifest src=https://user-images.githubusercontent.com/26827453/168081676-18597ffb-6085-489e-8e93-2dc37039a58e.png></p> <h3 id=qatom>qatom<a class=headerlink href=#qatom title="Permanent link"></a></h3> <p><img alt=1231 src=https://user-images.githubusercontent.com/26827453/168081307-db140f84-63b0-484d-9bc8-47af7ca3d523.png></p> <h3 id=qfile>qfile<a class=headerlink href=#qfile title="Permanent link"></a></h3> <ul> <li>list all pkgs owning files</li> </ul> <p><img alt=qfile src=https://user-images.githubusercontent.com/26827453/168082244-be6061b6-2c59-4756-b81a-d0ba2401d61d.png></p> <h3 id=qpkg>qpkg<a class=headerlink href=#qpkg title="Permanent link"></a></h3> <ul> <li>create or manipulate Gentoo binpkgs</li> </ul> <p><img alt=qpkg src=https://user-images.githubusercontent.com/26827453/168082423-b5d80944-dfe8-4cd0-864c-248fa3ac3ab3.png></p> <h3 id=qtbz2>qtbz2<a class=headerlink href=#qtbz2 title="Permanent link"></a></h3> <p><img alt=qtbz2 src=https://user-images.githubusercontent.com/26827453/168082592-58f09cd0-b2c6-47c2-a6d2-7f1ba22f0f0b.png></p> <h3 id=qdepends>qdepends<a class=headerlink href=#qdepends title="Permanent link"></a></h3> <ul> <li>show dependency info</li> </ul> <p><img alt=qdepends src=https://user-images.githubusercontent.com/26827453/168082947-4c6f6b75-8c7e-4ac0-9c0c-8ba10e625d49.png></p> <h3 id=eshowkw>eshowkw<a class=headerlink href=#eshowkw title="Permanent link"></a></h3> <ul> <li>Display keywords for specified package or for package that is in pwd</li> <li>eshowkw is i from gentoolkit package and is not in stage3</li> </ul> <p><img alt="gentoolkit eshowkw" src=https://user-images.githubusercontent.com/26827453/168084691-ef2e63da-a129-4746-bcb0-2e1dfa06866e.png></p> <h3 id=sync-and-update-portage-tree-via-emerge>Sync and update Portage tree via emerge<a class=headerlink href=#sync-and-update-portage-tree-via-emerge title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge --sync                                                                                              
</code></pre></div> <h3 id=sync-and-update-portage-tree-via-eix>Sync and update Portage tree via eix<a class=headerlink href=#sync-and-update-portage-tree-via-eix title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eix-sync -a<span class=p>;</span> eix-update -a      
</code></pre></div> <h3 id=sync-all-repositories-that-are-set-to-auto-sync-including-the-gentoo-ebuild-repository>Sync all repositories that are set to auto-sync including the Gentoo ebuild repository<a class=headerlink href=#sync-all-repositories-that-are-set-to-auto-sync-including-the-gentoo-ebuild-repository title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emaint -a sync                                                                                             
</code></pre></div> <h3 id=sync-the-gentoo-ebuild-repository-using-the-mirrors-by-obtaining-a-snapshot-that-is-at-most-a-day-old>Sync the Gentoo ebuild repository using the mirrors by obtaining a snapshot that is (at most) a day old:<a class=headerlink href=#sync-the-gentoo-ebuild-repository-using-the-mirrors-by-obtaining-a-snapshot-that-is-at-most-a-day-old title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge-webrsync                                 
</code></pre></div> <h3 id=upgrade-entire-system>Upgrade entire system<a class=headerlink href=#upgrade-entire-system title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -avuDN --with-bdeps y --keep-going world                                                            
</code></pre></div> <h3 id=upgrade-all-installed-packages-dependencies-and-deep-dependencies-that-are-outdated-or-have-use-flag-changes>Upgrade all installed packages, dependencies, and deep dependencies that are outdated or have USE flag changes<a class=headerlink href=#upgrade-all-installed-packages-dependencies-and-deep-dependencies-that-are-outdated-or-have-use-flag-changes title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -uDU --keep-going --with-bdeps<span class=o>=</span>y @world                                                             
</code></pre></div> <h3 id=run-if-you-edited-any-use-flags>Run if you edited any use flags<a class=headerlink href=#run-if-you-edited-any-use-flags title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge --update --changed-use --deep --quiet @world                                                        
</code></pre></div> <h3 id=install-a-package-but-excluding-it-from-the-world-file>Install a package but excluding it from the world file<a class=headerlink href=#install-a-package-but-excluding-it-from-the-world-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge --oneshot www-client/firefox                                                                       
</code></pre></div> <h3 id=list-what-packages-would-be-installed-without-installing-them>List what packages would be installed without installing them:<a class=headerlink href=#list-what-packages-would-be-installed-without-installing-them title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -pv www-client/firefox                                                                              
</code></pre></div> <h3 id=ask-portage-what-would-be-installed-when-installing-firefox>Ask portage what would be installed when installing firefox<a class=headerlink href=#ask-portage-what-would-be-installed-when-installing-firefox title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -a www-client/firefox                                                                               
</code></pre></div> <h3 id=make-configuration-files-up-2-date-if-needed>Make configuration files up-2-date if needed<a class=headerlink href=#make-configuration-files-up-2-date-if-needed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>etc-update                                                                                                 
</code></pre></div> <h3 id=fix-static-library>Fix static library<a class=headerlink href=#fix-static-library title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>lafilefixer --justfixit <span class=p>|</span> grep -v skipping                                                                 
</code></pre></div> <h3 id=remove-packages-no-longer-needed>Remove packages no longer needed:<a class=headerlink href=#remove-packages-no-longer-needed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -av --depclean                                                                                      
</code></pre></div> <h3 id=reverse-dynamic-library-dependency>Reverse dynamic library Dependency<a class=headerlink href=#reverse-dynamic-library-dependency title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>revdep-rebuild                                                                                             
</code></pre></div> <h3 id=clean-old-distfiles>Clean old distfiles<a class=headerlink href=#clean-old-distfiles title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eclean -d distfiles                                                                                        
</code></pre></div> <h3 id=list-installed-packages>List installed packages<a class=headerlink href=#list-installed-packages title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>qlist -IRv                                                                                                 
</code></pre></div> <h3 id=list-installed-packages-more-clean>List installed packages more clean<a class=headerlink href=#list-installed-packages-more-clean title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>qlist -I           
</code></pre></div> <h3 id=obtain-descriptions-and-usage-of-the-use-flag-x-using-euse>Obtain descriptions and usage of the USE flag X using euse:<a class=headerlink href=#obtain-descriptions-and-usage-of-the-use-flag-x-using-euse title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>euse -i X                                                                                                  
</code></pre></div> <h3 id=obtain-a-description-of-the-png-use-flag>Obtain a description of the png USE flag:<a class=headerlink href=#obtain-a-description-of-the-png-use-flag title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>euse -i <span class=p>|</span> grep png                                                                                         
</code></pre></div> <h3 id=show-what-packages-have-the-mysql-use-flag>Show what packages have the mysql USE flag:<a class=headerlink href=#show-what-packages-have-the-mysql-use-flag title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>equery hasuse mysql                                                                                        
</code></pre></div> <h3 id=show-what-packages-are-currently-built-with-the-mysql-use-flag>Show what packages are currently built with the mysql USE flag:<a class=headerlink href=#show-what-packages-are-currently-built-with-the-mysql-use-flag title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eix --installed-with-use mysql                                                                             
</code></pre></div> <h3 id=show-what-use-flags-are-available-for-a-specific-package>Show what USE flags are available for a specific package:<a class=headerlink href=#show-what-use-flags-are-available-for-a-specific-package title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>equery uses &lt;package-name&gt;                                                                                 
</code></pre></div> <h3 id=view-the-last-10-emerges-installs>View the last 10 emerges (installs):<a class=headerlink href=#view-the-last-10-emerges-installs title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>genlop -l <span class=p>|</span> tail -n <span class=m>10</span>                                                                                     
</code></pre></div> <h3 id=view-how-long-emerging-libreoffice-took>View how long emerging LibreOffice took:<a class=headerlink href=#view-how-long-emerging-libreoffice-took title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>genlop -t libreoffice                                                                                      
</code></pre></div> <h3 id=estimate-how-long-emerge--und---with-bdepsy-world-will-take>Estimate how long emerge -uND &ndash;with-bdeps=y <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/world title="GitHub User: world">@world</a> will take:<a class=headerlink href=#estimate-how-long-emerge--und---with-bdepsy-world-will-take title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -pU @world <span class=p>|</span> genlop --pretend                                                                       
</code></pre></div> <h3 id=watch-the-latest-merging-ebuild-during-system-upgrades>Watch the latest merging ebuild during system upgrades:<a class=headerlink href=#watch-the-latest-merging-ebuild-during-system-upgrades title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>watch genlop -unc             
</code></pre></div> <h3 id=list-all-existing-overlays>List all existing overlays:<a class=headerlink href=#list-all-existing-overlays title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eselect repository list         
</code></pre></div> <h3 id=list-all-installed-overlays>List all installed overlays:<a class=headerlink href=#list-all-installed-overlays title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eselect repository list -i                                                                                
</code></pre></div> <h3 id=sync-layman-repos>Sync layman repos<a class=headerlink href=#sync-layman-repos title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>layman -S            
</code></pre></div> <h3 id=list-all-existing-overlays_1>List all existing overlays:<a class=headerlink href=#list-all-existing-overlays_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>layman -L                                                                                                  
</code></pre></div> <h3 id=list-all-installed-overlays_1>List all installed overlays:<a class=headerlink href=#list-all-installed-overlays_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>layman -l                      
</code></pre></div> <h3 id=show-packages-explicitly-installed>Show packages explicitly installed.<a class=headerlink href=#show-packages-explicitly-installed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>cat /var/lib/portage/world   
</code></pre></div> <h3 id=to-show-all-the-installed-packages-including-dependencies>to show all the installed packages, including dependencies.<a class=headerlink href=#to-show-all-the-installed-packages-including-dependencies title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>equery list *
</code></pre></div> <h3 id=read-news-about-portage-updates>Read news about Portage updates.<a class=headerlink href=#read-news-about-portage-updates title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eselect news <span class=nb>read</span>                                                                                         
</code></pre></div> <h3 id=search-for-a-package-to-see-what-exists>Search for a package to see what exists.<a class=headerlink href=#search-for-a-package-to-see-what-exists title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -s package                              
</code></pre></div> <h3 id=like-above-except-it-will-search-all-the-descriptive-text-in-addition-to-the-package-name-note-that-regular-expressions-are-used-for-this-search>Like above, except it will search all the descriptive text in addition to the package name. Note that Regular Expressions are used for this search.<a class=headerlink href=#like-above-except-it-will-search-all-the-descriptive-text-in-addition-to-the-package-name-note-that-regular-expressions-are-used-for-this-search title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -S package                                                                                        
</code></pre></div> <h3 id=to-see-the-effect-of-use-flags-on-the-specified-package-requires-gentoolkit>To see the effect of USE flags on the specified package (requires gentoolkit).<a class=headerlink href=#to-see-the-effect-of-use-flags-on-the-specified-package-requires-gentoolkit title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>equery uses package
</code></pre></div> <h3 id=pretend-to-install-a-package-in-order-to-show-a-preview-of-the-dependencies-etc-that-will-be-installed-in-total>Pretend to install a package, in order to show a preview of the dependencies, etc. that will be installed in total.<a class=headerlink href=#pretend-to-install-a-package-in-order-to-show-a-preview-of-the-dependencies-etc-that-will-be-installed-in-total title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -p package
</code></pre></div> <h3 id=like-above-except-it-will-ask-to-proceed-after-showing-a-preview-of-what-will-happen>Like above, except it will ask to proceed after showing a preview of what will happen.<a class=headerlink href=#like-above-except-it-will-ask-to-proceed-after-showing-a-preview-of-what-will-happen title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -a package   
</code></pre></div> <h3 id=to-install-quietly-omitting-all-the-technical-compilation-output>to install quietly, omitting all the technical compilation output.<a class=headerlink href=#to-install-quietly-omitting-all-the-technical-compilation-output title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -q package                                                                                         
</code></pre></div> <h3 id=to-update-all-packages-explicitly-installed-as-well-as-their-dependencies-and-their-build-dependencies-pretending-at-first>to update all packages explicitly installed, as well as their dependencies and their build dependencies, pretending at first.<a class=headerlink href=#to-update-all-packages-explicitly-installed-as-well-as-their-dependencies-and-their-build-dependencies-pretending-at-first title="Permanent link"></a></h3> <p>```sh emerge -uD &ndash;with-bdeps=y <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/world title="GitHub User: world">@world</a> -p <br> <div class=highlight><pre><span></span><code>### like above, except changes to USE flags will also be considered in determining what needs to be re-built.
emerge -uDN --with-bdeps=y @world -p                                                                       #
</code></pre></div></p> <h3 id=to-resolve-changes-to-config-files-made-by-portage-updates>to resolve changes to config files made by Portage updates.<a class=headerlink href=#to-resolve-changes-to-config-files-made-by-portage-updates title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>etc-update                                                                                                
</code></pre></div> <h3 id=view-portage-logs>View Portage logs.<a class=headerlink href=#view-portage-logs title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eread
</code></pre></div> <h3 id=choose-which-version-of-c-compiler-to-use>Choose which version of C++ compiler to use.<a class=headerlink href=#choose-which-version-of-c-compiler-to-use title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>gcc-config           
</code></pre></div> <h3 id=rebuild-the-toolchain-after-changing-which-version-of-c-compiler-to-use>Rebuild the "toolchain" after changing which version of C++ compiler to use.<a class=headerlink href=#rebuild-the-toolchain-after-changing-which-version-of-c-compiler-to-use title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>env-update <span class=o>&amp;&amp;</span> <span class=nb>source</span> /etc/profile <span class=o>&amp;&amp;</span> emerge binutils glibc -1q                                            
emerge -Ca package       
</code></pre></div> <h3 id=remove-a-package>Remove a package.<a class=headerlink href=#remove-a-package title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge -ca <span class=o>(</span>--depclean --ask<span class=o>)</span>                           
</code></pre></div> <h3 id=remove-unneeded-dependencies>Remove unneeded dependencies.<a class=headerlink href=#remove-unneeded-dependencies title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>emerge @preserved-rebuild
</code></pre></div> <h3 id=rebuild-packages-whose-dynamically-linked-dependencies-are-no-longer-needed-and-have-been-removed-requires-gentoolkit-pretending-at-first>Rebuild packages whose (dynamically linked) dependencies are no longer needed and have been removed (requires gentoolkit), pretending at first.<a class=headerlink href=#rebuild-packages-whose-dynamically-linked-dependencies-are-no-longer-needed-and-have-been-removed-requires-gentoolkit-pretending-at-first title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>revdep-rebuild -p                                                                                          <span class=c1>#</span>
</code></pre></div> <h3 id=to-delete-leftover-package-installationbuild-files-destructive-means-to-remove-stuff-except-for-packages-explicitly-installed-pretending-at-first>to delete leftover package installation/build files; destructive means to remove stuff except for packages explicitly installed, pretending at first.<a class=headerlink href=#to-delete-leftover-package-installationbuild-files-destructive-means-to-remove-stuff-except-for-packages-explicitly-installed-pretending-at-first title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eclean -d -p distfiles                                                                                     
</code></pre></div> <h3 id=delete-leftover-package-installationbuild-files-regardless-of-whether-you-might-want-them-again>Delete leftover package installation/build files, regardless of whether you might want them again.<a class=headerlink href=#delete-leftover-package-installationbuild-files-regardless-of-whether-you-might-want-them-again title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>rm /usr/portage/distfiles/*                                                                              
</code></pre></div> <h3 id=choose-a-version-of-the-kernel-source>Choose a version of the kernel source.<a class=headerlink href=#choose-a-version-of-the-kernel-source title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>eselect kernel                                                                                            
</code></pre></div> <h3 id=configure-kernel>Configure kernel.<a class=headerlink href=#configure-kernel title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>cd</span> /usr/src/linux <span class=o>&amp;&amp;</span> make menuconfig                                                                      
</code></pre></div> <h3 id=show-which-services-are-started-in-which-runlevels-including-those-inactive>Show which services are started in which runlevels, including those inactive.<a class=headerlink href=#show-which-services-are-started-in-which-runlevels-including-those-inactive title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>rc-config list                                                                                            
</code></pre></div> <h3 id=show-which-services-are-started-in-which-runlevels-in-a-slightly-different-format>Show which services are started in which runlevels, in a slightly different format.<a class=headerlink href=#show-which-services-are-started-in-which-runlevels-in-a-slightly-different-format title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>rc-update                                                                                                 
</code></pre></div> <h3 id=add-a-service-such-as-apache2-to-a-runlevel-such-as-default-so-that-it-gets-started-when-the-computer-boots-up>Add a service, such as apache2, to a runlevel, such as default, so that it gets started when the computer boots up.<a class=headerlink href=#add-a-service-such-as-apache2-to-a-runlevel-such-as-default-so-that-it-gets-started-when-the-computer-boots-up title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>rc-update add service runlevel                                                                             
</code></pre></div> <h3 id=show-which-services-are-currently-running>Show which services are currently running.<a class=headerlink href=#show-which-services-are-currently-running title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>rc-status                          
</code></pre></div> <h3 id=restart-a-service-besides-restart-you-can-also-start-stop-etc>Restart a service. Besides restart, you can also start, stop, etc.<a class=headerlink href=#restart-a-service-besides-restart-you-can-also-start-stop-etc title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>/etc/init.d/service restart                                                                                
</code></pre></div> <h3 id=find-packages-not-installed-by-portage>Find packages not installed by portage<a class=headerlink href=#find-packages-not-installed-by-portage title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>find /usr/bin <span class=p>|</span> xargs -I<span class=o>{}</span> qfile -o <span class=o>{}</span>                                                                    
</code></pre></div> <div class=highlight><pre><span></span><code>root <span class=c1># quse -D terminal</span>

app-editors/gedit-plugins<span class=o>[</span>terminal<span class=o>]</span> Embed a terminal <span class=k>in</span> the bottom pane
app-editors/vim<span class=o>[</span>terminal<span class=o>]</span> Enable terminal emulation support
dev-qt/qt-creator<span class=o>[</span>serialterminal<span class=o>]</span> Build the serial terminal plugin
dev-util/anjuta<span class=o>[</span>terminal<span class=o>]</span> Enable terminal plugin based on x11-libs/vte
lxqt-base/lxqt-meta<span class=o>[</span>terminal<span class=o>]</span> Install x11-terms/qterminal package
mate-extra/caja-extensions<span class=o>[</span>open-terminal<span class=o>]</span> Add an extension to support an open terminal.
</code></pre></div> <div class="admonition warn"> <p class=admonition-title>Warning</p> </div> <p>Remember that if you subsequently use the target machine directly at its keyboard, you'll be working outside of the chroot, and all your paths will be incorrect (e.g. the new system will still appear at /mnt/gentoo/). It's an easy mistake to make, hence the renaming of the prompts. Once the kernel is built and the machine rebooted, we'll be 'natively' inside the new system, at which point this path issue will disappear.</p> <div class=highlight><pre><span></span><code><span class=ch>#!/bin/bash</span>

mount --types proc /proc /mnt/gentoo/proc
mount --rbind /sys /mnt/gentoo/sys
mount --make-rslave /mnt/gentoo/sys
mount --rbind /dev /mnt/gentoo/dev
mount --make-rslave /mnt/gentoo/dev
mount --bind /run /mnt/gentoo/run
mount --make-slave /mnt/gentoo/run 
    
chroot /mnt/gentoo /bin/bash
<span class=nb>source</span> /etc/profile
<span class=nb>export</span> <span class=nv>PS1</span><span class=o>=</span><span class=s2>&quot;(chroot) </span><span class=nv>$PS1</span><span class=s2>&quot;</span>
</code></pre></div> <p><img alt=23213213 src=https://user-images.githubusercontent.com/26827453/168069798-7c238f62-d353-4fc2-a1cf-081524512981.png></p> <blockquote> <p>Doing same things over and over and over again is boring, adding this part for myself so I can copy and paste when I installing Gentoo Doing this 1 time / month for different users/companies so if you reading this and installing gentoo. This is the last part beforing we we mounting the folders above and jumping in to our new enviroment/setup</p> </blockquote> <div class=highlight><pre><span></span><code>cp /mnt/usb/install/portage/make.conf /mnt/gentoo/etc/portage/
mkdir -p -v /mnt/gentoo/etc/portage/repos.conf 
cp -v /mnt/gentoo/usr/share/portage/config/repos.conf /mnt/gentoo/etc/portage/repos.conf/gentoo.conf
</code></pre></div> <p><img alt=23213213 src=https://user-images.githubusercontent.com/26827453/168069798-7c238f62-d353-4fc2-a1cf-081524512981.png></p> <div class=highlight><pre><span></span><code>emerge sys-kernel/gentoo-sources sys-kernel/genkernel sys-boot/grub:2 app-portage/gentoolkit app-editors/vim sys-apps/ripgrep-all sys-process/parallel  sys-fs/cryptsetup wpa_supplicant net-analyzer/netcat  app-arch/atool app-arch/p7zip
</code></pre></div> <p><img alt=Screenshot_20220512_122818 src=https://user-images.githubusercontent.com/26827453/168074931-ed69c98d-d842-4c2a-87c8-05e63aaa4954.png></p> <p><div class=highlight><pre><span></span><code><span class=nb>printf</span> <span class=s1>&#39;### Gentoo Kernel\n%s\n\n### Genkernel for initramfs \n%s\n\n### Grub:2 as bootloader\n%s\n\n&#39;</span> <span class=se>\</span>
       <span class=s1>&#39;sys-kernel/gentoo-sources symlink&#39;</span> <span class=se>\</span>
       <span class=s1>&#39;sys-kernel/genkernel cryptsetup&#39;</span> <span class=se>\</span>
       <span class=s1>&#39;sys-boot/grub:2 device-mapper&#39;</span> <span class=se>\</span>
       <span class=s1>&#39;app-arch/p7zip rar&#39;</span> &gt; /etc/portage/package.use/elitebook_useflags 
</code></pre></div> <img alt=21321 src=https://user-images.githubusercontent.com/26827453/168071643-19305b7a-d504-4a82-bd71-73ac59e73f89.png></p> <div class=highlight><pre><span></span><code>eix-update
eix-sync -a
emerge --oneshot sys-apps/portage
</code></pre></div> <p><img alt=3123213213 src=https://user-images.githubusercontent.com/26827453/168075079-5b49512d-8d33-4ea0-9ab0-18d36690728f.png></p></div> </div> </div> <footer class=col-md-12> <hr> <p>Copyright &copy; 2015 - 2022 <a href=https://github.com/wuseman target=_blank rel=noopener>wuseman</a> </p> <p>Documentation built with <a href=https://www.mkdocs.org/ >MkDocs</a>.</p> </footer> <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script> <script src=../../js/base.js defer></script> <script src=https://unpkg.com/mermaid@8.13.3/dist/mermaid.min.js defer></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js defer></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js defer></script> <script src=../../assets/pymdownx-extras/extra-loader-5bb526e4.js defer></script> <script src=../../search/main.js defer></script> <div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true> <div class="modal-dialog modal-lg"> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=searchModalLabel>Search</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <p>From here you can search these documents. Enter your search terms below.</p> <form> <div class=form-group> <input type=search class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"> </div> </form> <div id=mkdocs-search-results data-no-results-text="No results found"></div> </div> <div class=modal-footer> </div> </div> </div> </div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <table class=table> <thead> <tr> <th style="width: 20%;">Keys</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td class="help shortcut"><kbd>?</kbd></td> <td>Open this help</td> </tr> <tr> <td class="next shortcut"><kbd>n</kbd></td> <td>Next page</td> </tr> <tr> <td class="prev shortcut"><kbd>p</kbd></td> <td>Previous page</td> </tr> <tr> <td class="search shortcut"><kbd>s</kbd></td> <td>Search</td> </tr> </tbody> </table> </div> <div class=modal-footer> </div> </div> </div> </div> </body> </html> 