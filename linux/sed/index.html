<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content=wuseman><link href=https://www.nr1.nu/linux/sed/ rel=canonical><link rel="shortcut icon" href=../../img/favicon.ico><title>sed - Nr1 (wuseman's wiki)</title><link href=../../css/bootstrap-3.3.7.min.css rel=stylesheet><link href=../../css/font-awesome.min.css rel=stylesheet><link href=../../css/base.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css><link href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css rel=stylesheet><link href=../../assets/pymdownx-extras/extra-e384f43f0f.css rel=stylesheet><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><script src=../../js/jquery-1.10.2.min.js defer></script><script src=../../js/bootstrap-3.3.7.min.js defer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></head> <body> <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary"> <div class=container> <a class=navbar-brand href=../..>Nr1 (wuseman's wiki)</a> <!-- Expander button --> <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-collapse> <span class=navbar-toggler-icon></span> </button> <!-- Expanded navigation --> <div id=navbar-collapse class="navbar-collapse collapse"> <!-- Main navigation --> <ul class="nav navbar-nav"> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Home <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../.. class=dropdown-item>About</a> </li> <li> <a href=../../contact/ class=dropdown-item>Contact</a> </li> <li> <a href=../../cv/ class=dropdown-item>CV</a> </li> <li> <a href=../../usage_notes/ class=dropdown-item>Help</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Android <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../android/ class=dropdown-item>info</a> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>adb</a> <ul class=dropdown-menu> <li> <a href=../../android/adb/readme/ class=dropdown-item>adb</a> </li> <li> <a href=../../android/adb/at/ class=dropdown-item>at-commands</a> </li> <li> <a href=../../android/adb/uusd_codes/ class=dropdown-item>uusd-codes</a> </li> </ul> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Cracking <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../cracking/ class=dropdown-item>info</a> </li> <li> <a href=../../cracking/wloader/ class=dropdown-item>wloader</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Gentoo <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../gentoo/gentoo-tools/ class=dropdown-item>gentoo-cheatsheet</a> </li> <li> <a href=../../gentoo/gentoo-chroot/ class=dropdown-item>gentoo-chroot</a> </li> <li> <a href=../../gentoo/gentoo-vmware/ class=dropdown-item>gentoo-vmware</a> </li> <li> <a href=../../gentoo/wuseman-overlay/ class=dropdown-item>wuseman-overlay</a> </li> <li> <a href=../../gentoo/gentoo-update/ class=dropdown-item>gentoo-wupdate</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Hacking <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../hacking/ class=dropdown-item>hacking</a> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Bios</a> <ul class=dropdown-menu> <li> <a href=../../hacking/bios/ class=dropdown-item>bios</a> </li> <li> <a href=../../hacking/bios/hp_device_and_bios-hacking/ class=dropdown-item>hp bios</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Bruteforce</a> <ul class=dropdown-menu> <li> <a href=../../hacking/bruteforce/ class=dropdown-item>bruteforce</a> </li> <li> <a href=../../hacking/bruteforce/EMAGNET/ class=dropdown-item>emagnet</a> </li> <li> <a href=../../hacking/bruteforce/wbruter/ class=dropdown-item>wbruter</a> </li> <li> <a href=../../hacking/bruteforce/wssh/ class=dropdown-item>wssh</a> </li> <li> <a href=../../hacking/bruteforce/swedish_wordlist.txt/ class=dropdown-item>swedish wordlist</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Cameras</a> <ul class=dropdown-menu> <li> <a href=../../hacking/cameras/ class=dropdown-item>cameras</a> </li> <li> <a href=../../hacking/cameras/biltemas_babycam/ class=dropdown-item>biltemas babycam</a> </li> <li> <a href=../../hacking/cameras/dlink-6100lh/ class=dropdown-item>dlink-6100lh</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Chromebook</a> <ul class=dropdown-menu> <li> <a href=../../hacking/chromebook/ class=dropdown-item>chromebook</a> </li> <li> <a href=../../hacking/chromebook/acer_chromebook_c720/ class=dropdown-item>acer c720</a> </li> <li> <a href=../../hacking/chromebook/acer_chromebook_c740/ class=dropdown-item>acer c740</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Radio</a> <ul class=dropdown-menu> <li> <a href=../../hacking/radio/ class=dropdown-item>radio</a> </li> <li> <a href=../../hacking/radio/boose_soundtouch/ class=dropdown-item>boose soundtouch</a> </li> </ul> </li> <li class=dropdown-submenu> <a href=# class=dropdown-item>Router</a> <ul class=dropdown-menu> <li> <a href=../../hacking/routers/ class=dropdown-item>router</a> </li> <li> <a href=../../hacking/routers/technicolor_dga4330ts/ class=dropdown-item>technicolor dga4330ts</a> </li> </ul> </li> </ul> </li> <li class="dropdown active"> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Linux <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../apt/ class=dropdown-item>apt</a> </li> <li> <a href=../awk/ class=dropdown-item>awk</a> </li> <li> <a href=../chroot/ class=dropdown-item>chroot</a> </li> <li> <a href=../cryptsetup/ class=dropdown-item>cryptsetup</a> </li> <li> <a href=../curl/ class=dropdown-item>curl</a> </li> <li> <a href=../dev_and_proc/ class=dropdown-item>dev and proc</a> </li> <li> <a href=../exiftool/ class=dropdown-item>exiftool</a> </li> <li> <a href=../find/ class=dropdown-item>find</a> </li> <li> <a href=../git/ class=dropdown-item>git</a> </li> <li> <a href=../gnupg/ class=dropdown-item>gnupg</a> </li> <li> <a href=../grep/ class=dropdown-item>grep</a> </li> <li> <a href=../kernel/ class=dropdown-item>kernel</a> </li> <li> <a href=../log/ class=dropdown-item>log</a> </li> <li> <a href=../matomo/ class=dropdown-item>matomo</a> </li> <li> <a href=../merge-tricks/ class=dropdown-item>merge tricks</a> </li> <li> <a href=../nmap/ class=dropdown-item>nmap</a> </li> <li> <a href=../netstat/ class=dropdown-item>netstat</a> </li> <li> <a href=../perf/ class=dropdown-item>perf</a> </li> <li> <a href=../rename/ class=dropdown-item>rename</a> </li> <li> <a href=../rg/ class=dropdown-item>ripgrep</a> </li> <li> <a href=./ class="dropdown-item active">sed</a> </li> <li> <a href=../ssh-log/ class=dropdown-item>ssh-log</a> </li> <li> <a href=../syslog-ng/syslog-conf.ng/ class=dropdown-item>syslog-ng</a> </li> <li> <a href=../sys/ class=dropdown-item>sys</a> </li> <li> <a href=../sqlmap/ class=dropdown-item>sqlmap</a> </li> <li> <a href=../tcpdump/ class=dropdown-item>tcpdump</a> </li> <li> <a href=../whatismyip/ class=dropdown-item>whatismyip</a> </li> <li> <a href=../wireguard/ class=dropdown-item>wireguard</a> </li> <li> <a href=../vim/ class=dropdown-item>vim</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Misc <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../../archive/useragents/user_agents.txt class=dropdown-item>UserAgents</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav ml-auto"> <li class=nav-item> <a href=# class=nav-link data-toggle=modal data-target=#mkdocs_search_modal> <i class="fa fa-search"></i> Search </a> </li> <li class=nav-item> <a rel=prev href=../rg/ class=nav-link> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li class=nav-item> <a rel=next href=../ssh-log/ class=nav-link> Next <i class="fa fa-arrow-right"></i> </a> </li> <li class=nav-item> <a href=https://github.com/www.nr1.nu/tree/master/docs/src/markdown/linux/sed.md class=nav-link>Edit on www.nr1.nu</a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role=complementary> <div class=navbar-header> <button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#toc-collapse title="Table of Contents"> <span class="fa fa-angle-down"></span> </button> </div> <div id=toc-collapse class="navbar-collapse collapse card bg-secondary"> <ul class="nav flex-column"> <li class=nav-item data-level=1><a href=#sed class=nav-link>sed</a> <ul class="nav flex-column"> </ul> </li> </ul> </div> </div></div> <div class=col-md-9 role=main> <h1 id=sed>sed<a class=headerlink href=#sed title="Permanent link"></a></h1> <p>Stream Editor for filtering and transforming text, really handy one-liners for SED</p> <h3 id=insert-a-new-string-above-and-below-matched-string>Insert a new string above and below matched string<a class=headerlink href=#insert-a-new-string-above-and-below-matched-string title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> netstat  <span class=p>|</span>sed <span class=s1>&#39;s/netstat.*/```sh      \n&amp;\n```/g&#39;</span> &gt; netstat.md
</code></pre></div> <p><img alt=sed1 src=https://user-images.githubusercontent.com/26827453/174434701-da94e247-bbf8-40e7-b119-e77c1c9f5aae.gif></p> <h3 id=insert-a-new-string-above-and-below-matched-string_1>Insert a new string above and below matched string<a class=headerlink href=#insert-a-new-string-above-and-below-matched-string_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s2>&quot;hello world&quot;</span><span class=p>|</span>sed <span class=s1>&#39;s/world/\n&amp;/g&#39;</span> 
hello 
world
</code></pre></div> <h3 id=insert-a-new-string-above-and-below-matched-string_2>Insert a new string above and below matched string<a class=headerlink href=#insert-a-new-string-above-and-below-matched-string_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/regexp/\\`echo -e &#39;\n\r&#39;`/g&quot;</span>
<span class=sb>````</span>

<span class=c1>### Method 4: Make a new line after every comma &#39;,&#39;</span>

<span class=sb>```</span>sh
<span class=nb>echo</span> one,two,three <span class=p>|</span> sed <span class=s1>&#39;s/,/\</span>
<span class=s1>/g&#39;</span>
one
two
three
</code></pre></div> <ul> <li>Method 4:</li> </ul> <div class=highlight><pre><span></span><code><span class=nb>echo</span> pattern <span class=p>|</span> sed -E -e <span class=s1>$&#39;s/^(pattern)/\\\n\\1/&#39;</span>

pattern
</code></pre></div> <h3 id=insert-a-new-string-above-and-below-matched-string_3>Insert a new string above and below matched string<a class=headerlink href=#insert-a-new-string-above-and-below-matched-string_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s1>&#39;foobar&#39;</span> <span class=p>|</span> sed -r <span class=s1>&#39;s/(bar)/\n\1/;&#39;</span>
</code></pre></div> <h3 id=add-sh-above-curl-good-for-writiing-wikis-for-example>Add '''sh above curl, good for writiing wikis for example<a class=headerlink href=#add-sh-above-curl-good-for-writiing-wikis-for-example title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s2>&quot;    curl&quot;</span> <span class=p>|</span>sed <span class=s1>&#39;s/    curl/```sh\n&amp;/;s/$/\n```/g&#39;</span>

curl
</code></pre></div> <h3 id=replace-2-words-with-sans-escaping>Replace 2 words with sans escaping<a class=headerlink href=#replace-2-words-with-sans-escaping title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s2>&quot;Hello World&quot;</span><span class=p>|</span> sed <span class=s1>&#39;s/\(Hello\)/World\1/g&#39;</span>
World Hello
</code></pre></div> <h3 id=double-space-a-file>Double space a file<a class=headerlink href=#double-space-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G
</code></pre></div> <h3 id=double-space-a-file-which-already-has-blank-lines-in-it>Double space a file which already has blank lines in it.<a class=headerlink href=#double-space-a-file-which-already-has-blank-lines-in-it title="Permanent link"></a></h3> <p>Output fileshould contain no more than one blank line between lines of text.</p> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d;G&#39;</span>
</code></pre></div> <h3 id=triple-space-a-file>Triple space a file<a class=headerlink href=#triple-space-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;G;G&#39;</span>
</code></pre></div> <h3 id=undo-double-spacing-assumes-even-numbered-lines-are-always-blank>Undo double-spacing (assumes even-numbered lines are always blank)<a class=headerlink href=#undo-double-spacing-assumes-even-numbered-lines-are-always-blank title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;n;d&#39;</span>
</code></pre></div> <h3 id=number-each-line-of-a-file-simple-left-alignment>Number each line of a file (simple left alignment).<a class=headerlink href=#number-each-line-of-a-file-simple-left-alignment title="Permanent link"></a></h3> <h3 id=using-a-tab-see-note-on-t-at-end-of-file-instead-of-space-will-preserve-margins>Using a tab (see note on 't' at end of file) instead of space will preserve margins.<a class=headerlink href=#using-a-tab-see-note-on-t-at-end-of-file-instead-of-space-will-preserve-margins title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nv>sed</span> <span class=o>=</span> filename <span class=p>|</span> sed <span class=s1>&#39;N;s/\n/\t/&#39;</span>
</code></pre></div> <h3 id=number-each-line-of-a-file-number-on-left-right-aligned>Number each line of a file (number on left, right-aligned)<a class=headerlink href=#number-each-line-of-a-file-number-on-left-right-aligned title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nv>sed</span> <span class=o>=</span> filename <span class=p>|</span> sed <span class=s1>&#39;N; s/^/     /; s/ *\(.\{6,\}\)\n/\1  /&#39;</span>
</code></pre></div> <h3 id=number-each-line-of-file-but-only-print-numbers-if-line-is-not-blank>Number each line of file, but only print numbers if line is not blank<a class=headerlink href=#number-each-line-of-file-but-only-print-numbers-if-line-is-not-blank title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/./=&#39;</span> filename <span class=p>|</span> sed <span class=s1>&#39;/./N; s/\n/ /&#39;</span>
</code></pre></div> <h3 id=count-lines-emulates-wc--l>Count lines (emulates "wc -l")<a class=headerlink href=#count-lines-emulates-wc--l title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;$=&#39;</span>
</code></pre></div> <h3 id=delete-leading-whitespace-spaces-tabs-from-front-of-each-line-aligns-all-text-flush-left>Delete leading whitespace (spaces, tabs) from front of each line aligns all text flush left<a class=headerlink href=#delete-leading-whitespace-spaces-tabs-from-front-of-each-line-aligns-all-text-flush-left title="Permanent link"></a></h3> <div class="admonition note"> <p class=admonition-title>see note on 't' at end of file</p> </div> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//&#39;</span>                   
</code></pre></div> <h3 id=delete-trailing-whitespace-spaces-tabs-from-end-of-each-line>delete trailing whitespace (spaces, tabs) from end of each line<a class=headerlink href=#delete-trailing-whitespace-spaces-tabs-from-end-of-each-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[ \t]*$//&#39;</span>                    <span class=c1># see note on &#39;\t&#39; at end of file</span>
</code></pre></div> <h3 id=delete-both-leading-and-trailing-whitespace-from-each-line>Delete BOTH leading and trailing whitespace from each line<a class=headerlink href=#delete-both-leading-and-trailing-whitespace-from-each-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span>
</code></pre></div> <h3 id=insert-5-blank-spaces-at-beginning-of-each-line-make-page-offset>Insert 5 blank spaces at beginning of each line (make page offset)<a class=headerlink href=#insert-5-blank-spaces-at-beginning-of-each-line-make-page-offset title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^/     /&#39;</span>
</code></pre></div> <h3 id=align-all-text-flush-right-on-a-79-column-width-set-at-78-plus-1-space>Align all text flush right on a 79-column width, set at 78 plus 1 space<a class=headerlink href=#align-all-text-flush-right-on-a-79-column-width-set-at-78-plus-1-space title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;s/^.\{1,78\}$/ &amp;/;ta&#39;</span>
</code></pre></div> <h3 id=center-all-text-in-the-middle-of-79-column-width>Center all text in the middle of 79-column width.<a class=headerlink href=#center-all-text-in-the-middle-of-79-column-width title="Permanent link"></a></h3> <p>In method 1, spaces at the beginning of the line are significant, and trailing spaces are appended at the end of the line. In method 2, spaces at the beginning of the line are discarded in centering the line, and no trailing spaces appear at the end of lines.</p> <ul> <li>Method 1</li> </ul> <div class=highlight><pre><span></span><code> sed  -e :a -e <span class=s1>&#39;s/^.\{1,77\}$/ &amp; /;ta&#39;</span>                     
</code></pre></div> <ul> <li>Method 2</li> </ul> <div class=highlight><pre><span></span><code>sed  -e :a -e <span class=s1>&#39;s/^.\{1,77\}$/ &amp;/;ta&#39;</span> -e <span class=s1>&#39;s/\( *\)\1/\1/&#39;</span>  
</code></pre></div> <h3 id=replaces-only-1st-instance-in-a-line>Replaces only 1<sup>st</sup> instance in a line<a class=headerlink href=#replaces-only-1st-instance-in-a-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/foo/bar/&#39;</span>             
</code></pre></div> <h3 id=replaces-only-4th-instance-in-a-line>Replaces only 4<sup>th</sup> instance in a line<a class=headerlink href=#replaces-only-4th-instance-in-a-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/foo/bar/4&#39;</span>         
</code></pre></div> <h3 id=replaces-all-instances-in-a-line>Replaces ALL instances in a line<a class=headerlink href=#replaces-all-instances-in-a-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/foo/bar/g&#39;</span>           
</code></pre></div> <h3 id=replace-the-next-to-last-case>Replace the next-to-last case<a class=headerlink href=#replace-the-next-to-last-case title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\(.*\)foo\(.*foo\)/\1bar\2/&#39;</span>
</code></pre></div> <h3 id=replace-only-the-last-case>Replace only the last case<a class=headerlink href=#replace-only-the-last-case title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\(.*\)foo/\1bar/&#39;</span>         
</code></pre></div> <h3 id=substitute-foo-with-bar-only-for-lines-which-contain-baz>Substitute "foo" with "bar" ONLY for lines which contain "baz"<a class=headerlink href=#substitute-foo-with-bar-only-for-lines-which-contain-baz title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/baz/s/foo/bar/g&#39;</span>
</code></pre></div> <h3 id=substitute-foo-with-bar-except-for-lines-which-contain-baz>Substitute "foo" with "bar" EXCEPT for lines which contain "baz"<a class=headerlink href=#substitute-foo-with-bar-except-for-lines-which-contain-baz title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/baz/!s/foo/bar/g&#39;</span>
</code></pre></div> <h3 id=change-scarlet-or-ruby-or-puce-to-red>Change "scarlet" or "ruby" or "puce" to "red"<a class=headerlink href=#change-scarlet-or-ruby-or-puce-to-red title="Permanent link"></a></h3> <ul> <li>Most seds</li> </ul> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/scarlet/red/g;s/ruby/red/g;s/puce/red/g&#39;</span>  
</code></pre></div> <ul> <li>GNU sed only</li> </ul> <div class=highlight><pre><span></span><code>gsed <span class=s1>&#39;s/scarlet\|ruby\|puce/red/g&#39;</span>                
</code></pre></div> <h3 id=reverse-order-of-lines-emulates-tac-bugfeature-in-hhsed-v15-causes-blank-lines-to-be-deleted>Reverse order of lines (emulates "tac") bug/feature in HHsed v1.5 causes blank lines to be deleted<a class=headerlink href=#reverse-order-of-lines-emulates-tac-bugfeature-in-hhsed-v15-causes-blank-lines-to-be-deleted title="Permanent link"></a></h3> <ul> <li>Method 1 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;1!G;h;$!d&#39;</span>            
</code></pre></div></li> <li>Method 2 <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;1!G;h;$p&#39;</span>          
</code></pre></div></li> </ul> <h3 id=reverse-each-character-on-the-line-emulates-rev>Reverse each character on the line (emulates "rev")<a class=headerlink href=#reverse-each-character-on-the-line-emulates-rev title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/\n/!G;s/\(.\)\(.*\n\)/&amp;\2\1/;//D;s/.//&#39;</span>
</code></pre></div> <h3 id=join-pairs-of-lines-side-by-side-like-paste>Join pairs of lines side-by-side (like "paste")<a class=headerlink href=#join-pairs-of-lines-side-by-side-like-paste title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;$!N;s/\n/ /&#39;</span>
</code></pre></div> <h3 id=if-a-line-ends-with-a-backslash-append-the-next-line-to-it>If a line ends with a backslash, append the next line to it<a class=headerlink href=#if-a-line-ends-with-a-backslash-append-the-next-line-to-it title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e :a -e <span class=s1>&#39;/\\$/N; s/\\\n//; ta&#39;</span>
</code></pre></div> <h3 id=if-a-line-begins-with-an-equal-sign-append-it-to-the-previous-line-and-replace-the--with-a-single-space>If a line begins with an equal sign, append it to the previous line and replace the "=" with a single space<a class=headerlink href=#if-a-line-begins-with-an-equal-sign-append-it-to-the-previous-line-and-replace-the--with-a-single-space title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e :a -e <span class=s1>&#39;$!N;s/\n=/ /;ta&#39;</span> -e <span class=s1>&#39;P;D&#39;</span>
</code></pre></div> <h3 id=add-commas-to-numeric-strings-changing-1234567-to-1234567>Add commas to numeric strings, changing "1234567" to "1,234,567"<a class=headerlink href=#add-commas-to-numeric-strings-changing-1234567-to-1234567 title="Permanent link"></a></h3> <ul> <li>GNU sed only <code>sh gsed ':a;s/\B[0-9]\{3\}\&gt;/,&amp;/;ta'</code></li> <li>Other seds <div class=highlight><pre><span></span><code> sed -e :a -e <span class=s1>&#39;s/\(.*[0-9]\)\([0-9]\{3\}\)/\1,\2/;ta&#39;</span> 
</code></pre></div></li> </ul> <h3 id=add-commas-to-numbers-with-decimal-points-and-minus-signs-gnu-sed>Add commas to numbers with decimal points and minus signs (GNU sed)<a class=headerlink href=#add-commas-to-numbers-with-decimal-points-and-minus-signs-gnu-sed title="Permanent link"></a></h3> <p>gsed ':a;s/<span class=arithmatex>\(^\|[^0-9.]\)</span><span class=arithmatex>\([0-9]\+\)</span><span class=arithmatex>\([0-9]\{3\}\)</span>/12,3/g;ta' <div class=highlight><pre><span></span><code>### Add a blank line every 5 lines (after lines 5, 10, 15, 20, etc.)

* GNU sed only
```sh
 gsed &#39;0~5G&#39;                  
</code></pre></div></p> <ul> <li>Other seds <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;n;n;n;n;G;&#39;</span>          
</code></pre></div></li> </ul> <h3 id=print-first-10-lines-of-file-emulates-behavior-of-head>Print first 10 lines of file (emulates behavior of "head")<a class=headerlink href=#print-first-10-lines-of-file-emulates-behavior-of-head title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed 10q
</code></pre></div> <h3 id=print-first-line-of-file-emulates-head--1>Print first line of file (emulates "head -1")<a class=headerlink href=#print-first-line-of-file-emulates-head--1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed q
</code></pre></div> <h3 id=print-the-last-10-lines-of-a-file-emulates-tail>Print the last 10 lines of a file (emulates "tail")<a class=headerlink href=#print-the-last-10-lines-of-a-file-emulates-tail title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e :a -e <span class=s1>&#39;$q;N;11,$D;ba&#39;</span>
</code></pre></div> <h3 id=print-the-last-2-lines-of-a-file-emulates-tail--2>Print the last 2 lines of a file (emulates "tail -2")<a class=headerlink href=#print-the-last-2-lines-of-a-file-emulates-tail--2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;$!N;$!D&#39;</span>
</code></pre></div> <h3 id=print-the-last-line-of-a-file-emulates-tail--1>Print the last line of a file (emulates "tail -1")<a class=headerlink href=#print-the-last-line-of-a-file-emulates-tail--1 title="Permanent link"></a></h3> <ul> <li>Method 1</li> </ul> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;$!d&#39;</span>                   
</code></pre></div> <ul> <li>Method 2</li> </ul> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;$p&#39;</span>                  
</code></pre></div> <h3 id=print-only-lines-which-match-regular-expression-emulates-grep>Print only lines which match regular expression (emulates "grep")<a class=headerlink href=#print-only-lines-which-match-regular-expression-emulates-grep title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;/regexp/p&#39;</span>          
</code></pre></div></p> </li> <li> <p>Method 2 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/regexp/!d&#39;</span>             
</code></pre></div></p> </li> </ul> <h3 id=print-only-lines-which-do-not-match-regexp-emulates-grep--v>Print only lines which do NOT match regexp (emulates "grep -v")<a class=headerlink href=#print-only-lines-which-do-not-match-regexp-emulates-grep--v title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/regexp/!p&#39;</span>      
</code></pre></div></p> </li> <li> <p>Method 2</p> </li> </ul> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/regexp/d&#39;</span>      
</code></pre></div> <h3 id=print-the-line-immediately-before-a-regexp-but-not-the-line-ccontaining-the-regexp>Print the line immediately before a regexp, but not the line ccontaining the regexp<a class=headerlink href=#print-the-line-immediately-before-a-regexp-but-not-the-line-ccontaining-the-regexp title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/regexp/{g;1!p;};h&#39;</span>
</code></pre></div> <h3 id=print-the-line-immediately-after-a-regexp-but-not-the-line-containing-the-regexp>Print the line immediately after a regexp, but not the line containing the regexp<a class=headerlink href=#print-the-line-immediately-after-a-regexp-but-not-the-line-containing-the-regexp title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;/regexp/{n;p;}&#39;</span>
</code></pre></div> <h3 id=print-1-line-of-context-before-and-after-regexp-with-line-number-indicating-where-the-regexp-occurred-similar-to-grep--a1--b1>Print 1 line of context before and after regexp, with line number indicating where the regexp occurred (similar to "grep -A1 -B1")<a class=headerlink href=#print-1-line-of-context-before-and-after-regexp-with-line-number-indicating-where-the-regexp-occurred-similar-to-grep--a1--b1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;/regexp/{=;x;1!p;g;$!N;p;D;}&#39;</span> -e h
</code></pre></div> <h3 id=grep-for-aaa-and-bbb-and-ccc-in-any-order>Grep for AAA and BBB and CCC (in any order)<a class=headerlink href=#grep-for-aaa-and-bbb-and-ccc-in-any-order title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/AAA/!d; /BBB/!d; /CCC/!d&#39;</span>
</code></pre></div> <h3 id=grep-for-aaa-and-bbb-and-ccc-in-that-order>Grep for AAA and BBB and CCC (in that order)<a class=headerlink href=#grep-for-aaa-and-bbb-and-ccc-in-that-order title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/AAA.*BBB.*CCC/!d&#39;</span>
</code></pre></div> <h3 id=grep-for-aaa-or-bbb-or-ccc-emulates-egrep>Grep for AAA or BBB or CCC (emulates "egrep")<a class=headerlink href=#grep-for-aaa-or-bbb-or-ccc-emulates-egrep title="Permanent link"></a></h3> <ul> <li>Other seds <div class=highlight><pre><span></span><code> sed -e <span class=s1>&#39;/AAA/b&#39;</span> -e <span class=s1>&#39;/BBB/b&#39;</span> -e <span class=s1>&#39;/CCC/b&#39;</span> -e d   
</code></pre></div></li> <li>GNU sed only <div class=highlight><pre><span></span><code> gsed <span class=s1>&#39;/AAA\|BBB\|CCC/!d&#39;</span>                        
</code></pre></div></li> </ul> <h3 id=print-paragraph-if-it-contains-aaa-blank-lines-separate-paragraphs-sed-v15-must-insert-a-g-after-x-in-the-next-3-scripts-below>Print paragraph if it contains AAA (blank lines separate paragraphs) sed v1.5 must insert a 'G;' after 'x;' in the next 3 scripts below<a class=headerlink href=#print-paragraph-if-it-contains-aaa-blank-lines-separate-paragraphs-sed-v15-must-insert-a-g-after-x-in-the-next-3-scripts-below title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e <span class=s1>&#39;/./{H;$!d;}&#39;</span> -e <span class=s1>&#39;x;/AAA/!d;&#39;</span>
</code></pre></div> <h3 id=print-paragraph-if-it-contains-aaa-and-bbb-and-ccc-in-any-order>Print paragraph if it contains AAA and BBB and CCC (in any order)<a class=headerlink href=#print-paragraph-if-it-contains-aaa-and-bbb-and-ccc-in-any-order title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e <span class=s1>&#39;/./{H;$!d;}&#39;</span> -e <span class=s1>&#39;x;/AAA/!d;/BBB/!d;/CCC/!d&#39;</span>
</code></pre></div> <h3 id=print-paragraph-if-it-contains-aaa-or-bbb-or-ccc>Print paragraph if it contains AAA or BBB or CCC<a class=headerlink href=#print-paragraph-if-it-contains-aaa-or-bbb-or-ccc title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -e <span class=s1>&#39;/./{H;$!d;}&#39;</span> -e <span class=s1>&#39;x;/AAA/b&#39;</span> -e <span class=s1>&#39;/BBB/b&#39;</span> -e <span class=s1>&#39;/CCC/b&#39;</span> -e d
</code></pre></div> <ul> <li>GNU Sed only <div class=highlight><pre><span></span><code>gsed <span class=s1>&#39;/./{H;$!d;};x;/AAA\|BBB\|CCC/b;d&#39;</span>
</code></pre></div></li> </ul> <h3 id=print-only-lines-of-65-characters-or-longer>Print only lines of 65 characters or longer<a class=headerlink href=#print-only-lines-of-65-characters-or-longer title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;/^.\{65\}/p&#39;</span>
</code></pre></div> <h3 id=print-only-lines-of-less-than-65-characters>Print only lines of less than 65 characters<a class=headerlink href=#print-only-lines-of-less-than-65-characters title="Permanent link"></a></h3> <ul> <li>Method 1</li> </ul> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^.\{65\}/!p&#39;</span>    
</code></pre></div> <ul> <li>Method 2</li> </ul> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/^.\{65\}/d&#39;</span>       
</code></pre></div> <h3 id=print-section-of-file-from-regular-expression-to-end-of-file>Print section of file from regular expression to end of file<a class=headerlink href=#print-section-of-file-from-regular-expression-to-end-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;/regexp/,$p&#39;</span>
</code></pre></div> <h3 id=print-section-of-file-based-on-line-numbers-lines-8-12-inclusive>Print section of file based on line numbers (lines 8-12, inclusive)<a class=headerlink href=#print-section-of-file-based-on-line-numbers-lines-8-12-inclusive title="Permanent link"></a></h3> <ul> <li>Method 1</li> </ul> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;8,12p&#39;</span>
</code></pre></div> <ul> <li>Method 2 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;8,12!d&#39;</span>   
</code></pre></div></li> </ul> <h3 id=print-line-number-52>Print line number 52<a class=headerlink href=#print-line-number-52 title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;52p&#39;</span>                
</code></pre></div></p> </li> <li> <p>Method 2 <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;52!d&#39;</span>                   
</code></pre></div></p> </li> <li> <p>Method 3 <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;52q;d&#39;</span>              
</code></pre></div></p> </li> </ul> <h3 id=beginning-at-line-3-print-every-7th-line>Beginning at line 3, print every 7<sup>th</sup> line<a class=headerlink href=#beginning-at-line-3-print-every-7th-line title="Permanent link"></a></h3> <ul> <li>GNU Sed only</li> </ul> <div class=highlight><pre><span></span><code> gsed -n <span class=s1>&#39;3~7p&#39;</span>            
</code></pre></div> <ul> <li>Other seds</li> </ul> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;3,${p;n;n;n;n;n;n;}&#39;</span> 
</code></pre></div> <h3 id=print-section-of-file-between-two-regular-expressions-inclusive>Print section of file between two regular expressions (inclusive)<a class=headerlink href=#print-section-of-file-between-two-regular-expressions-inclusive title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed -n <span class=s1>&#39;/Iowa/,/Montana/p&#39;</span>  
</code></pre></div> <h3 id=print-all-of-file-except-section-between-2-regular-expressions>Print all of file EXCEPT section between 2 regular expressions<a class=headerlink href=#print-all-of-file-except-section-between-2-regular-expressions title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/Iowa/,/Montana/d&#39;</span>
</code></pre></div> <h3 id=delete-duplicate-consecutive-lines-from-a-file-emulates-uniq>Delete duplicate, consecutive lines from a file (emulates "uniq").<a class=headerlink href=#delete-duplicate-consecutive-lines-from-a-file-emulates-uniq title="Permanent link"></a></h3> <ul> <li>First line in a set of duplicate lines is kept, rest are deleted.</li> </ul> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;$!N; /^\(.*\)\n\1$/!P; D&#39;</span>
</code></pre></div> <h3 id=delete-duplicate-nonconsecutive-lines-from-a-file>Delete duplicate, nonconsecutive lines from a file.<a class=headerlink href=#delete-duplicate-nonconsecutive-lines-from-a-file title="Permanent link"></a></h3> <ul> <li>Beware not to overflow the buffer size of the hold space, or else use GNU sed. <code>sh sed -n 'G; s/\n/&amp;&amp;/; /^\([ -~]*\n\).*\n\1/d; s/\n//; h; P'</code></li> </ul> <h3 id=delete-the-first-10-lines-of-a-file>Delete the first 10 lines of a file<a class=headerlink href=#delete-the-first-10-lines-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;1,10d&#39;</span>
</code></pre></div> <h3 id=delete-the-last-line-of-a-file>Delete the last line of a file<a class=headerlink href=#delete-the-last-line-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;$d&#39;</span>
</code></pre></div> <h3 id=delete-the-last-2-lines-of-a-file>Delete the last 2 lines of a file<a class=headerlink href=#delete-the-last-2-lines-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;N;$!P;$!D;$d&#39;</span>
</code></pre></div> <h3 id=dlete-the-last-10-lines-of-a-file>Dlete the last 10 lines of a file<a class=headerlink href=#dlete-the-last-10-lines-of-a-file title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code> sed -e :a -e <span class=s1>&#39;$d;N;2,10ba&#39;</span> -e <span class=s1>&#39;P;D&#39;</span> 
</code></pre></div></p> </li> <li> <p>Method 2</p> </li> </ul> <div class=highlight><pre><span></span><code> sed -n -e :a -e <span class=s1>&#39;1,10!{P;N;D;};N;ba&#39;</span>
</code></pre></div> <h3 id=delete-every-8th-line>Delete every 8<sup>th</sup> line<a class=headerlink href=#delete-every-8th-line title="Permanent link"></a></h3> <ul> <li>GNU sed only</li> </ul> <div class=highlight><pre><span></span><code> gsed <span class=s1>&#39;0~8d&#39;</span>                           
</code></pre></div> <ul> <li>Other seds <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;n;n;n;n;n;n;n;d;&#39;</span>               
</code></pre></div></li> </ul> <h3 id=delete-all-blank-lines-from-a-file-same-as-grep-->Delete ALL blank lines from a file (same as "grep '.' ")<a class=headerlink href=#delete-all-blank-lines-from-a-file-same-as-grep-- title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/^$/d&#39;</span>                      
</code></pre></div></p> </li> <li> <p>Method 2 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/./!d&#39;</span>                          
</code></pre></div></p> </li> </ul> <h3 id=delete-all-consecutive-blank-lines-from-file-except-the-first-also-deletes-all-blank-lines-from-top-and-end-of-file-emulates-cat--s>Delete all CONSECUTIVE blank lines from file except the first; also deletes all blank lines from top and end of file (emulates "cat -s")<a class=headerlink href=#delete-all-consecutive-blank-lines-from-file-except-the-first-also-deletes-all-blank-lines-from-top-and-end-of-file-emulates-cat--s title="Permanent link"></a></h3> <ul> <li> <p>Method 1 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/./,/^$/!d&#39;</span>        
</code></pre></div></p> </li> <li> <p>Method 2 <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/^$/N;/\n$/D&#39;</span>        
</code></pre></div></p> </li> </ul> <h3 id=delete-all-consecutive-blank-lines-from-file-except-the-first-2>Delete all CONSECUTIVE blank lines from file except the first 2:<a class=headerlink href=#delete-all-consecutive-blank-lines-from-file-except-the-first-2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/^$/N;/\n$/N;//D&#39;</span>
</code></pre></div> <h3 id=delete-all-leading-blank-lines-at-top-of-file>Delete all leading blank lines at top of file<a class=headerlink href=#delete-all-leading-blank-lines-at-top-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/./,$!d&#39;</span>
</code></pre></div> <h3 id=delete-all-trailing-blank-lines-at-end-of-file>Delete all trailing blank lines at end of file<a class=headerlink href=#delete-all-trailing-blank-lines-at-end-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;/^\n*$/N;/\n$/ba&#39;</span>       
</code></pre></div> <h3 id=delete-the-last-line-of-each-paragraph>Delete the last line of each paragraph<a class=headerlink href=#delete-the-last-line-of-each-paragraph title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^$/{p;h;};/./{x;/./p;}&#39;</span>
</code></pre></div> <h3 id=deletes-everything-after-first-blank-line>Deletes everything after first blank line<a class=headerlink href=#deletes-everything-after-first-blank-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;/^$/q&#39;</span>              
</code></pre></div> <h3 id=deletes-everything-up-to-first-blank-line>Deletes everything up to first blank line<a class=headerlink href=#deletes-everything-up-to-first-blank-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;1,/^$/d&#39;</span>              
</code></pre></div> <h3 id=get-subject-header-but-remove-initial-subject--portion>Get Subject header, but remove initial "Subject: " portion<a class=headerlink href=#get-subject-header-but-remove-initial-subject--portion title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^Subject: */!d; s///;q&#39;</span>
</code></pre></div> <h3 id=get-return-address-header>Get return address header<a class=headerlink href=#get-return-address-header title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^Reply-To:/q; /^From:/h; /./d;g;q&#39;</span>
</code></pre></div> <h3 id=parse-out-the-address-proper>Parse out the address proper.<a class=headerlink href=#parse-out-the-address-proper title="Permanent link"></a></h3> <ul> <li>Pulls out the e-mail address by itself from the 1-line return address header (see preceding script)</li> </ul> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;s/ *(.*)//; s/&gt;.*//; s/.*[:&lt;] *//&#39;</span>
</code></pre></div> <h3 id=add-a-leading-angle-bracket-and-space-to-each-line-quote-a-message>Add a leading angle bracket and space to each line (quote a message)<a class=headerlink href=#add-a-leading-angle-bracket-and-space-to-each-line-quote-a-message title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;s/^/&gt; /&#39;</span>
</code></pre></div> <h3 id=delete-leading-angle-bracket--space-from-each-line-unquote-a-message>Delete leading angle bracket &amp; space from each line (unquote a message)<a class=headerlink href=#delete-leading-angle-bracket--space-from-each-line-unquote-a-message title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code> sed <span class=s1>&#39;s/^&gt; //&#39;</span>
<span class=c1>### Remove most HTML tags (accommodates multiple-line tags)</span>

<span class=sb>```</span>sh
sed -e :a -e <span class=s1>&#39;s/&lt;[^&gt;]*&gt;//g;/&lt;/N;//ba&#39;</span>
</code></pre></div> <h3 id=add-one-blank-line-between-all-of-them-with-sed>Add one blank line between all of them with sed<a class=headerlink href=#add-one-blank-line-between-all-of-them-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;0~1 a\\&#39;</span> 
</code></pre></div> <h3 id=inserts-one-line-every-3-rows>Inserts one line every 3 rows.<a class=headerlink href=#inserts-one-line-every-3-rows title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;0~3 a\\&#39;</span> 
</code></pre></div> <h3 id=method-2-inserts-one-line-every-3-rows>Method 2: Inserts one line every 3 rows.<a class=headerlink href=#method-2-inserts-one-line-every-3-rows title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;G;G;G&#39;</span> 
</code></pre></div> <h3 id=method-3-inserts-one-line-after-every-string-and-at-end-make-2-empty-lines>Method 3: Inserts one line after every string and at end, make 2 empty lines<a class=headerlink href=#method-3-inserts-one-line-after-every-string-and-at-end-make-2-empty-lines title="Permanent link"></a></h3> <p>sed ':a;G;s/n/&amp;/1;Ta'</p> <h3 id=uppercasing-first-letter-of-words-using-sed>Uppercasing First Letter of Words Using SED<a class=headerlink href=#uppercasing-first-letter-of-words-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> -e <span class=s2>&quot;wuseman&quot;</span> <span class=p>|</span> sed -r <span class=s1>&#39;s/\&lt;./\U&amp;/g&#39;</span>
</code></pre></div> <h3 id=colorize-a-word>Colorize a word<a class=headerlink href=#colorize-a-word title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>echo START|sed &#39;&#39;/START/s//`printf &quot;\033[32mSTART\033[0m&quot;`/&#39;&#39;                           
</code></pre></div> <h3 id=to-print-a-specific-line-from-a-file>To print a specific line from a file<a class=headerlink href=#to-print-a-specific-line-from-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n 5p &lt;file&gt;
</code></pre></div> <h3 id=uncomment-the-lines-where-the-word-debug-is-found>uncomment the lines where the word DEBUG is found<a class=headerlink href=#uncomment-the-lines-where-the-word-debug-is-found title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^#.*DEBUG.*/ s/^#//&#39;</span> <span class=nv>$FILE</span>
</code></pre></div> <h3 id=convert-a-line-to-a-space>convert a line to a space<a class=headerlink href=#convert-a-line-to-a-space title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed     <span class=s1>&#39;s/.*/ /&#39;</span>
</code></pre></div> <h3 id=find-which-lines-in-a-file-are-longer-than-n-characters>find which lines in a file are longer than N characters<a class=headerlink href=#find-which-lines-in-a-file-are-longer-than-n-characters title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;/^.\{73,\}/p&quot;</span> &lt; /path/to/file
</code></pre></div> <h3 id=easy-way-to-display-yum-repo-priorities>Easy way to display yum repo priorities<a class=headerlink href=#easy-way-to-display-yum-repo-priorities title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s2>&quot;/^\[/h; /priority *=/{ G; s/\n/ /; s/ity=/ity = /; p }&quot;</span> /etc/yum.repos.d/*.repo <span class=p>|</span> sort -k3n
</code></pre></div> <h3 id=get-your-speed-dial-urls>Get your Speed Dial urls<a class=headerlink href=#get-your-speed-dial-urls title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/url/s#^.*url=\(.*://.*\)#\1#p&#39;</span> ~/.mozilla/firefox/*.<span class=o>[</span>dD<span class=o>]</span>efault/SDBackups/*.speeddial <span class=p>|</span> sort <span class=p>|</span> uniq
</code></pre></div> <h3 id=search-and-replace-pipes-for-tabs-in-file-with-backup>Search and replace pipes for tabs in file with backup<a class=headerlink href=#search-and-replace-pipes-for-tabs-in-file-with-backup title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.bak -e s/<span class=se>\|</span>/<span class=se>\\</span>t/g filepath.tsv
</code></pre></div> <h3 id=removereplace-newline-characters>Remove/replace newline characters.<a class=headerlink href=#removereplace-newline-characters title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;:a;N;$!ba;s/\n/ /g&#39;</span>
</code></pre></div> <h3 id=append-the-line-----coding-utf-8----to-a-file>Append the line # -<em>- coding: utf-8 -</em>- to a file<a class=headerlink href=#append-the-line-----coding-utf-8----to-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;1i \# -*- coding: utf-8 -*-&#39;</span> yourfile.py
</code></pre></div> <h3 id=append-a-new-line-foobar-in-all-files-matching-the-glob>Append a new line "FOOBAR" in all files matching the glob*<a class=headerlink href=#append-a-new-line-foobar-in-all-files-matching-the-glob title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;$a\FOOBAR&#39;</span> *
</code></pre></div> <h3 id=simply-clean-playlist>Simply clean playlist<a class=headerlink href=#simply-clean-playlist title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/MP3$\|mp3$\|wma$\|flac$/!d&#39;</span> &lt;filename_source&gt; &gt; &lt;filename_destination&gt;
</code></pre></div> <h3 id=delete-all-leading-whitespace-from-each-line-in-file>delete all leading whitespace from each line in file<a class=headerlink href=#delete-all-leading-whitespace-from-each-line-in-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//&#39;</span> &lt; &lt;file&gt; &gt; &lt;file&gt;.out<span class=p>;</span> mv &lt;file&gt;.out &lt;file&gt;
</code></pre></div> <h3 id=sed-file-spacing>Sed file spacing<a class=headerlink href=#sed-file-spacing title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G
</code></pre></div> <h3 id=convert-an-unix-file-to-a-dos-file>Convert an UNIX file to a DOS file.<a class=headerlink href=#convert-an-unix-file-to-a-dos-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/$/\r/&#39;</span> file
</code></pre></div> <h3 id=truncate-files-without-output-redirection-or-temporary-file-creation>truncate files without output redirection or temporary file creation<a class=headerlink href=#truncate-files-without-output-redirection-or-temporary-file-creation title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/`head -n 500 foo.log`//&#39;</span> foo.log
</code></pre></div> <h3 id=sed--using-colons-as-separators-instead-of-forward-slashes>sed : using colons as separators instead of forward slashes<a class=headerlink href=#sed--using-colons-as-separators-instead-of-forward-slashes title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s:/old/direcory/:/new/directory/:&quot;</span> &lt;file&gt;
</code></pre></div> <h3 id=delete-a-particular-line-by-line-number-in-file>delete a particular line by line number in file<a class=headerlink href=#delete-a-particular-line-by-line-number-in-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 3d ~/.ssh/known_hosts
</code></pre></div> <h3 id=convert-windows-text-file-to-linux-text-document>Convert windows text file to linux text document<a class=headerlink href=#convert-windows-text-file-to-linux-text-document title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/.$//&#39;</span> Win-file.txt
</code></pre></div> <h3 id=reverse-dns-lookups>Reverse DNS lookups<a class=headerlink href=#reverse-dns-lookups title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\([0-9]*\)\.\([0-9]*\)\.\([0-9]*\)\.\([0-9]*\).in-addr.arpa domain name pointer\(.*\)\./\4.\3.\2.\1\5/&#39;</span> <span class=se>\ </span>lookups.txt
</code></pre></div> <h3 id=a-find-and-replace-within-text-based-files>a find and replace within text-based files<a class=headerlink href=#a-find-and-replace-within-text-based-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/http:\/\/old\/new\///g&#39;</span> index.html
</code></pre></div> <h3 id=remove-superfluous-from-conf-file>Remove superfluous from conf file<a class=headerlink href=#remove-superfluous-from-conf-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -re <span class=s1>&#39;/^#/d ; s/#.*$// ; /^\s*$/d&#39;</span>
</code></pre></div> <h3 id=to-display-number-of-lines-in-a-file-without-using-wc-command>to display number of lines in a file without using wc command<a class=headerlink href=#to-display-number-of-lines-in-a-file-without-using-wc-command title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;</span>$<span class=s2>=&quot;</span> fileName
</code></pre></div> <h3 id=remove-all-leading-and-trailing-slashes-on-each-line-of-a-text-file>Remove all leading and trailing slashes on each line of a text file<a class=headerlink href=#remove-all-leading-and-trailing-slashes-on-each-line-of-a-text-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s,/\+</span>$<span class=s2>,,&quot;</span> -e <span class=s2>&quot;s,^/\+,,&quot;</span> file.txt
</code></pre></div> <h3 id=extract-all-urls-from-the-last-firefox-sessionstorejs-file-used>Extract all urls from the last firefox sessionstore.js file used.<a class=headerlink href=#extract-all-urls-from-the-last-firefox-sessionstorejs-file-used title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/{&quot;url&quot;:/\n&amp;/g&#39;</span> ~/.mozilla/firefox/*/sessionstore.js <span class=p>|</span> cut -d<span class=se>\&quot;</span> -f4
</code></pre></div> <h3 id=prints-line-numbers>prints line numbers<a class=headerlink href=#prints-line-numbers title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/./=&#39;</span> infile <span class=p>|</span> sed <span class=s1>&#39;/^/N; s/\n/ /&#39;</span>
</code></pre></div> <h3 id=bold-matching-string-without-skipping-others>Bold matching string without skipping others<a class=headerlink href=#bold-matching-string-without-skipping-others title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/pattern/^[[1m&amp;^[[0m/g&#39;</span>
</code></pre></div> <h3 id=print-line-numbers>Print line numbers<a class=headerlink href=#print-line-numbers title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nv>sed</span> <span class=o>=</span> &lt;file&gt; <span class=p>|</span> sed <span class=s1>&#39;N;s/\n/\t/&#39;</span>
</code></pre></div> <h3 id=print-just-line-4-from-a-textfile>Print just line 4 from a textfile<a class=headerlink href=#print-just-line-4-from-a-textfile title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;4!d&#39;</span>
</code></pre></div> <h3 id=remove-trailing-whitespaces-or-tabs-from-a-text-file>Remove trailing whitespaces (or tabs) from a text file<a class=headerlink href=#remove-trailing-whitespaces-or-tabs-from-a-text-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/[ \t]\+$//g&#39;</span> file.txt
</code></pre></div> <h3 id=remove-cr-lf-from-a-text-file>Remove CR LF from a text file<a class=headerlink href=#remove-cr-lf-from-a-text-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/\r\n//&#39;</span> file.txt
</code></pre></div> <h3 id=turn-url-and-link-text-into-a-hyperlink>turn url and link text into a hyperlink<a class=headerlink href=#turn-url-and-link-text-into-a-hyperlink title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\([a-zA-Z]*\:\/\/[^,]*\),\(.*\)/\&lt;a href=\&quot;\1\&quot;\&gt;\2\&lt;\/a\&gt;/&quot;</span>
</code></pre></div> <h3 id=convert-all-tabs-in-a-file-to-spaces-assuming-the-tab-width-is-2>Convert all tabs in a file to spaces, assuming the tab width is 2<a class=headerlink href=#convert-all-tabs-in-a-file-to-spaces-assuming-the-tab-width-is-2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/\t/  /g&#39;</span> yourfile
</code></pre></div> <h3 id=convert-unix-newlines-to-dos-newlines>convert Unix newlines to DOS newlines<a class=headerlink href=#convert-unix-newlines-to-dos-newlines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$&#39;</span><span class=s2>&quot;/`echo \\\r`/&quot;</span>
</code></pre></div> <h3 id=print-all-lines-containing-the-word-jan-to-a-new-file>Print all lines containing the word 'jan' to a new file.<a class=headerlink href=#print-all-lines-containing-the-word-jan-to-a-new-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/jan\|Jan\|JAN\|JAn\|jAn\|jAN\|jaN/p&#39;</span> data.txt &gt; jan-only-data.txt
</code></pre></div> <h3 id=put-all-lines-in-comment-where-de-word-debug-is-found>put all lines in comment where de word DEBUG is found<a class=headerlink href=#put-all-lines-in-comment-where-de-word-debug-is-found title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^.*DEBUG.*/#&amp;/&#39;</span>  <span class=nv>$file</span>
</code></pre></div> <h3 id=extract-a-bash-function>Extract a bash function<a class=headerlink href=#extract-a-bash-function title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^function h\(\)/,/^}/p&#39;</span> script.sh
</code></pre></div> <h3 id=remove--color--special--escape--ansi--codes-from-text-with-sed>Remove ( color / special / escape / ANSI ) codes, from text, with sed<a class=headerlink href=#remove--color--special--escape--ansi--codes-from-text-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s,\x1B\[[0-9;]*[a-zA-Z],,g&quot;</span>
</code></pre></div> <h3 id=list-your-largest-installed-packages-on-debianubuntu>List your largest installed packages (on Debian/Ubuntu)<a class=headerlink href=#list-your-largest-installed-packages-on-debianubuntu title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -ne <span class=s1>&#39;/^Package: \(.*\)/{s//\1/;h;};/^Installed-Size:  \(.*\)/{s//\1/;G;s/\n/ /;p;}&#39;</span> /var/lib/dpkg/status <span class=p>|</span> sort -rn
</code></pre></div> <h3 id=delete-an-hard-disk-entry-in-virtualbox-registry>Delete an hard disk entry in Virtualbox registry<a class=headerlink href=#delete-an-hard-disk-entry-in-virtualbox-registry title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/Centos/d&#39;</span> VirtualBox.xml
</code></pre></div> <h3 id=count-the-number-of-times-you-match-a-substring-in-a-larger-text-file>count the number of times you match a substring in a larger text file<a class=headerlink href=#count-the-number-of-times-you-match-a-substring-in-a-larger-text-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed ?s/<span class=o>[</span>sub_str<span class=o>]</span>/<span class=o>[</span>sub_str<span class=o>]</span><span class=se>\n</span>/g? <span class=o>[</span>text_file<span class=o>]</span> <span class=p>|</span> wc -l
</code></pre></div> <h3 id=get-rid-of-multiple-spacestabs-in-a-text-file>Get rid of multiple spaces/tabs in a text file<a class=headerlink href=#get-rid-of-multiple-spacestabs-in-a-text-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;s/\s*/ /g;s/\s*</span>$<span class=s2>//&quot;</span> input_file
</code></pre></div> <h3 id=list-all-available-disks-and-disk-partitions>list all available disks and disk partitions<a class=headerlink href=#list-all-available-disks-and-disk-partitions title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/#.*//&#39;</span> /etc/fstab <span class=p>|</span> column -t
</code></pre></div> <h3 id=top-10-commands-used>top 10 commands used<a class=headerlink href=#top-10-commands-used title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/ *$//&#39;</span> ~/.bash_history <span class=p>|</span> sort <span class=p>|</span> uniq -cd <span class=p>|</span> sort -nr <span class=p>|</span> head
</code></pre></div> <h3 id=display-a-block-of-text-with-awk>Display a block of text with AWK<a class=headerlink href=#display-a-block-of-text-with-awk title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n /start_pattern/,/stop_pattern/p file.txt
</code></pre></div> <h3 id=show-a-script-or-config-file-without-comments>Show a script or config file without comments<a class=headerlink href=#show-a-script-or-config-file-without-comments title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^[[:blank:]]*#/d; s/[[:blank:]][[:blank:]]*#.*//&#39;</span>  -e <span class=s1>&#39;/^$/d&#39;</span> -e <span class=s1>&#39;/^\/\/.*/d&#39;</span> -e <span class=s1>&#39;/^\/\*/d;/^ \* /d;/^ \*\//d&#39;</span> /a/file/with/comments
</code></pre></div> <h3 id=print-file-content-in-reverse-order>Print file content in reverse order<a class=headerlink href=#print-file-content-in-reverse-order title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1!G;h;$p&#39;</span> techie.txt
</code></pre></div> <h3 id=remove-blank-lines-from-a-file-and-save-output-to-new-file>Remove blank lines from a file and save output to new file<a class=headerlink href=#remove-blank-lines-from-a-file-and-save-output-to-new-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span> file &gt;newfile
</code></pre></div> <h3 id=delete-first-x-lines-of-a-file>delete first X lines of a file<a class=headerlink href=#delete-first-x-lines-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1,55d&#39;</span>
</code></pre></div> <h3 id=get-rid-of-multiple-spacestabs-in-a-text-file_1>Get rid of multiple spaces/tabs in a text file<a class=headerlink href=#get-rid-of-multiple-spacestabs-in-a-text-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;s/\(\x09\{1,\}\)\|\( \{1,\}\)/ /g;s/\(\x09\{1,\}</span>$<span class=s2>\)\|\( \{1,\}</span>$<span class=s2>\)//g&quot;</span> brisati.txt
</code></pre></div> <h3 id=empty-set-of-files>empty set of files<a class=headerlink href=#empty-set-of-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -n <span class=s1>&#39;/%/p&#39;</span> *.php
</code></pre></div> <h3 id=remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change>Remove a line from a file using sed (useful for updating known SSH server keys when they change)<a class=headerlink href=#remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;${LINE}d&#39;</span> ~/.ssh/known_host
</code></pre></div> <h3 id=run-vlc-as-root>run vlc as root<a class=headerlink href=#run-vlc-as-root title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/geteuid/getppid/g&#39;</span> /usr/bin/vlc
</code></pre></div> <h3 id=convert-dos-newlines-to-unix-newlines>convert DOS newlines to unix newlines<a class=headerlink href=#convert-dos-newlines-to-unix-newlines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$//&#39;</span>
</code></pre></div> <h3 id=backup-a-file-before-editing-it>Backup a file before editing it.<a class=headerlink href=#backup-a-file-before-editing-it title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>    sedit<span class=o>()</span> <span class=o>{</span> cp <span class=s2>&quot;</span><span class=nv>$*</span><span class=s2>&quot;</span><span class=o>{</span>,.bk<span class=o>}</span><span class=p>;</span> which <span class=nv>$EDITOR</span> &gt; /dev/null <span class=o>&amp;&amp;</span> <span class=nv>$EDITOR</span> <span class=s2>&quot;</span><span class=nv>$*</span><span class=s2>&quot;</span> <span class=o>||</span> vim <span class=s2>&quot;</span><span class=nv>$*</span><span class=s2>&quot;</span><span class=p>;</span> <span class=o>}</span>
</code></pre></div> <h3 id=optimized-sed>optimized sed<a class=headerlink href=#optimized-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed  <span class=s1>&#39;/foo/ s/foo/foobar/g&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=remove--from-configuration-files>Remove "#' from configuration files.<a class=headerlink href=#remove--from-configuration-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/^#$//g&#39;</span> /path/to/file
</code></pre></div> <h3 id=remove-comments-from-files>Remove comments from files<a class=headerlink href=#remove-comments-from-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^#/d&#39;</span> -e <span class=s1>&#39;s/#.*$//&#39;</span> <span class=k>in</span>
</code></pre></div> <h3 id=remove-all-html-tags-from-a-file>Remove all HTML tags from a file<a class=headerlink href=#remove-all-html-tags-from-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/&lt;[^&gt;]\+&gt;//g&quot;</span> file
</code></pre></div> <h3 id=update-zone-file-serial-numbers>Update zone file Serial numbers<a class=headerlink href=#update-zone-file-serial-numbers title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/20[0-1][0-9]\{7\}/&#39;</span><span class=sb>`</span>date +%Y%m%d%I<span class=sb>`</span><span class=s1>&#39;/g&#39;</span> *.db
</code></pre></div> <h3 id=remove-a-line-in-a-text-file-useful-to-fix-ssh-host-key-change-warnings>Remove a line in a text file. Useful to fix "ssh host key change" warnings<a class=headerlink href=#remove-a-line-in-a-text-file-useful-to-fix-ssh-host-key-change-warnings title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 8d ~/.ssh/known_hosts
</code></pre></div> <h3 id=remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change_1>Remove a line from a file using sed (useful for updating known SSH server keys when they change)<a class=headerlink href=#remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;${LINE}d&#39;</span> ~/.ssh/known_host
</code></pre></div> <h3 id=see-the-10-programs-the-most-used>See the 10 programs the most used<a class=headerlink href=#see-the-10-programs-the-most-used title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/| /\n/g&quot;</span> ~/.bash_history <span class=p>|</span> cut -d <span class=s1>&#39; &#39;</span> -f <span class=m>1</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr <span class=p>|</span> head
</code></pre></div> <h3 id=separate-emphasize-digital-strings-from-other-text>separate (emphasize) digital strings from other text<a class=headerlink href=#separate-emphasize-digital-strings-from-other-text title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[0-9]\+/ [&amp;] /g&#39;</span>
</code></pre></div> <h3 id=print-all-lines-between-two-line-numbers>Print all lines between two line numbers<a class=headerlink href=#print-all-lines-between-two-line-numbers title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;3,6p&#39;</span> /path/to/file
</code></pre></div> <h3 id=insert-a-colon-between-every-two-digits>Insert a colon between every two digits<a class=headerlink href=#insert-a-colon-between-every-two-digits title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\(..\)/\1:/g;s/:$//&#39;</span> mac_address_list
</code></pre></div> <h3 id=regex-to-remove-html-tags-from-a-file>Regex to remove HTML-Tags from a file<a class=headerlink href=#regex-to-remove-html-tags-from-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;s/&lt;[^&gt;]*&gt;//g;/&lt;/N;//ba&#39;</span> index.html
</code></pre></div> <h3 id=regex-for-turning-a-url-into-a-real-hyperlink-ie-for-posting-somewhere-that-accepts-basic-html>regex for turning a URL into a real hyperlink (i.e. for posting somewhere that accepts basic html)<a class=headerlink href=#regex-for-turning-a-url-into-a-real-hyperlink-ie-for-posting-somewhere-that-accepts-basic-html title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\([a-zA-Z]*\:\/\/[^ ]*\)\(.*\)/\&lt;a href=\&quot;\1\&quot;\&gt;\1\&lt;\/a\&gt;\2/&quot;</span>
</code></pre></div> <h3 id=shows-cpu-load-in-percent>Shows cpu load in percent<a class=headerlink href=#shows-cpu-load-in-percent title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/ .*//&#39;</span> -e <span class=s1>&#39;s/\.//&#39;</span> -e <span class=s1>&#39;s/^0*//&#39;</span> /proc/loadavg
</code></pre></div> <h3 id=apply-substitution-only-on-the-line-following-a-marker>Apply substitution only on the line following a marker<a class=headerlink href=#apply-substitution-only-on-the-line-following-a-marker title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/MARKER/{N;s/THIS/THAT/}&#39;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,3}((;[0-9]{1,3})*)?)?[m|K]//g</span>
</code></pre></div> <h3 id=comment-out-a-line-in-a-file>Comment out a line in a file<a class=headerlink href=#comment-out-a-line-in-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;19375 s/^/#/&#39;</span> file
</code></pre></div> <h3 id=simplification-of-sed-your-sed-stuff-here-file--file2--mv-file2-file>Simplification of "sed 'your sed stuff here' file &gt; file2 &amp;&amp; mv file2 file"<a class=headerlink href=#simplification-of-sed-your-sed-stuff-here-file--file2--mv-file2-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;your sed stuff here&#39;</span> file
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_1>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s:\x1B\[[0-9;]*[mK]::g&quot;</span><span class=err>&#39;</span>
</code></pre></div> <h3 id=prepend-a-text-to-a-file>Prepend a text to a file.<a class=headerlink href=#prepend-a-text-to-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;1s/^/text to prepend\n/&#39;</span> file1
</code></pre></div> <h3 id=delete-line-number-10-from-file>Delete line number 10 from file<a class=headerlink href=#delete-line-number-10-from-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;10d&#39;</span> &lt;somefile&gt;
</code></pre></div> <h3 id=remove-empty-lines>remove empty lines<a class=headerlink href=#remove-empty-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span>
</code></pre></div> <h3 id=convert-files-from-dos-line-endings-to-unix-line-endings>Convert files from DOS line endings to UNIX line endings<a class=headerlink href=#convert-files-from-dos-line-endings-to-unix-line-endings title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^M//&#39;</span> file
</code></pre></div> <h3 id=remove-leading-blank-lines>remove leading blank lines<a class=headerlink href=#remove-leading-blank-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/./,$!d&#39;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_2>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=convert-unix-newlines-to-dos-newlines_1>Convert Unix newlines to DOS newlines<a class=headerlink href=#convert-unix-newlines-to-dos-newlines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$/&lt;ctrl+v&gt;&lt;ctrl+m&gt;/&#39;</span>
</code></pre></div> <h3 id=reverse-order-of-file>reverse order of file<a class=headerlink href=#reverse-order-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1!G;h;$!d&#39;</span>
</code></pre></div> <h3 id=remove-the-first-character-of-each-line-in-a-file>Remove the first character of each line in a file<a class=headerlink href=#remove-the-first-character-of-each-line-in-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^.//g&quot;</span> files
</code></pre></div> <h3 id=delete-last-line-of-a-file-if-it-is-blank>Delete Last Line of a File if it is Blank<a class=headerlink href=#delete-last-line-of-a-file-if-it-is-blank title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;${/^$/d}&#39;</span> file
</code></pre></div> <h3 id=simple-xml-tag-extract-with-sed>Simple XML tag extract with sed<a class=headerlink href=#simple-xml-tag-extract-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*&lt;foo&gt;\([^&lt;]*\)&lt;\/foo&gt;.*/\1/p&#39;</span>
</code></pre></div> <h3 id=perform-sed-substitution-on-all-but-the-last-line-of-input>Perform sed substitution on all but the last line of input<a class=headerlink href=#perform-sed-substitution-on-all-but-the-last-line-of-input title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;</span>$<span class=s2> ! s/</span>$<span class=s2>/,/&quot;</span>
</code></pre></div> <h3 id=remove-empty-lines-in-place-with-backup>remove empty lines in place with backup<a class=headerlink href=#remove-empty-lines-in-place-with-backup title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^$/d&#39;</span> -i .bak filewithempty.lines
</code></pre></div> <h3 id=print-all-the-lines-between-10-and-20-of-a-file>Print all the lines between 10 and 20 of a file<a class=headerlink href=#print-all-the-lines-between-10-and-20-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;10,20!d&#39;</span>
</code></pre></div> <h3 id=efficiently-print-a-line-deep-in-a-huge-log-file>Efficiently print a line deep in a huge log file<a class=headerlink href=#efficiently-print-a-line-deep-in-a-huge-log-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1000000!d;q&#39;</span> &lt; massive-log-file.log
</code></pre></div> <h3 id=extract-title-from-html-files>Extract title from HTML files<a class=headerlink href=#extract-title-from-html-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*&lt;title&gt;\(.*\)&lt;\/title&gt;.*/\1/ip;T;q&#39;</span> file.html
</code></pre></div> <h3 id=grep--v-with-multiple-patterns>grep -v with multiple patterns.<a class=headerlink href=#grep--v-with-multiple-patterns title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/test/{/error\|critical\|warning/d}&#39;</span> somefile
</code></pre></div> <h3 id=a-find-and-replace-within-text-based-files-for-batch-text-replacement-not-using-perl>a find and replace within text-based files, for batch text replacement, not using perl<a class=headerlink href=#a-find-and-replace-within-text-based-files-for-batch-text-replacement-not-using-perl title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/SEARCH_STRING/REPLACE_STRING/g&#39;</span> <span class=sb>`</span>find . -iname <span class=s1>&#39;FILENAME&#39;</span><span class=sb>`</span>
</code></pre></div> <h3 id=go-to-the-nth-line-of-file>Go to the Nth line of file<a class=headerlink href=#go-to-the-nth-line-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n 13p /etc/services
</code></pre></div> <h3 id=add-thousand-separator-with-sed-in-a-file-or-within-pipe>Add thousand separator with sed, in a file or within pipe<a class=headerlink href=#add-thousand-separator-with-sed-in-a-file-or-within-pipe title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;s/\(.*[0-9]\)\([0-9]\{3\}\)/\1,\2/;ta&#39;</span> filename
</code></pre></div> <h3 id=append-empty-line-after-every-line-in-filetxt>append empty line after every line in file.txt<a class=headerlink href=#append-empty-line-after-every-line-in-filetxt title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G file.txt
</code></pre></div> <h3 id=efficiently-extract-lines-between-markers>Efficiently extract lines between markers<a class=headerlink href=#efficiently-extract-lines-between-markers title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/START/,${/STOP/q;p}&#39;</span>
</code></pre></div> <h3 id=change-the-homepage-of-firefox>Change the homepage of Firefox<a class=headerlink href=#change-the-homepage-of-firefox title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s|\(&quot;browser.startup.homepage&quot;,\) &quot;\(.*\)&quot;|\1 &quot;http://sliceoflinux.com&quot;|&#39;</span> .mozilla/firefox/*.default/prefs.js
</code></pre></div> <h3 id=sed-edit-in-place-using--a-option-instead-of--i-option-no-tmp-file-created>sed edit-in-place using -a option instead of -i option (no tmp file created)<a class=headerlink href=#sed-edit-in-place-using--a-option-instead-of--i-option-no-tmp-file-created title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>    sedi<span class=o>(){</span> <span class=k>case</span> <span class=nv>$#</span> <span class=k>in</span> <span class=o>[</span><span class=m>01</span><span class=o>]</span><span class=p>|</span><span class=o>[</span><span class=m>3</span>-9<span class=o>])</span><span class=nb>echo</span> usage: sedi sed-cmds file <span class=p>;;</span><span class=m>2</span><span class=o>)</span>sed -a <span class=s1>&#39;&#39;</span><span class=s2>&quot;</span><span class=nv>$1</span><span class=s2>&quot;</span><span class=s1>&#39;;H;$!d;g;&#39;</span> <span class=nv>$2</span> <span class=p>|</span>sed -a <span class=s1>&#39;/^$/d;w &#39;</span><span class=s2>&quot;</span><span class=nv>$2</span><span class=s2>&quot;</span><span class=s1>&#39;&#39;</span>  <span class=p>;;</span><span class=k>esac</span><span class=p>;</span><span class=o>}</span>
</code></pre></div> <h3 id=remove-a-range-of-lines-from-a-file>Remove a range of lines from a file<a class=headerlink href=#remove-a-range-of-lines-from-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i &lt;file&gt; -re <span class=s1>&#39;&lt;start&gt;,&lt;end&gt;d&#39;</span>
</code></pre></div> <h3 id=gives-you-whats-between-first-string-and-second-string-included>Gives you what's between first string and second string included.<a class=headerlink href=#gives-you-whats-between-first-string-and-second-string-included title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^ABC/+ABC/&quot;</span> &lt;file <span class=p>|</span> sed <span class=s2>&quot;s/DEF</span>$<span class=s2>/DEF+/&quot;</span> <span class=p>|</span> tr <span class=s2>&quot;\n&quot;</span> <span class=s2>&quot;~&quot;</span> <span class=p>|</span> tr <span class=s2>&quot;+&quot;</span> <span class=s2>&quot;\n&quot;</span> <span class=p>|</span> grep <span class=s2>&quot;^ABC&quot;</span>  <span class=p>|</span> tr <span class=s2>&quot;~&quot;</span> <span class=s2>&quot;\n&quot;</span>
</code></pre></div> <h3 id=remove-blank-lines>Remove blank lines<a class=headerlink href=#remove-blank-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span>
</code></pre></div> <h3 id=deleting--ignoring-lines-from-the-top-of-a-file>Deleting / Ignoring lines from the top of a file<a class=headerlink href=#deleting--ignoring-lines-from-the-top-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed 1d foo.txt
</code></pre></div> <h3 id=extract-ip-addresses-with-sed>Extract ip addresses with sed<a class=headerlink href=#extract-ip-addresses-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n  <span class=s1>&#39;s/\([0-9]\{1,3\}\.\)\{3\}[0-9]\{1,3\}/\nip&amp;\n/gp&#39;</span> ips.txt  <span class=p>|</span> grep ip <span class=p>|</span> sed <span class=s1>&#39;s/ip//&#39;</span><span class=p>|</span> sort <span class=p>|</span> uniq
</code></pre></div> <h3 id=remove-lines-which-are-longer-than-255>remove lines which are longer than 255<a class=headerlink href=#remove-lines-which-are-longer-than-255 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^.\{255\}/!p&#39;</span>
</code></pre></div> <h3 id=grep--v-with-multiple-patterns_1>grep -v with multiple patterns.<a class=headerlink href=#grep--v-with-multiple-patterns_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/test/{/error\|critical\|warning/d;p}&#39;</span> somefile
</code></pre></div> <h3 id=remove-leading-zeros-in-multiple-columns-with-sed>Remove leading zeros in multiple columns with sed<a class=headerlink href=#remove-leading-zeros-in-multiple-columns-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\b\(0*\)//g&#39;</span> filename
</code></pre></div> <h3 id=output-the-contents-of-a-file-removing-any-empty-lines-including-lines-which-contain-only-spaces-or-tabs>output the contents of a file removing any empty lines including lines which contain only spaces or tabs.<a class=headerlink href=#output-the-contents-of-a-file-removing-any-empty-lines-including-lines-which-contain-only-spaces-or-tabs title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^[&lt;space&gt;&lt;tab&gt;]*$/d&#39;</span> somefile
</code></pre></div> <h3 id=extract-all-urls-from-firefox-sessionstore>extract all urls from firefox sessionstore<a class=headerlink href=#extract-all-urls-from-firefox-sessionstore title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/\[{/\n/g&quot;</span> -e <span class=s2>&quot;s/}, {/\n/g&quot;</span>  sessionstore.js <span class=p>|</span> grep url <span class=p>|</span> awk -F<span class=s2>&quot;,&quot;</span> <span class=s1>&#39;{ print $1 }&#39;</span><span class=p>|</span> sed -e <span class=s2>&quot;s/url:\&quot;\([^\&quot;]*\)\&quot;/\1/g&quot;</span> -e <span class=s2>&quot;/^about:blank/d&quot;</span> &gt; session_urls.txt
</code></pre></div> <h3 id=print-contents-of-file-from-line-1-until-we-match-regex>print contents of file from line 1 until we match regex<a class=headerlink href=#print-contents-of-file-from-line-1-until-we-match-regex title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1,/regex/p&#39;</span> filename
</code></pre></div> <h3 id=preprocess-code-to-be-posted-in-comments-on-this-site>preprocess code to be posted in comments on this site<a class=headerlink href=#preprocess-code-to-be-posted-in-comments-on-this-site title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^/$ /&#39;</span> <span class=s2>&quot;</span><span class=nv>$script</span><span class=s2>&quot;</span> <span class=p>|</span> xclip
</code></pre></div> <h3 id=quick-and-dirty-formatting-for-html-code>quick and dirty formatting for HTML code<a class=headerlink href=#quick-and-dirty-formatting-for-html-code title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s_(/[^&gt;]*?&gt;)_\1\n_g&#39;</span> filename.html
</code></pre></div> <h3 id=do-a-search-and-replace-in-a-file-after-making-a-backup>Do a search-and-replace in a file after making a backup<a class=headerlink href=#do-a-search-and-replace-in-a-file-after-making-a-backup title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.bak <span class=s1>&#39;s/old/new/g&#39;</span> file
</code></pre></div> <h3 id=concatenates-lines-using-sed>Concatenates lines using sed<a class=headerlink href=#concatenates-lines-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;/$/N;s/\n/ /;ta&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=replace-multiple-spaces-with-semicolon>Replace multiple spaces with semicolon<a class=headerlink href=#replace-multiple-spaces-with-semicolon title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\s\+/;/g;s/^ //;s/ </span>$<span class=s2>//&quot;</span> filename.csv
</code></pre></div> <h3 id=change-every-instance-of-old-to-new-in-file-file>Change every instance of OLD to NEW in file FILE<a class=headerlink href=#change-every-instance-of-old-to-new-in-file-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/OLD/NEW/g&#39;</span> FILE
</code></pre></div> <h3 id=convert-dos-newlines-crlf-to-unix-format>Convert DOS newlines (CR/LF) to Unix format<a class=headerlink href=#convert-dos-newlines-crlf-to-unix-format title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^M$//&#39;</span> input.txt &gt; output.txt
</code></pre></div> <h3 id=embed-next-line-on-the-end-of-current-line-using-sed>Embed next line on the end of current line using sed<a class=headerlink href=#embed-next-line-on-the-end-of-current-line-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed  <span class=s1>&#39;X{N;s/\n//;}&#39;</span> file.txt <span class=o>(</span>where X is the current line<span class=o>)</span>
</code></pre></div> <h3 id=remove-newlines-from-specific-lines-in-a-file-using-sed>remove newlines from specific lines in a file using sed<a class=headerlink href=#remove-newlines-from-specific-lines-in-a-file-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/pattern/N; s/\n//&#39;</span> filename
</code></pre></div> <h3 id=capitalize-the-first-letter-of-every-word>Capitalize the first letter of every word<a class=headerlink href=#capitalize-the-first-letter-of-every-word title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\b\(.\)/\u\1/g&quot;</span>
</code></pre></div> <h3 id=show-a-config-file-without-comments>Show a config file without comments<a class=headerlink href=#show-a-config-file-without-comments title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/#.*//;/^\s*$/d&#39;</span>
</code></pre></div> <h3 id=top-20-commands-in-your-bash-history>Top 20 commands in your bash history<a class=headerlink href=#top-20-commands-in-your-bash-history title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/[;|][[:space:]]*/\n/g&#39;</span> .bash_history <span class=p>|</span> cut <span class=nv>delimiter</span><span class=o>=</span><span class=s1>&#39; &#39;</span> <span class=nv>fields</span><span class=o>=</span><span class=m>1</span> <span class=p>|</span> sort <span class=p>|</span> uniq count <span class=p>|</span> sort numeric-sort reverse <span class=p>|</span> head <span class=nv>lines</span><span class=o>=</span><span class=m>20</span>
</code></pre></div> <h3 id=update-grub-menulst>Update grub menu.lst<a class=headerlink href=#update-grub-menulst title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^$/d&#39;</span> -e <span class=s1>&#39;/^#/d&#39;</span> -e <span class=s1>&#39;/initrd/ a\ &#39;</span> -e <span class=s1>&#39;s/hiddenmenu//g&#39;</span> -e <span class=s1>&#39;/^timeout/d&#39;</span> -e <span class=s1>&#39;/default/ a\timeout\t\t15&#39;</span> -e <span class=s1>&#39;s/quiet//g&#39;</span> -e <span class=s1>&#39;s/splash/rootdelay=60/g&#39;</span> /boot/grub/menu.lst &gt; /boot/grub/menu.lst.new
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span> -i file
</code></pre></div> <h3 id=remove-space-andor-tab-characters-at-the-end-of-line>Remove space and/or tab characters at the end of line<a class=headerlink href=#remove-space-andor-tab-characters-at-the-end-of-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/[ \t]*$//&#39;</span> file
</code></pre></div> <h3 id=delete-all-trailing-whitespace-from-each-line-in-file>delete all trailing whitespace from each line in file<a class=headerlink href=#delete-all-trailing-whitespace-from-each-line-in-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^\s\+//&#39;</span> &lt;file&gt;
</code></pre></div> <h3 id=display-email-addresses-that-have-been-sent-to-by-a-postfix-server-since-the-last-mail-log-rollover>Display email addresses that have been sent to by a postfix server since the last mail log rollover<a class=headerlink href=#display-email-addresses-that-have-been-sent-to-by-a-postfix-server-since-the-last-mail-log-rollover title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;/postfix\/smtp\[.*status=sent/s/^.*to=&lt;\([^&gt;]*\).*$/\1/p&#39;</span> /var/log/mail.log <span class=p>|</span> sort -u
</code></pre></div> <h3 id=given-process-id-print-its-environment-variables>Given process ID print its environment variables<a class=headerlink href=#given-process-id-print-its-environment-variables title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\o0/\n/g&#39;</span> /proc/INSERT_PID_HERE/environ
</code></pre></div> <h3 id=print-only-the-odd-lines-of-a-file-gnu-sed>Print only the odd lines of a file (GNU sed)<a class=headerlink href=#print-only-the-odd-lines-of-a-file-gnu-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=m>2</span>~2d
</code></pre></div> <h3 id=search-replace-with-ansible-style-timestamps>Search replace with Ansible style timestamps<a class=headerlink href=#search-replace-with-ansible-style-timestamps title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.<span class=k>$(</span>date +%F@%T<span class=k>)</span> <span class=s1>&#39;s/^LogLevel warn/LogLevel debug/g&#39;</span> httpd.conf
</code></pre></div> <h3 id=exclude-inserting-a-table-from-a-sql-import>Exclude inserting a table from a sql import<a class=headerlink href=#exclude-inserting-a-table-from-a-sql-import title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/INSERT INTO `unwanted_table`/d&#39;</span> mydb.sql &gt; reduced.sql
</code></pre></div> <h3 id=getting-a-domain-from-url-ex-very-nice-to-get-url-from-squid-accesslog>Getting a domain from url, ex: very nice to get url from squid access.log<a class=headerlink href=#getting-a-domain-from-url-ex-very-nice-to-get-url-from-squid-accesslog title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/[^/]*\/\/\([^@]*@\)\?\([^:/]*\).*/\2/&quot;</span>
</code></pre></div> <h3 id=multi-line-grep-using-sed-and-specifying-openclose-tags>Multi line grep using sed and specifying open/close tags<a class=headerlink href=#multi-line-grep-using-sed-and-specifying-openclose-tags title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/&#39;</span><span class=s2>&quot;&lt;opening tag&gt;&quot;</span><span class=s1>&#39;/,/&#39;</span><span class=s2>&quot;&lt;closing tag&gt;&quot;</span><span class=s1>&#39;/{/&#39;</span><span class=s2>&quot;&lt;closing tag&gt;&quot;</span><span class=s1>&#39;/d;p};d&#39;</span> <span class=s2>&quot;&lt;file&gt;&quot;</span>
</code></pre></div> <h3 id=sed---substitute-string-in-next-line>SED - Substitute string in next line<a class=headerlink href=#sed---substitute-string-in-next-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.backup <span class=s1>&#39;/patter/{n;s/foo/bar/g}&#39;</span> file
</code></pre></div> <h3 id=remove-repeated-pairs-of-characters-eg-xtxtxtxt-will-become-xt>remove repeated pairs of characters e.g. "xtxtxtxt" will become "xt"<a class=headerlink href=#remove-repeated-pairs-of-characters-eg-xtxtxtxt-will-become-xt title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -ru <span class=s1>&#39;s/(..)\1{2,}/\1/g&#39;</span>
</code></pre></div> <h3 id=delete-all-emptyblank-lines-from-text-file--output-to-file>Delete all empty/blank lines from text file &amp; output to file<a class=headerlink href=#delete-all-emptyblank-lines-from-text-file--output-to-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span> /tmp/data.txt &gt; /tmp/output.txt
</code></pre></div> <h3 id=fix-subtitle-timing-for-sub-files>Fix subtitle timing (for .sub files)<a class=headerlink href=#fix-subtitle-timing-for-sub-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/{/|/&#39;</span> -e <span class=s1>&#39;s/}{/|/&#39;</span> -e <span class=s1>&#39;s/}/|/&#39;</span> myFile.sub <span class=p>|</span> awk -F <span class=s2>&quot;|&quot;</span> <span class=s1>&#39;BEGIN {OFS =  &quot;|&quot;} { $2 = $2 - 600; $3 = $3 - 600; print $0 }&#39;</span> <span class=p>|</span> sed -e <span class=s1>&#39;s/^|/{/&#39;</span> -e <span class=s1>&#39;s/\([0-9]\)|\([0-9]\)/\1}{\2/&#39;</span> -e <span class=s1>&#39;s/|/}/&#39;</span> &gt;
</code></pre></div> <h3 id=mysql-slice-out-a-specific-table-from-the-output-of-mysqldump>MySQL: Slice out a specific table from the output of mysqldump<a class=headerlink href=#mysql-slice-out-a-specific-table-from-the-output-of-mysqldump title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;/^ Table structure for table \`departments\`/,/^ Table structure for table/p&quot;</span>
</code></pre></div> <h3 id=comment-out-all-lines-in-a-file-beginning-with-string>Comment out all lines in a file beginning with string<a class=headerlink href=#comment-out-all-lines-in-a-file-beginning-with-string title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^\(somestring\)/#\1/&#39;</span> somefile.cfg
</code></pre></div> <h3 id=commentate-specified-line-of-a-file>commentate specified line of a file<a class=headerlink href=#commentate-specified-line-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;&lt;line_no&gt;s/\(.*\)/#\1/&#39;</span> &lt;testfile&gt;
</code></pre></div> <h3 id=remove-multiple-spaces>Remove multiple spaces<a class=headerlink href=#remove-multiple-spaces title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^ *//;s/ *</span>$<span class=s2>//;s/ \{1,\}/ /g&quot;</span> filename.txt
</code></pre></div> <h3 id=simple-comment-an-entire-file>Simple Comment an entire file<a class=headerlink href=#simple-comment-an-entire-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^/#/&#39;</span> FILENAME
</code></pre></div> <h3 id=convert-a-python-interactive-session-to-a-python-script>Convert a Python interactive session to a python script<a class=headerlink href=#convert-a-python-interactive-session-to-a-python-script title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed  <span class=s1>&#39;s/^\([^&gt;.]\)/#\1/;s/^&gt;&gt;&gt; //;s/^\.\.\./  /&#39;</span>
</code></pre></div> <h3 id=add-a-line-from-1-file-after-every-line-of-another-shuffle-files-together>Add a line from 1 file after every line of another (shuffle files together)<a class=headerlink href=#add-a-line-from-1-file-after-every-line-of-another-shuffle-files-together title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^/R addfile&#39;</span> targetfile &gt; savefile
</code></pre></div> <h3 id=print-contents-of-file-from-first-match-of-regex-to-end-of-file>print contents of file from first match of regex to end of file<a class=headerlink href=#print-contents-of-file-from-first-match-of-regex-to-end-of-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/regex/,$p&#39;</span> filename
</code></pre></div> <h3 id=compute-the-numeric-sum-of-a-file>Compute the numeric sum of a file<a class=headerlink href=#compute-the-numeric-sum-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed i<span class=s2>&quot;+&quot;</span> file.txt <span class=p>|</span> xargs <span class=nb>echo</span> <span class=m>0</span> <span class=p>|</span>bc
</code></pre></div> <h3 id=delete-leading-whitespace-from-the-start-of-each-line>Delete leading whitespace from the start of each line<a class=headerlink href=#delete-leading-whitespace-from-the-start-of-each-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//&#39;</span> input.txt
</code></pre></div> <h3 id=delete-leading-whitespace-from-the-start-of-each-line_1>Delete leading whitespace from the start of each line<a class=headerlink href=#delete-leading-whitespace-from-the-start-of-each-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^\s*//&#39;</span> input.txt
</code></pre></div> <h3 id=search-apache-virtual-host-by-pattern>Search apache virtual host by pattern<a class=headerlink href=#search-apache-virtual-host-by-pattern title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^[^#]*&lt;Virtual/{:l N; /&lt;\/Virtual/!bl;}; /PATTERN/p&#39;</span> vhosts.conf
</code></pre></div> <h3 id=terminal---show-directories-in-the-path-one-per-line-with-sed-and-bash3x-here-string>Terminal - Show directories in the PATH, one per line with sed and bash3.X `here string'<a class=headerlink href=#terminal---show-directories-in-the-path-one-per-line-with-sed-and-bash3x-here-string title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/:/\n/g&#39;</span> <span class=o>&lt;&lt;&lt;</span><span class=nv>$PATH</span>
</code></pre></div> <h3 id=remove-a-range-of-lines-from-a-file_1>Remove a range of lines from a file<a class=headerlink href=#remove-a-range-of-lines-from-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i &lt;start&gt;,&lt;end&gt;d &lt;filename&gt;
</code></pre></div> <h3 id=every-nth-line-position--sed>Every Nth line position # (SED)<a class=headerlink href=#every-nth-line-position--sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1,${p;n;n;}&#39;</span> foo &gt; foo_every3_position1<span class=p>;</span> sed -n <span class=s1>&#39;2,${p;n;n;}&#39;</span> foo &gt; foo_every3_position2<span class=p>;</span> sed -n <span class=s1>&#39;3,${p;n;n;}&#39;</span> foo &gt; foo_every3_position3
</code></pre></div> <h3 id=in-place-searchreplace-with-datestamped-backup>In-Place search/replace with datestamped backup<a class=headerlink href=#in-place-searchreplace-with-datestamped-backup title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.<span class=sb>`</span>date +%Y%m%d<span class=sb>`</span> -e <span class=s1>&#39;s/pattern/replace&#39;</span> <span class=o>[</span>filename<span class=o>]</span>
</code></pre></div> <h3 id=replace-spaces-in-a-file-with-hyphens>Replace spaces in a file with hyphens<a class=headerlink href=#replace-spaces-in-a-file-with-hyphens title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/ /-/g&#39;</span> *
</code></pre></div> <h3 id=delete-the-specified-line>Delete the specified line<a class=headerlink href=#delete-the-specified-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 8d ~/.ssh/known_hosts
</code></pre></div> <h3 id=change-host-name>Change host name<a class=headerlink href=#change-host-name title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/oldname/newname/&#39;</span> /etc/hosts /etc/hostname
</code></pre></div> <h3 id=print-just-line-4-from-a-textfile_1>Print just line 4 from a textfile<a class=headerlink href=#print-just-line-4-from-a-textfile_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;4{p;q}&#39;</span>
</code></pre></div> <h3 id=print-just-line-4-from-a-textfile_2>Print just line 4 from a textfile<a class=headerlink href=#print-just-line-4-from-a-textfile_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;4p&#39;</span>
</code></pre></div> <h3 id=cleanup-a-source-text-file-removing-trailing-spacestabs-and-multiple-consecutive-blank-lines>Cleanup a (source) text file, removing trailing spaces/tabs and multiple consecutive blank lines<a class=headerlink href=#cleanup-a-source-text-file-removing-trailing-spacestabs-and-multiple-consecutive-blank-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/[ \t]*$//;/^$/N;/\n$/D&#39;</span> sourcefiletocleanup
</code></pre></div> <h3 id=put-uppercase-letters-in-curly-brackets-in-a-bibtex-database>Put uppercase letters in curly brackets in a BibTeX database<a class=headerlink href=#put-uppercase-letters-in-curly-brackets-in-a-bibtex-database title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^\s*[^@%]/s=\([A-Z][A-Z]*\)\([^}A-Z]\|},$\)={\1}\2=g&#39;</span> literature.bib &gt; output.bib
</code></pre></div> <h3 id=prepend-a-text-to-a-file_1>Prepend a text to a file.<a class=headerlink href=#prepend-a-text-to-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^/ls -l /&#39;</span> output_files.txt
</code></pre></div> <h3 id=edit-ruby-files-within-the-current-directory-to-use-ruby-19-style-symbol-keys-instead-of-rockets>Edit Ruby files within the current directory to use Ruby 1.9+ style symbol keys instead of rockets<a class=headerlink href=#edit-ruby-files-within-the-current-directory-to-use-ruby-19-style-symbol-keys-instead-of-rockets title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;s/:\([a-zA-Z_]*\) =&gt;/\1:/g&quot;</span> **/*.rb
</code></pre></div> <h3 id=uncomment-the-lines-where-the-word-debug-is-found_1>uncomment the lines where the word DEBUG is found<a class=headerlink href=#uncomment-the-lines-where-the-word-debug-is-found_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^#\(.*DEBUG\)/\1/&#39;</span> <span class=nv>$FILE</span>
</code></pre></div> <h3 id=raspberry-pi-serial-number-wo-leading-zeros>Raspberry Pi serial number w/o leading zeros<a class=headerlink href=#raspberry-pi-serial-number-wo-leading-zeros title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;$!d s/.*: 0\+//&#39;</span> /proc/cpuinfo
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_3>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/(\x1B|\033)(\(B|\[([0-9]{1,2}(;[0-9]{1,2})?)?[A-Z])//Ig&quot;</span>
</code></pre></div> <h3 id=urldecoding>urldecoding<a class=headerlink href=#urldecoding title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e<span class=s1>&#39;s/%\([0-9A-F][0-9A-F]\)/\\\\\x\1/g&#39;</span> <span class=p>|</span> xargs <span class=nb>echo</span> -e
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_4>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_4 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/&#39;</span><span class=k>$(</span><span class=nb>echo</span> -e <span class=s2>&quot;\033&quot;</span><span class=k>)</span><span class=s1>&#39;\[[0-9]{1,2}(;([0-9]{1,2})?)?[mK]//g&#39;</span>
</code></pre></div> <h3 id=replace-words-with-sed>Replace words with sed<a class=headerlink href=#replace-words-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed /BEGIN/,/END/s/xxx/yyy/g input.txt
</code></pre></div> <h3 id=rebuild-a-delimited-file-with-a-unique-delimiter>Rebuild a Delimited File with a Unique Delimiter<a class=headerlink href=#rebuild-a-delimited-file-with-a-unique-delimiter title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$/uniqueString/&#39;</span> file.old <span class=p>|</span> sed <span class=s1>&#39;s/,/\n/g&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;:loop;/^\&quot;[^\&quot;]*$/N;s/\n/,/;/[^\&quot;]$/t loop&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;:loop;N;s/\n/@/g;/uniqueString$/!b loop;s/uniqueString$//&#39;</span> &gt; file.new
</code></pre></div> <h3 id=delete-all-trailing-whitespace-from-each-line-in-file_1>delete all trailing whitespace from each line in file<a class=headerlink href=#delete-all-trailing-whitespace-from-each-line-in-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[ \t]*$//&#39;</span> &lt; &lt;file&gt; &gt; &lt;file&gt;.out<span class=p>;</span> mv &lt;file&gt;.out &lt;file&gt;
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file_1>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span> &lt; &lt;file&gt; &gt; &lt;file&gt;.out<span class=p>;</span> mv &lt;file&gt;.out &lt;file&gt;
</code></pre></div> <h3 id=remove--r-carriage-return-in-a-file>Remove r (carriage return) in a file<a class=headerlink href=#remove--r-carriage-return-in-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=err>&#39;</span>s/<span class=se>\r</span>//g somefile.txt
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file_2>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^\s*//;s/\s*$//&#39;</span> -i file
</code></pre></div> <h3 id=puts-every-word-from-a-file-into-a-new-line>Puts every word from a file into a new line<a class=headerlink href=#puts-every-word-from-a-file-into-a-new-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/[ \t\r\n\v\f]+/\^J/g&#39;</span> INFILE &gt; OUTFILE
</code></pre></div> <h3 id=change-your-e-mail-address-in-multiple-files>Change your e-mail address in multiple files<a class=headerlink href=#change-your-e-mail-address-in-multiple-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/oldname@example.com/newname@example.com/g&#39;</span> <span class=sb>`</span>grep oldname@example.com -rl .<span class=sb>`</span>
</code></pre></div> <h3 id=delete-all-lines-after-the-first-match>Delete all lines after the first match<a class=headerlink href=#delete-all-lines-after-the-first-match title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;1,/match/p&#39;</span>
</code></pre></div> <h3 id=extract-ip-addresses-with-sed_1>Extract ip addresses with sed<a class=headerlink href=#extract-ip-addresses-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*\(\(\(^\| \)[0-9]\{1,3\}\.\)\{1\}\([0-9]\{1,3\}\.\)\{2\}[0-9]\{1,3\}\) .*/\1/gp&#39;</span>
</code></pre></div> <h3 id=sed-replace-string-in-whole-files-in-folder>sed replace string in whole files in folder<a class=headerlink href=#sed-replace-string-in-whole-files-in-folder title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/SearchString/ReplaceString/g&#39;</span> views/*.php
</code></pre></div> <h3 id=bash-chop>bash chop<a class=headerlink href=#bash-chop title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/.$//&#39;</span>
</code></pre></div> <h3 id=printout-a-list-of-field-numbers-from-a-csv-file-with-headers-as-first-line>Printout a list of field numbers from a CSV file with headers as first line.<a class=headerlink href=#printout-a-list-of-field-numbers-from-a-csv-file-with-headers-as-first-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/,/\n/g;q&#39;</span> file.csv <span class=p>|</span> nl
</code></pre></div> <h3 id=remove-lines-that-contain-a-specific-pattern1-from-file2>Remove lines that contain a specific pattern(<span class=arithmatex>\(1) from file(\)</span>2).<a class=headerlink href=#remove-lines-that-contain-a-specific-pattern1-from-file2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/myexpression/d&#39;</span> /path/to/file.txt
</code></pre></div> <h3 id=convert-windowsdos-text-files-to-unix>Convert Windows/DOS Text Files to Unix<a class=headerlink href=#convert-windowsdos-text-files-to-unix title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/\r//&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=insert-blank-lines>insert blank lines<a class=headerlink href=#insert-blank-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G input.txt <span class=p>|</span> cat -s
</code></pre></div> <h3 id=removes-lines-range-from-file>Removes lines [range] from file<a class=headerlink href=#removes-lines-range-from-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1,5d&#39;</span>  /path/to/file
</code></pre></div> <h3 id=more-than-4-repeated-characters-to-a-single-character>more than 4 repeated characters to a single character<a class=headerlink href=#more-than-4-repeated-characters-to-a-single-character title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -ru <span class=s1>&#39;s/(.)\1{4,}/\1/g&#39;</span>
</code></pre></div> <h3 id=convert-camelcase-to-underscores-camel_case>Convert camelCase to underscores (camel_case)<a class=headerlink href=#convert-camelcase-to-underscores-camel_case title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/([a-z]+)([A-Z][a-z]+)/\1_\l\2/g&#39;</span> file.txt
</code></pre></div> <h3 id=tells-which-group-you-dont-belong-to-opposite-of-command-groups---uses-sed>Tells which group you DON'T belong to (opposite of command "groups") - uses sed<a class=headerlink href=#tells-which-group-you-dont-belong-to-opposite-of-command-groups---uses-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;/</span><span class=nv>$USER</span><span class=s2>/d;s/:.*//g&quot;</span> /etc/group <span class=p>|</span> sed -e :a -e <span class=s1>&#39;/$/N;s/\n/ /;ta&#39;</span>
</code></pre></div> <h3 id=remove-blank-lines-from-a-file>Remove blank lines from a file<a class=headerlink href=#remove-blank-lines-from-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.bak <span class=s1>&#39;/^[[:space:]]*$/d&#39;</span> file_name
</code></pre></div> <h3 id=convert-iso8601-dates-to-milliseconds-since-epoch>Convert ISO8601 dates to milliseconds since epoch<a class=headerlink href=#convert-iso8601-dates-to-milliseconds-since-epoch title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s|\(2[0-9]\{3\}-[01][0-9]-[0-3][0-9]T[01][0-9]:[0-5][0-9]:[0-5][0-9].[0-9]\{3\}Z\)|</span><span class=k>$(</span>date -d <span class=se>\1</span> +%s<span class=k>)</span><span class=s2>000|g&quot;</span>
</code></pre></div> <h3 id=go-to-the-nth-line-of-file_1>Go to the Nth line of file<a class=headerlink href=#go-to-the-nth-line-of-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;15p&#39;</span> <span class=nv>$file</span>
</code></pre></div> <h3 id=mysql-slice-out-a-specific-database-assumes-existence-of-the-use-statement-from-mysqldump-output>MySQL: Slice out a specific database (assumes existence of the USE statement) from mysqldump output<a class=headerlink href=#mysql-slice-out-a-specific-database-assumes-existence-of-the-use-statement-from-mysqldump-output title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;/^USE \`employees\`/,/^USE \`/p&quot;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_5>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_5 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s@\^\[{1,2}([0-9]{1,2}(;[0-9]{1,2})?(;[0-9])?(m|K){1,2})?@@g&quot;</span>
</code></pre></div> <h3 id=only-change-the-first-occurrence-of-the-pattern>Only change the first occurrence of the pattern<a class=headerlink href=#only-change-the-first-occurrence-of-the-pattern title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;0,/enabled/{s|enabled=0|enabled=1|}&quot;</span> /etc/yum.repos.d/remi.repo
</code></pre></div> <h3 id=remove-the-first-line-containing-match-from-file>Remove the first line containing 'match' from file<a class=headerlink href=#remove-the-first-line-containing-match-from-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;</span><span class=k>$(</span>grep -nm <span class=m>1</span> match file<span class=p>|</span>cut -f1 -d:<span class=k>)</span><span class=s2>d&quot;</span> file
</code></pre></div> <h3 id=replace-deprecated-php-function-split-in-php-files>replace deprecated php-function split in php files<a class=headerlink href=#replace-deprecated-php-function-split-in-php-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i s/split<span class=se>\(</span>/explode<span class=se>\(</span>/ whatever.php
</code></pre></div> <h3 id=file-without-comments-or-blank-lines>File without comments or blank lines.<a class=headerlink href=#file-without-comments-or-blank-lines title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[[:blank:]]*//; s/^#.*//; /^$/d&#39;</span> filename
</code></pre></div> <h3 id=comment-out-all-lines-in-a-file-beginning-with-string_1>Comment out all lines in a file beginning with string<a class=headerlink href=#comment-out-all-lines-in-a-file-beginning-with-string_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/^somestring/ s/^/#/&#39;</span> somefile.cfg
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_6>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_6 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=replace-strings-in-files>Replace strings in files<a class=headerlink href=#replace-strings-in-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/war/peace/g&#39;</span> *
</code></pre></div> <h3 id=pick-up-3-lines-start-at-every-5th-line-of-filetxt>pick up 3 lines start at every 5<sup>th</sup> line of file.txt<a class=headerlink href=#pick-up-3-lines-start-at-every-5th-line-of-filetxt title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1~5{N;N;p}&#39;</span> file.txt
</code></pre></div> <h3 id=regular-expression-search-pattern-to-remove-the-datetime-and-name-when-you-paste-from-skype-chat-into-your-text-editor>Regular expression search pattern to remove the Datetime and Name when you paste from skype chat into your text editor<a class=headerlink href=#regular-expression-search-pattern-to-remove-the-datetime-and-name-when-you-paste-from-skype-chat-into-your-text-editor title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^.*?].*?:\s//g&#39;</span> skype-chat-log.txt
</code></pre></div> <h3 id=analyze-apache-web-log-statistics-starting-on-date-x>Analyze Apache Web Log Statistics starting on DATE x<a class=headerlink href=#analyze-apache-web-log-statistics-starting-on-date-x title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/05\/Dec\/2010/,$ p&#39;</span> access.log <span class=p>|</span> goaccess -s -b
</code></pre></div> <h3 id=duplicate-a-line-in-a-text-file-and-replace-part-of-the-duplicated-line>Duplicate a line in a text file and replace part of the duplicated line<a class=headerlink href=#duplicate-a-line-in-a-text-file-and-replace-part-of-the-duplicated-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;/foo/p&#39;</span> -e <span class=s1>&#39;s/foo/barfoo/&#39;</span> file
</code></pre></div> <h3 id=format-a-password-file-for-john-the-ripper-from-cisco-configs--level-5>Format a password file for John the Ripper from Cisco configs (Level 5)<a class=headerlink href=#format-a-password-file-for-john-the-ripper-from-cisco-configs--level-5 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/[ :]/_/g; s/^\(.\{1,\}\)_5_\($1$[$./0-9A-Za-z]\{27,31\}\)_*$/\1:\2/p&#39;</span> &lt; cisco-device-config &gt; passwd
</code></pre></div> <h3 id=html-esacaping-with-sed>HTML esacaping with sed<a class=headerlink href=#html-esacaping-with-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/&amp;/\&amp;amp;/g; s/&lt;/\&amp;lt;/g; s/&gt;/\&amp;gt;/g; s/&quot;/\&amp;quot;/g; s/&#39;</span><span class=s2>&quot;&#39;&quot;</span><span class=s1>&#39;/\&amp;#39;/g&#39;</span>
</code></pre></div> <h3 id=parse-bookmarks-and-download-youtube-files>Parse bookmarks and download youtube files<a class=headerlink href=#parse-bookmarks-and-download-youtube-files title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s+href=&quot;\([^&quot;]*\)&quot;+\n\1\n+g&#39;</span> bookmarks.html <span class=p>|</span> grep <span class=s1>&#39;^http&#39;</span> <span class=p>|</span>clive
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_7>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_7 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -E <span class=s2>&quot;s/&quot;</span><span class=s1>$&#39;\E&#39;</span><span class=s2>&quot;\[([0-9]{1,3}((;[0-9]{1,3})*)?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=extract-specific-lines-from-a-text-file-using-stream-editor-sed>Extract specific lines from a text file using Stream Editor (sed)<a class=headerlink href=#extract-specific-lines-from-a-text-file-using-stream-editor-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=m>1186</span>,1210p A-small-practice.in
</code></pre></div> <h3 id=insert-lines-at-top-of-file-using-sed>Insert line(s) at top of file using sed<a class=headerlink href=#insert-lines-at-top-of-file-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;1iI am a new line&#39;</span> file.txt
</code></pre></div> <h3 id=extract-xml-from-an-otherwise-plain-text-log-file>Extract XML from an otherwise plain text log file<a class=headerlink href=#extract-xml-from-an-otherwise-plain-text-log-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/&lt;Tag&gt;/,/&lt;\/Tag&gt;/p&#39;</span> logfile.log
</code></pre></div> <h3 id=list-the-cpu-model-name>List the CPU model name<a class=headerlink href=#list-the-cpu-model-name title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/^model name[ \t]*: *//p&#39;</span> /proc/cpuinfo
</code></pre></div> <h3 id=edit-hosts-file-to-remove-foonovalocal-from-it-where-foo-is-the-hostname-of-a-new-vm>Edit hosts file to remove "foo.novalocal" from it where foo is the hostname of a new VM<a class=headerlink href=#edit-hosts-file-to-remove-foonovalocal-from-it-where-foo-is-the-hostname-of-a-new-vm title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/^127.0.1.1 </span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>.novalocal/127.0.1.1/g&quot;</span> /etc/hosts
</code></pre></div> <h3 id=convert-html-links-into-plain-text-with-link-anchor>convert html links into plain text with link anchor<a class=headerlink href=#convert-html-links-into-plain-text-with-link-anchor title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s!&lt;[Aa] *href*=*&quot;\([^&quot;]*\)&quot;*&gt;\([^&lt;&gt;]*\)&lt;/[Aa]&gt;!\1,\2!g&#39;</span> links.html
</code></pre></div> <h3 id=delete-first-and-last-line-from-file>delete first and last line from file<a class=headerlink href=#delete-first-and-last-line-from-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1d;$d&#39;</span> filename
</code></pre></div> <h3 id=remove-comments-from-files_1>Remove comments from files<a class=headerlink href=#remove-comments-from-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;/^#[^!].*/d&#39;</span> -e <span class=s1>&#39;s/\(.*[^!]\)#.*[^}]/\1/&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=sort-a-one-per-line-list-of-email-address-weeding-out-duplicates>Sort a one-per-line list of email address, weeding out duplicates<a class=headerlink href=#sort-a-one-per-line-list-of-email-address-weeding-out-duplicates title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[ \t]*$//&#39;</span> &lt; emails.txt <span class=p>|</span> tr <span class=s1>&#39;A-Z&#39;</span> <span class=s1>&#39;a-z&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq &gt; emails_sorted.txt
</code></pre></div> <h3 id=create-fortunes-dat-file-from-commandlinefu-from-saved-preferite>Create fortune's *.dat file from commandlinefu from saved preferite<a class=headerlink href=#create-fortunes-dat-file-from-commandlinefu-from-saved-preferite title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;:a;N;$!ba;s/\n\n/\n%\n/g&#39;</span> input.txt &gt;output
</code></pre></div> <h3 id=replace-nelines-with-spaces>Replace nelines with spaces<a class=headerlink href=#replace-nelines-with-spaces title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;$!N;s/\n/ /;ta&#39;</span>
</code></pre></div> <h3 id=revoke-an-existing-users-group-memberships-and-add-another-user-to-those-same-groups>Revoke an existing user's group memberships and add another user to those same groups,<a class=headerlink href=#revoke-an-existing-users-group-memberships-and-add-another-user-to-those-same-groups title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.awkbak <span class=s2>&quot;s/\([:,]\)oldspiderman/\1newspiderman/&quot;</span> /etc/group
</code></pre></div> <h3 id=uncomment-line-based-on-string-match>Uncomment line based on string match<a class=headerlink href=#uncomment-line-based-on-string-match title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/4.2.2.2/ s/^;//&#39;</span> -i test.txt
</code></pre></div> <h3 id=to-display-all-characters-except-second-last-character-from-each-line-of-a-file>to display all characters except second last character from each line of a file<a class=headerlink href=#to-display-all-characters-except-second-last-character-from-each-line-of-a-file title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^\(.*\)\(.\)\(.\)$/\1\3/&#39;</span> fileName
</code></pre></div> <h3 id=convert-csv-files-to-tsv>Convert CSV files to TSV<a class=headerlink href=#convert-csv-files-to-tsv title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/,/\t/g&#39;</span> report.csv &gt; report.tsv
</code></pre></div> <h3 id=change-time-format-in-log-unix-timestamp-to-human-readable>Change time format in log, UNIX Timestamp to Human readable<a class=headerlink href=#change-time-format-in-log-unix-timestamp-to-human-readable title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/(\[|])//g&#39;</span> <span class=p>|</span> awk <span class=s1>&#39; { $1=strftime(&quot;%D %T&quot;,$1); print }&#39;</span>
</code></pre></div> <h3 id=remove-lines-ending-or-trailing-slash->Remove lines ending or trailing slash (/)<a class=headerlink href=#remove-lines-ending-or-trailing-slash- title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;g/text/d&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=remove-last-x-lines-from-file-using-sed>Remove last x lines from file using sed<a class=headerlink href=#remove-last-x-lines-from-file-using-sed title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e :a -i -e <span class=s1>&#39;1,5!{P;N;D;};N;ba&#39;</span> /etc/apt/sources.list
</code></pre></div> <h3 id=remove-a-range-of-lines-from-a-file_2>Remove a range of lines from a file<a class=headerlink href=#remove-a-range-of-lines-from-a-file_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=m>6</span>,66d &lt;filename&gt;
</code></pre></div> <h3 id=rsnapshot-vim-edit-replaying-space-tabs>rsnapshot vim edit replaying space tabs<a class=headerlink href=#rsnapshot-vim-edit-replaying-space-tabs title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/ \+ /\t/g&#39;</span> /usr/local/etc/rsnapshot.conf &gt;/tmp/snap.conf
</code></pre></div> <h3 id=join-lines-split-with-backslash-at-the-end>Join lines split with backslash at the end<a class=headerlink href=#join-lines-split-with-backslash-at-the-end title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/\\$/{:0;N;s/\\\n//;t0}&#39;</span>
</code></pre></div> <h3 id=to-print-a-specific-line-from-a-file_1>To print a specific line from a file<a class=headerlink href=#to-print-a-specific-line-from-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n 5p &lt;file&gt;
</code></pre></div> <h3 id=uncomment-the-lines-where-the-word-debug-is-found_2>uncomment the lines where the word DEBUG is found<a class=headerlink href=#uncomment-the-lines-where-the-word-debug-is-found_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^#.*DEBUG.*/ s/^#//&#39;</span> <span class=nv>$FILE</span>
</code></pre></div> <h3 id=sed--using-colons-as-separators-instead-of-forward-slashes_1>sed : using colons as separators instead of forward slashes<a class=headerlink href=#sed--using-colons-as-separators-instead-of-forward-slashes_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s:/old/direcory/:/new/directory/:&quot;</span> &lt;file&gt;
</code></pre></div> <h3 id=delete-a-particular-line-by-line-number-in-file_1>delete a particular line by line number in file<a class=headerlink href=#delete-a-particular-line-by-line-number-in-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 3d ~/.ssh/known_hosts
</code></pre></div> <h3 id=put-all-lines-in-comment-where-de-word-debug-is-found_1>put all lines in comment where de word DEBUG is found<a class=headerlink href=#put-all-lines-in-comment-where-de-word-debug-is-found_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^.*DEBUG.*/#&amp;/&#39;</span>  <span class=nv>$file</span>
</code></pre></div> <h3 id=extract-a-bash-function_1>Extract a bash function<a class=headerlink href=#extract-a-bash-function_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^function h\(\)/,/^}/p&#39;</span> script.sh
</code></pre></div> <h3 id=remove--color--special--escape--ansi--codes-from-text-with-sed_1>Remove ( color / special / escape / ANSI ) codes, from text, with sed<a class=headerlink href=#remove--color--special--escape--ansi--codes-from-text-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s,\x1B\[[0-9;]*[a-zA-Z],,g&quot;</span>
</code></pre></div> <h3 id=top-10-commands-used_1>top 10 commands used<a class=headerlink href=#top-10-commands-used_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/ *$//&#39;</span> ~/.bash_history <span class=p>|</span> sort <span class=p>|</span> uniq -cd <span class=p>|</span> sort -nr <span class=p>|</span> head
</code></pre></div> <h3 id=display-a-block-of-text-with-awk_1>Display a block of text with AWK<a class=headerlink href=#display-a-block-of-text-with-awk_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n /start_pattern/,/stop_pattern/p file.txt
</code></pre></div> <h3 id=remove-comments-from-files_2>Remove comments from files<a class=headerlink href=#remove-comments-from-files_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^#/d&#39;</span> -e <span class=s1>&#39;s/#.*$//&#39;</span> <span class=k>in</span>
</code></pre></div> <h3 id=remove-all-html-tags-from-a-file_1>Remove all HTML tags from a file<a class=headerlink href=#remove-all-html-tags-from-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/&lt;[^&gt;]\+&gt;//g&quot;</span> file
</code></pre></div> <h3 id=update-zone-file-serial-numbers_1>Update zone file Serial numbers<a class=headerlink href=#update-zone-file-serial-numbers_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/20[0-1][0-9]\{7\}/&#39;</span><span class=sb>`</span>date +%Y%m%d%I<span class=sb>`</span><span class=s1>&#39;/g&#39;</span> *.db
</code></pre></div> <h3 id=remove-a-line-in-a-text-file-useful-to-fix-ssh-host-key-change-warnings_1>Remove a line in a text file. Useful to fix "ssh host key change" warnings<a class=headerlink href=#remove-a-line-in-a-text-file-useful-to-fix-ssh-host-key-change-warnings_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 8d ~/.ssh/known_hosts
</code></pre></div> <h3 id=remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change_2>Remove a line from a file using sed (useful for updating known SSH server keys when they change)<a class=headerlink href=#remove-a-line-from-a-file-using-sed-useful-for-updating-known-ssh-server-keys-when-they-change_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;${LINE}d&#39;</span> ~/.ssh/known_host
</code></pre></div> <h3 id=see-the-10-programs-the-most-used_1>See the 10 programs the most used<a class=headerlink href=#see-the-10-programs-the-most-used_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/| /\n/g&quot;</span> ~/.bash_history <span class=p>|</span> cut -d <span class=s1>&#39; &#39;</span> -f <span class=m>1</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr <span class=p>|</span> head
</code></pre></div> <h3 id=separate-emphasize-digital-strings-from-other-text_1>separate (emphasize) digital strings from other text<a class=headerlink href=#separate-emphasize-digital-strings-from-other-text_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[0-9]\+/ [&amp;] /g&#39;</span>
</code></pre></div> <h3 id=print-all-lines-between-two-line-numbers_1>Print all lines between two line numbers<a class=headerlink href=#print-all-lines-between-two-line-numbers_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;3,6p&#39;</span> /path/to/file
</code></pre></div> <h3 id=insert-a-colon-between-every-two-digits_1>Insert a colon between every two digits<a class=headerlink href=#insert-a-colon-between-every-two-digits_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\(..\)/\1:/g;s/:$//&#39;</span> mac_address_list
</code></pre></div> <h3 id=regex-to-remove-html-tags-from-a-file_1>Regex to remove HTML-Tags from a file<a class=headerlink href=#regex-to-remove-html-tags-from-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;s/&lt;[^&gt;]*&gt;//g;/&lt;/N;//ba&#39;</span> index.html
</code></pre></div> <h3 id=regex-for-turning-a-url-into-a-real-hyperlink-ie-for-posting-somewhere-that-accepts-basic-html_1>regex for turning a URL into a real hyperlink (i.e. for posting somewhere that accepts basic html)<a class=headerlink href=#regex-for-turning-a-url-into-a-real-hyperlink-ie-for-posting-somewhere-that-accepts-basic-html_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\([a-zA-Z]*\:\/\/[^ ]*\)\(.*\)/\&lt;a href=\&quot;\1\&quot;\&gt;\1\&lt;\/a\&gt;\2/&quot;</span>
</code></pre></div> <h3 id=shows-cpu-load-in-percent_1>Shows cpu load in percent<a class=headerlink href=#shows-cpu-load-in-percent_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/ .*//&#39;</span> -e <span class=s1>&#39;s/\.//&#39;</span> -e <span class=s1>&#39;s/^0*//&#39;</span> /proc/loadavg
</code></pre></div> <h3 id=apply-substitution-only-on-the-line-following-a-marker_1>Apply substitution only on the line following a marker<a class=headerlink href=#apply-substitution-only-on-the-line-following-a-marker_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/MARKER/{N;s/THIS/THAT/}&#39;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_8>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_8 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,3}((;[0-9]{1,3})*)?)?[m|K]//g</span>
</code></pre></div> <h3 id=comment-out-a-line-in-a-file_1>Comment out a line in a file<a class=headerlink href=#comment-out-a-line-in-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;19375 s/^/#/&#39;</span> file
</code></pre></div> <h3 id=simplification-of-sed-your-sed-stuff-here-file--file2--mv-file2-file_1>Simplification of "sed 'your sed stuff here' file &gt; file2 &amp;&amp; mv file2 file"<a class=headerlink href=#simplification-of-sed-your-sed-stuff-here-file--file2--mv-file2-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;your sed stuff here&#39;</span> file
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_9>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_9 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s:\x1B\[[0-9;]*[mK]::g&quot;</span><span class=err>&#39;</span>
</code></pre></div> <h3 id=prepend-a-text-to-a-file_2>Prepend a text to a file.<a class=headerlink href=#prepend-a-text-to-a-file_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;1s/^/text to prepend\n/&#39;</span> file1
</code></pre></div> <h3 id=delete-line-number-10-from-file_1>Delete line number 10 from file<a class=headerlink href=#delete-line-number-10-from-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;10d&#39;</span> &lt;somefile&gt;
</code></pre></div> <h3 id=remove-empty-lines_1>remove empty lines<a class=headerlink href=#remove-empty-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span>
</code></pre></div> <h3 id=convert-files-from-dos-line-endings-to-unix-line-endings_1>Convert files from DOS line endings to UNIX line endings<a class=headerlink href=#convert-files-from-dos-line-endings-to-unix-line-endings_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^M//&#39;</span> file
</code></pre></div> <h3 id=remove-leading-blank-lines_1>remove leading blank lines<a class=headerlink href=#remove-leading-blank-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/./,$!d&#39;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_10>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_10 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=convert-unix-newlines-to-dos-newlines_2>Convert Unix newlines to DOS newlines<a class=headerlink href=#convert-unix-newlines-to-dos-newlines_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$/&lt;ctrl+v&gt;&lt;ctrl+m&gt;/&#39;</span>
</code></pre></div> <h3 id=reverse-order-of-file_1>reverse order of file<a class=headerlink href=#reverse-order-of-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1!G;h;$!d&#39;</span>
</code></pre></div> <h3 id=remove-the-first-character-of-each-line-in-a-file_1>Remove the first character of each line in a file<a class=headerlink href=#remove-the-first-character-of-each-line-in-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^.//g&quot;</span> files
</code></pre></div> <h3 id=delete-last-line-of-a-file-if-it-is-blank_1>Delete Last Line of a File if it is Blank<a class=headerlink href=#delete-last-line-of-a-file-if-it-is-blank_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;${/^$/d}&#39;</span> file
</code></pre></div> <h3 id=simple-xml-tag-extract-with-sed_1>Simple XML tag extract with sed<a class=headerlink href=#simple-xml-tag-extract-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*&lt;foo&gt;\([^&lt;]*\)&lt;\/foo&gt;.*/\1/p&#39;</span>
</code></pre></div> <h3 id=perform-sed-substitution-on-all-but-the-last-line-of-input_1>Perform sed substitution on all but the last line of input<a class=headerlink href=#perform-sed-substitution-on-all-but-the-last-line-of-input_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;</span>$<span class=s2> ! s/</span>$<span class=s2>/,/&quot;</span>
</code></pre></div> <h3 id=remove-empty-lines-in-place-with-backup_1>remove empty lines in place with backup<a class=headerlink href=#remove-empty-lines-in-place-with-backup_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^$/d&#39;</span> -i .bak filewithempty.lines
</code></pre></div> <h3 id=print-all-the-lines-between-10-and-20-of-a-file_1>Print all the lines between 10 and 20 of a file<a class=headerlink href=#print-all-the-lines-between-10-and-20-of-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;10,20!d&#39;</span>
</code></pre></div> <h3 id=efficiently-print-a-line-deep-in-a-huge-log-file_1>Efficiently print a line deep in a huge log file<a class=headerlink href=#efficiently-print-a-line-deep-in-a-huge-log-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1000000!d;q&#39;</span> &lt; massive-log-file.log
</code></pre></div> <h3 id=extract-title-from-html-files_1>Extract title from HTML files<a class=headerlink href=#extract-title-from-html-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*&lt;title&gt;\(.*\)&lt;\/title&gt;.*/\1/ip;T;q&#39;</span> file.html
</code></pre></div> <h3 id=grep--v-with-multiple-patterns_2>grep -v with multiple patterns.<a class=headerlink href=#grep--v-with-multiple-patterns_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/test/{/error\|critical\|warning/d}&#39;</span> somefile
</code></pre></div> <h3 id=a-find-and-replace-within-text-based-files-for-batch-text-replacement-not-using-perl_1>a find and replace within text-based files, for batch text replacement, not using perl<a class=headerlink href=#a-find-and-replace-within-text-based-files-for-batch-text-replacement-not-using-perl_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/SEARCH_STRING/REPLACE_STRING/g&#39;</span> <span class=sb>`</span>find . -iname <span class=s1>&#39;FILENAME&#39;</span><span class=sb>`</span>
</code></pre></div> <h3 id=go-to-the-nth-line-of-file_2>Go to the Nth line of file<a class=headerlink href=#go-to-the-nth-line-of-file_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n 13p /etc/services
</code></pre></div> <h3 id=add-thousand-separator-with-sed-in-a-file-or-within-pipe_1>Add thousand separator with sed, in a file or within pipe<a class=headerlink href=#add-thousand-separator-with-sed-in-a-file-or-within-pipe_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;s/\(.*[0-9]\)\([0-9]\{3\}\)/\1,\2/;ta&#39;</span> filename
</code></pre></div> <h3 id=append-empty-line-after-every-line-in-filetxt_1>append empty line after every line in file.txt<a class=headerlink href=#append-empty-line-after-every-line-in-filetxt_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G file.txt
</code></pre></div> <h3 id=efficiently-extract-lines-between-markers_1>Efficiently extract lines between markers<a class=headerlink href=#efficiently-extract-lines-between-markers_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/START/,${/STOP/q;p}&#39;</span>
</code></pre></div> <h3 id=change-the-homepage-of-firefox_1>Change the homepage of Firefox<a class=headerlink href=#change-the-homepage-of-firefox_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s|\(&quot;browser.startup.homepage&quot;,\) &quot;\(.*\)&quot;|\1 &quot;http://sliceoflinux.com&quot;|&#39;</span> .mozilla/firefox/*.default/prefs.js
</code></pre></div> <h3 id=sed-edit-in-place-using--a-option-instead-of--i-option-no-tmp-file-created_1>sed edit-in-place using -a option instead of -i option (no tmp file created)<a class=headerlink href=#sed-edit-in-place-using--a-option-instead-of--i-option-no-tmp-file-created_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>    sedi<span class=o>(){</span> <span class=k>case</span> <span class=nv>$#</span> <span class=k>in</span> <span class=o>[</span><span class=m>01</span><span class=o>]</span><span class=p>|</span><span class=o>[</span><span class=m>3</span>-9<span class=o>])</span><span class=nb>echo</span> usage: sedi sed-cmds file <span class=p>;;</span><span class=m>2</span><span class=o>)</span>sed -a <span class=s1>&#39;&#39;</span><span class=s2>&quot;</span><span class=nv>$1</span><span class=s2>&quot;</span><span class=s1>&#39;;H;$!d;g;&#39;</span> <span class=nv>$2</span> <span class=p>|</span>sed -a <span class=s1>&#39;/^$/d;w &#39;</span><span class=s2>&quot;</span><span class=nv>$2</span><span class=s2>&quot;</span><span class=s1>&#39;&#39;</span>  <span class=p>;;</span><span class=k>esac</span><span class=p>;</span><span class=o>}</span>
</code></pre></div> <h3 id=remove-a-range-of-lines-from-a-file_3>Remove a range of lines from a file<a class=headerlink href=#remove-a-range-of-lines-from-a-file_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i &lt;file&gt; -re <span class=s1>&#39;&lt;start&gt;,&lt;end&gt;d&#39;</span>
</code></pre></div> <h3 id=gives-you-whats-between-first-string-and-second-string-included_1>Gives you what's between first string and second string included.<a class=headerlink href=#gives-you-whats-between-first-string-and-second-string-included_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^ABC/+ABC/&quot;</span> &lt;file <span class=p>|</span> sed <span class=s2>&quot;s/DEF</span>$<span class=s2>/DEF+/&quot;</span> <span class=p>|</span> tr <span class=s2>&quot;\n&quot;</span> <span class=s2>&quot;~&quot;</span> <span class=p>|</span> tr <span class=s2>&quot;+&quot;</span> <span class=s2>&quot;\n&quot;</span> <span class=p>|</span> grep <span class=s2>&quot;^ABC&quot;</span>  <span class=p>|</span> tr <span class=s2>&quot;~&quot;</span> <span class=s2>&quot;\n&quot;</span>
</code></pre></div> <h3 id=remove-blank-lines_1>Remove blank lines<a class=headerlink href=#remove-blank-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span>
</code></pre></div> <h3 id=deleting--ignoring-lines-from-the-top-of-a-file_1>Deleting / Ignoring lines from the top of a file<a class=headerlink href=#deleting--ignoring-lines-from-the-top-of-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed 1d foo.txt
</code></pre></div> <h3 id=extract-ip-addresses-with-sed_2>Extract ip addresses with sed<a class=headerlink href=#extract-ip-addresses-with-sed_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n  <span class=s1>&#39;s/\([0-9]\{1,3\}\.\)\{3\}[0-9]\{1,3\}/\nip&amp;\n/gp&#39;</span> ips.txt  <span class=p>|</span> grep ip <span class=p>|</span> sed <span class=s1>&#39;s/ip//&#39;</span><span class=p>|</span> sort <span class=p>|</span> uniq
</code></pre></div> <h3 id=remove-lines-which-are-longer-than-255_1>remove lines which are longer than 255<a class=headerlink href=#remove-lines-which-are-longer-than-255_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^.\{255\}/!p&#39;</span>
</code></pre></div> <h3 id=grep--v-with-multiple-patterns_3>grep -v with multiple patterns.<a class=headerlink href=#grep--v-with-multiple-patterns_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/test/{/error\|critical\|warning/d;p}&#39;</span> somefile
</code></pre></div> <h3 id=remove-leading-zeros-in-multiple-columns-with-sed_1>Remove leading zeros in multiple columns with sed<a class=headerlink href=#remove-leading-zeros-in-multiple-columns-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\b\(0*\)//g&#39;</span> filename
</code></pre></div> <h3 id=output-the-contents-of-a-file-removing-any-empty-lines-including-lines-which-contain-only-spaces-or-tabs_1>output the contents of a file removing any empty lines including lines which contain only spaces or tabs.<a class=headerlink href=#output-the-contents-of-a-file-removing-any-empty-lines-including-lines-which-contain-only-spaces-or-tabs_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^[&lt;space&gt;&lt;tab&gt;]*$/d&#39;</span> somefile
</code></pre></div> <h3 id=extract-all-urls-from-firefox-sessionstore_1>extract all urls from firefox sessionstore<a class=headerlink href=#extract-all-urls-from-firefox-sessionstore_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/\[{/\n/g&quot;</span> -e <span class=s2>&quot;s/}, {/\n/g&quot;</span>  sessionstore.js <span class=p>|</span> grep url <span class=p>|</span> awk -F<span class=s2>&quot;,&quot;</span> <span class=s1>&#39;{ print $1 }&#39;</span><span class=p>|</span> sed -e <span class=s2>&quot;s/url:\&quot;\([^\&quot;]*\)\&quot;/\1/g&quot;</span> -e <span class=s2>&quot;/^about:blank/d&quot;</span> &gt; session_urls.txt
</code></pre></div> <h3 id=print-contents-of-file-from-line-1-until-we-match-regex_1>print contents of file from line 1 until we match regex<a class=headerlink href=#print-contents-of-file-from-line-1-until-we-match-regex_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1,/regex/p&#39;</span> filename
</code></pre></div> <h3 id=preprocess-code-to-be-posted-in-comments-on-this-site_1>preprocess code to be posted in comments on this site<a class=headerlink href=#preprocess-code-to-be-posted-in-comments-on-this-site_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^/$ /&#39;</span> <span class=s2>&quot;</span><span class=nv>$script</span><span class=s2>&quot;</span> <span class=p>|</span> xclip
</code></pre></div> <h3 id=quick-and-dirty-formatting-for-html-code_1>quick and dirty formatting for HTML code<a class=headerlink href=#quick-and-dirty-formatting-for-html-code_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s_(/[^&gt;]*?&gt;)_\1\n_g&#39;</span> filename.html
</code></pre></div> <h3 id=do-a-search-and-replace-in-a-file-after-making-a-backup_1>Do a search-and-replace in a file after making a backup<a class=headerlink href=#do-a-search-and-replace-in-a-file-after-making-a-backup_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.bak <span class=s1>&#39;s/old/new/g&#39;</span> file
</code></pre></div> <h3 id=concatenates-lines-using-sed_1>Concatenates lines using sed<a class=headerlink href=#concatenates-lines-using-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e :a -e <span class=s1>&#39;/$/N;s/\n/ /;ta&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=replace-multiple-spaces-with-semicolon_1>Replace multiple spaces with semicolon<a class=headerlink href=#replace-multiple-spaces-with-semicolon_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\s\+/;/g;s/^ //;s/ </span>$<span class=s2>//&quot;</span> filename.csv
</code></pre></div> <h3 id=change-every-instance-of-old-to-new-in-file-file_1>Change every instance of OLD to NEW in file FILE<a class=headerlink href=#change-every-instance-of-old-to-new-in-file-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/OLD/NEW/g&#39;</span> FILE
</code></pre></div> <h3 id=convert-dos-newlines-crlf-to-unix-format_1>Convert DOS newlines (CR/LF) to Unix format<a class=headerlink href=#convert-dos-newlines-crlf-to-unix-format_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^M$//&#39;</span> input.txt &gt; output.txt
</code></pre></div> <h3 id=embed-next-line-on-the-end-of-current-line-using-sed_1>Embed next line on the end of current line using sed<a class=headerlink href=#embed-next-line-on-the-end-of-current-line-using-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed  <span class=s1>&#39;X{N;s/\n//;}&#39;</span> file.txt <span class=o>(</span>where X is the current line<span class=o>)</span>
</code></pre></div> <h3 id=remove-newlines-from-specific-lines-in-a-file-using-sed_1>remove newlines from specific lines in a file using sed<a class=headerlink href=#remove-newlines-from-specific-lines-in-a-file-using-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/pattern/N; s/\n//&#39;</span> filename
</code></pre></div> <h3 id=capitalize-the-first-letter-of-every-word_1>Capitalize the first letter of every word<a class=headerlink href=#capitalize-the-first-letter-of-every-word_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/\b\(.\)/\u\1/g&quot;</span>
</code></pre></div> <h3 id=show-a-config-file-without-comments_1>Show a config file without comments<a class=headerlink href=#show-a-config-file-without-comments_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/#.*//;/^\s*$/d&#39;</span>
</code></pre></div> <h3 id=top-20-commands-in-your-bash-history_1>Top 20 commands in your bash history<a class=headerlink href=#top-20-commands-in-your-bash-history_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/[;|][[:space:]]*/\n/g&#39;</span> .bash_history <span class=p>|</span> cut <span class=nv>delimiter</span><span class=o>=</span><span class=s1>&#39; &#39;</span> <span class=nv>fields</span><span class=o>=</span><span class=m>1</span> <span class=p>|</span> sort <span class=p>|</span> uniq count <span class=p>|</span> sort numeric-sort reverse <span class=p>|</span> head <span class=nv>lines</span><span class=o>=</span><span class=m>20</span>
</code></pre></div> <h3 id=update-grub-menulst_1>Update grub menu.lst<a class=headerlink href=#update-grub-menulst_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/^$/d&#39;</span> -e <span class=s1>&#39;/^#/d&#39;</span> -e <span class=s1>&#39;/initrd/ a\ &#39;</span> -e <span class=s1>&#39;s/hiddenmenu//g&#39;</span> -e <span class=s1>&#39;/^timeout/d&#39;</span> -e <span class=s1>&#39;/default/ a\timeout\t\t15&#39;</span> -e <span class=s1>&#39;s/quiet//g&#39;</span> -e <span class=s1>&#39;s/splash/rootdelay=60/g&#39;</span> /boot/grub/menu.lst &gt; /boot/grub/menu.lst.new
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file_3>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span> -i file
</code></pre></div> <h3 id=remove-space-andor-tab-characters-at-the-end-of-line_1>Remove space and/or tab characters at the end of line<a class=headerlink href=#remove-space-andor-tab-characters-at-the-end-of-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/[ \t]*$//&#39;</span> file
</code></pre></div> <h3 id=delete-all-trailing-whitespace-from-each-line-in-file_2>delete all trailing whitespace from each line in file<a class=headerlink href=#delete-all-trailing-whitespace-from-each-line-in-file_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^\s\+//&#39;</span> &lt;file&gt;
</code></pre></div> <h3 id=display-email-addresses-that-have-been-sent-to-by-a-postfix-server-since-the-last-mail-log-rollover_1>Display email addresses that have been sent to by a postfix server since the last mail log rollover<a class=headerlink href=#display-email-addresses-that-have-been-sent-to-by-a-postfix-server-since-the-last-mail-log-rollover_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;/postfix\/smtp\[.*status=sent/s/^.*to=&lt;\([^&gt;]*\).*$/\1/p&#39;</span> /var/log/mail.log <span class=p>|</span> sort -u
</code></pre></div> <h3 id=given-process-id-print-its-environment-variables_1>Given process ID print its environment variables<a class=headerlink href=#given-process-id-print-its-environment-variables_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/\o0/\n/g&#39;</span> /proc/INSERT_PID_HERE/environ
</code></pre></div> <h3 id=print-only-the-odd-lines-of-a-file-gnu-sed_1>Print only the odd lines of a file (GNU sed)<a class=headerlink href=#print-only-the-odd-lines-of-a-file-gnu-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=m>2</span>~2d
</code></pre></div> <h3 id=search-replace-with-ansible-style-timestamps_1>Search replace with Ansible style timestamps<a class=headerlink href=#search-replace-with-ansible-style-timestamps_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.<span class=k>$(</span>date +%F@%T<span class=k>)</span> <span class=s1>&#39;s/^LogLevel warn/LogLevel debug/g&#39;</span> httpd.conf
</code></pre></div> <h3 id=exclude-inserting-a-table-from-a-sql-import_1>Exclude inserting a table from a sql import<a class=headerlink href=#exclude-inserting-a-table-from-a-sql-import_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/INSERT INTO `unwanted_table`/d&#39;</span> mydb.sql &gt; reduced.sql
</code></pre></div> <h3 id=getting-a-domain-from-url-ex-very-nice-to-get-url-from-squid-accesslog_1>Getting a domain from url, ex: very nice to get url from squid access.log<a class=headerlink href=#getting-a-domain-from-url-ex-very-nice-to-get-url-from-squid-accesslog_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/[^/]*\/\/\([^@]*@\)\?\([^:/]*\).*/\2/&quot;</span>
</code></pre></div> <h3 id=multi-line-grep-using-sed-and-specifying-openclose-tags_1>Multi line grep using sed and specifying open/close tags<a class=headerlink href=#multi-line-grep-using-sed-and-specifying-openclose-tags_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/&#39;</span><span class=s2>&quot;&lt;opening tag&gt;&quot;</span><span class=s1>&#39;/,/&#39;</span><span class=s2>&quot;&lt;closing tag&gt;&quot;</span><span class=s1>&#39;/{/&#39;</span><span class=s2>&quot;&lt;closing tag&gt;&quot;</span><span class=s1>&#39;/d;p};d&#39;</span> <span class=s2>&quot;&lt;file&gt;&quot;</span>
</code></pre></div> <h3 id=sed---substitute-string-in-next-line_1>SED - Substitute string in next line<a class=headerlink href=#sed---substitute-string-in-next-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.backup <span class=s1>&#39;/patter/{n;s/foo/bar/g}&#39;</span> file
</code></pre></div> <h3 id=remove-repeated-pairs-of-characters-eg-xtxtxtxt-will-become-xt_1>remove repeated pairs of characters e.g. "xtxtxtxt" will become "xt"<a class=headerlink href=#remove-repeated-pairs-of-characters-eg-xtxtxtxt-will-become-xt_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -ru <span class=s1>&#39;s/(..)\1{2,}/\1/g&#39;</span>
</code></pre></div> <h3 id=delete-all-emptyblank-lines-from-text-file--output-to-file_1>Delete all empty/blank lines from text file &amp; output to file<a class=headerlink href=#delete-all-emptyblank-lines-from-text-file--output-to-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^$/d&#39;</span> /tmp/data.txt &gt; /tmp/output.txt
</code></pre></div> <h3 id=fix-subtitle-timing-for-sub-files_1>Fix subtitle timing (for .sub files)<a class=headerlink href=#fix-subtitle-timing-for-sub-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/{/|/&#39;</span> -e <span class=s1>&#39;s/}{/|/&#39;</span> -e <span class=s1>&#39;s/}/|/&#39;</span> myFile.sub <span class=p>|</span> awk -F <span class=s2>&quot;|&quot;</span> <span class=s1>&#39;BEGIN {OFS =  &quot;|&quot;} { $2 = $2 - 600; $3 = $3 - 600; print $0 }&#39;</span> <span class=p>|</span> sed -e <span class=s1>&#39;s/^|/{/&#39;</span> -e <span class=s1>&#39;s/\([0-9]\)|\([0-9]\)/\1}{\2/&#39;</span> -e <span class=s1>&#39;s/|/}/&#39;</span> &gt;
</code></pre></div> <h3 id=mysql-slice-out-a-specific-table-from-the-output-of-mysqldump_1>MySQL: Slice out a specific table from the output of mysqldump<a class=headerlink href=#mysql-slice-out-a-specific-table-from-the-output-of-mysqldump_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;/^ Table structure for table \`departments\`/,/^ Table structure for table/p&quot;</span>
</code></pre></div> <h3 id=comment-out-all-lines-in-a-file-beginning-with-string_2>Comment out all lines in a file beginning with string<a class=headerlink href=#comment-out-all-lines-in-a-file-beginning-with-string_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^\(somestring\)/#\1/&#39;</span> somefile.cfg
</code></pre></div> <h3 id=commentate-specified-line-of-a-file_1>commentate specified line of a file<a class=headerlink href=#commentate-specified-line-of-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;&lt;line_no&gt;s/\(.*\)/#\1/&#39;</span> &lt;testfile&gt;
</code></pre></div> <h3 id=remove-multiple-spaces_1>Remove multiple spaces<a class=headerlink href=#remove-multiple-spaces_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s/^ *//;s/ *</span>$<span class=s2>//;s/ \{1,\}/ /g&quot;</span> filename.txt
</code></pre></div> <h3 id=simple-comment-an-entire-file_1>Simple Comment an entire file<a class=headerlink href=#simple-comment-an-entire-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^/#/&#39;</span> FILENAME
</code></pre></div> <h3 id=convert-a-python-interactive-session-to-a-python-script_1>Convert a Python interactive session to a python script<a class=headerlink href=#convert-a-python-interactive-session-to-a-python-script_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed  <span class=s1>&#39;s/^\([^&gt;.]\)/#\1/;s/^&gt;&gt;&gt; //;s/^\.\.\./  /&#39;</span>
</code></pre></div> <h3 id=add-a-line-from-1-file-after-every-line-of-another-shuffle-files-together_1>Add a line from 1 file after every line of another (shuffle files together)<a class=headerlink href=#add-a-line-from-1-file-after-every-line-of-another-shuffle-files-together_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^/R addfile&#39;</span> targetfile &gt; savefile
</code></pre></div> <h3 id=print-contents-of-file-from-first-match-of-regex-to-end-of-file_1>print contents of file from first match of regex to end of file<a class=headerlink href=#print-contents-of-file-from-first-match-of-regex-to-end-of-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/regex/,$p&#39;</span> filename
</code></pre></div> <h3 id=compute-the-numeric-sum-of-a-file_1>Compute the numeric sum of a file<a class=headerlink href=#compute-the-numeric-sum-of-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed i<span class=s2>&quot;+&quot;</span> file.txt <span class=p>|</span> xargs <span class=nb>echo</span> <span class=m>0</span> <span class=p>|</span>bc
</code></pre></div> <h3 id=delete-leading-whitespace-from-the-start-of-each-line_2>Delete leading whitespace from the start of each line<a class=headerlink href=#delete-leading-whitespace-from-the-start-of-each-line_2 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//&#39;</span> input.txt
</code></pre></div> <h3 id=delete-leading-whitespace-from-the-start-of-each-line_3>Delete leading whitespace from the start of each line<a class=headerlink href=#delete-leading-whitespace-from-the-start-of-each-line_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^\s*//&#39;</span> input.txt
</code></pre></div> <h3 id=search-apache-virtual-host-by-pattern_1>Search apache virtual host by pattern<a class=headerlink href=#search-apache-virtual-host-by-pattern_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/^[^#]*&lt;Virtual/{:l N; /&lt;\/Virtual/!bl;}; /PATTERN/p&#39;</span> vhosts.conf
</code></pre></div> <h3 id=terminal---show-directories-in-the-path-one-per-line-with-sed-and-bash3x-here-string_1>Terminal - Show directories in the PATH, one per line with sed and bash3.X `here string'<a class=headerlink href=#terminal---show-directories-in-the-path-one-per-line-with-sed-and-bash3x-here-string_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/:/\n/g&#39;</span> <span class=o>&lt;&lt;&lt;</span><span class=nv>$PATH</span>
</code></pre></div> <h3 id=remove-a-range-of-lines-from-a-file_4>Remove a range of lines from a file<a class=headerlink href=#remove-a-range-of-lines-from-a-file_4 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i &lt;start&gt;,&lt;end&gt;d &lt;filename&gt;
</code></pre></div> <h3 id=every-nth-line-position--sed_1>Every Nth line position # (SED)<a class=headerlink href=#every-nth-line-position--sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1,${p;n;n;}&#39;</span> foo &gt; foo_every3_position1<span class=p>;</span> sed -n <span class=s1>&#39;2,${p;n;n;}&#39;</span> foo &gt; foo_every3_position2<span class=p>;</span> sed -n <span class=s1>&#39;3,${p;n;n;}&#39;</span> foo &gt; foo_every3_position3
</code></pre></div> <h3 id=in-place-searchreplace-with-datestamped-backup_1>In-Place search/replace with datestamped backup<a class=headerlink href=#in-place-searchreplace-with-datestamped-backup_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.<span class=sb>`</span>date +%Y%m%d<span class=sb>`</span> -e <span class=s1>&#39;s/pattern/replace&#39;</span> <span class=o>[</span>filename<span class=o>]</span>
</code></pre></div> <h3 id=replace-spaces-in-a-file-with-hyphens_1>Replace spaces in a file with hyphens<a class=headerlink href=#replace-spaces-in-a-file-with-hyphens_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/ /-/g&#39;</span> *
</code></pre></div> <h3 id=delete-the-specified-line_1>Delete the specified line<a class=headerlink href=#delete-the-specified-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i 8d ~/.ssh/known_hosts
</code></pre></div> <h3 id=change-host-name_1>Change host name<a class=headerlink href=#change-host-name_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/oldname/newname/&#39;</span> /etc/hosts /etc/hostname
</code></pre></div> <h3 id=print-just-line-4-from-a-textfile_3>Print just line 4 from a textfile<a class=headerlink href=#print-just-line-4-from-a-textfile_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;4{p;q}&#39;</span>
</code></pre></div> <h3 id=print-just-line-4-from-a-textfile_4>Print just line 4 from a textfile<a class=headerlink href=#print-just-line-4-from-a-textfile_4 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;4p&#39;</span>
</code></pre></div> <h3 id=cleanup-a-source-text-file-removing-trailing-spacestabs-and-multiple-consecutive-blank-lines_1>Cleanup a (source) text file, removing trailing spaces/tabs and multiple consecutive blank lines<a class=headerlink href=#cleanup-a-source-text-file-removing-trailing-spacestabs-and-multiple-consecutive-blank-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/[ \t]*$//;/^$/N;/\n$/D&#39;</span> sourcefiletocleanup
</code></pre></div> <h3 id=put-uppercase-letters-in-curly-brackets-in-a-bibtex-database_1>Put uppercase letters in curly brackets in a BibTeX database<a class=headerlink href=#put-uppercase-letters-in-curly-brackets-in-a-bibtex-database_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;/^\s*[^@%]/s=\([A-Z][A-Z]*\)\([^}A-Z]\|},$\)={\1}\2=g&#39;</span> literature.bib &gt; output.bib
</code></pre></div> <h3 id=prepend-a-text-to-a-file_3>Prepend a text to a file.<a class=headerlink href=#prepend-a-text-to-a-file_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^/ls -l /&#39;</span> output_files.txt
</code></pre></div> <h3 id=edit-ruby-files-within-the-current-directory-to-use-ruby-19-style-symbol-keys-instead-of-rockets_1>Edit Ruby files within the current directory to use Ruby 1.9+ style symbol keys instead of rockets<a class=headerlink href=#edit-ruby-files-within-the-current-directory-to-use-ruby-19-style-symbol-keys-instead-of-rockets_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;s/:\([a-zA-Z_]*\) =&gt;/\1:/g&quot;</span> **/*.rb
</code></pre></div> <h3 id=uncomment-the-lines-where-the-word-debug-is-found_3>uncomment the lines where the word DEBUG is found<a class=headerlink href=#uncomment-the-lines-where-the-word-debug-is-found_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^#\(.*DEBUG\)/\1/&#39;</span> <span class=nv>$FILE</span>
</code></pre></div> <h3 id=raspberry-pi-serial-number-wo-leading-zeros_1>Raspberry Pi serial number w/o leading zeros<a class=headerlink href=#raspberry-pi-serial-number-wo-leading-zeros_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;$!d s/.*: 0\+//&#39;</span> /proc/cpuinfo
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_11>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_11 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/(\x1B|\033)(\(B|\[([0-9]{1,2}(;[0-9]{1,2})?)?[A-Z])//Ig&quot;</span>
</code></pre></div> <h3 id=urldecoding_1>urldecoding<a class=headerlink href=#urldecoding_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e<span class=s1>&#39;s/%\([0-9A-F][0-9A-F]\)/\\\\\x\1/g&#39;</span> <span class=p>|</span> xargs <span class=nb>echo</span> -e
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_12>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_12 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/&#39;</span><span class=k>$(</span><span class=nb>echo</span> -e <span class=s2>&quot;\033&quot;</span><span class=k>)</span><span class=s1>&#39;\[[0-9]{1,2}(;([0-9]{1,2})?)?[mK]//g&#39;</span>
</code></pre></div> <h3 id=replace-words-with-sed_1>Replace words with sed<a class=headerlink href=#replace-words-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed /BEGIN/,/END/s/xxx/yyy/g input.txt
</code></pre></div> <h3 id=rebuild-a-delimited-file-with-a-unique-delimiter_1>Rebuild a Delimited File with a Unique Delimiter<a class=headerlink href=#rebuild-a-delimited-file-with-a-unique-delimiter_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/$/uniqueString/&#39;</span> file.old <span class=p>|</span> sed <span class=s1>&#39;s/,/\n/g&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;:loop;/^\&quot;[^\&quot;]*$/N;s/\n/,/;/[^\&quot;]$/t loop&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;:loop;N;s/\n/@/g;/uniqueString$/!b loop;s/uniqueString$//&#39;</span> &gt; file.new
</code></pre></div> <h3 id=delete-all-trailing-whitespace-from-each-line-in-file_3>delete all trailing whitespace from each line in file<a class=headerlink href=#delete-all-trailing-whitespace-from-each-line-in-file_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[ \t]*$//&#39;</span> &lt; &lt;file&gt; &gt; &lt;file&gt;.out<span class=p>;</span> mv &lt;file&gt;.out &lt;file&gt;
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file_4>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file_4 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span> &lt; &lt;file&gt; &gt; &lt;file&gt;.out<span class=p>;</span> mv &lt;file&gt;.out &lt;file&gt;
</code></pre></div> <h3 id=remove--r-carriage-return-in-a-file_1>Remove r (carriage return) in a file<a class=headerlink href=#remove--r-carriage-return-in-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=err>&#39;</span>s/<span class=se>\r</span>//g somefile.txt
</code></pre></div> <h3 id=delete-all-leading-and-trailing-whitespace-from-each-line-in-file_5>delete all leading and trailing whitespace from each line in file<a class=headerlink href=#delete-all-leading-and-trailing-whitespace-from-each-line-in-file_5 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^\s*//;s/\s*$//&#39;</span> -i file
</code></pre></div> <h3 id=puts-every-word-from-a-file-into-a-new-line_1>Puts every word from a file into a new line<a class=headerlink href=#puts-every-word-from-a-file-into-a-new-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/[ \t\r\n\v\f]+/\^J/g&#39;</span> INFILE &gt; OUTFILE
</code></pre></div> <h3 id=change-your-e-mail-address-in-multiple-files_1>Change your e-mail address in multiple files<a class=headerlink href=#change-your-e-mail-address-in-multiple-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/oldname@example.com/newname@example.com/g&#39;</span> <span class=sb>`</span>grep oldname@example.com -rl .<span class=sb>`</span>
</code></pre></div> <h3 id=delete-all-lines-after-the-first-match_1>Delete all lines after the first match<a class=headerlink href=#delete-all-lines-after-the-first-match_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;1,/match/p&#39;</span>
</code></pre></div> <h3 id=extract-ip-addresses-with-sed_3>Extract ip addresses with sed<a class=headerlink href=#extract-ip-addresses-with-sed_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/.*\(\(\(^\| \)[0-9]\{1,3\}\.\)\{1\}\([0-9]\{1,3\}\.\)\{2\}[0-9]\{1,3\}\) .*/\1/gp&#39;</span>
</code></pre></div> <h3 id=sed-replace-string-in-whole-files-in-folder_1>sed replace string in whole files in folder<a class=headerlink href=#sed-replace-string-in-whole-files-in-folder_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/SearchString/ReplaceString/g&#39;</span> views/*.php
</code></pre></div> <h3 id=bash-chop_1>bash chop<a class=headerlink href=#bash-chop_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/.$//&#39;</span>
</code></pre></div> <h3 id=printout-a-list-of-field-numbers-from-a-csv-file-with-headers-as-first-line_1>Printout a list of field numbers from a CSV file with headers as first line.<a class=headerlink href=#printout-a-list-of-field-numbers-from-a-csv-file-with-headers-as-first-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/,/\n/g;q&#39;</span> file.csv <span class=p>|</span> nl
</code></pre></div> <h3 id=remove-lines-that-contain-a-specific-pattern1-from-file2_1>Remove lines that contain a specific pattern(<span class=arithmatex>\(1) from file(\)</span>2).<a class=headerlink href=#remove-lines-that-contain-a-specific-pattern1-from-file2_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/myexpression/d&#39;</span> /path/to/file.txt
</code></pre></div> <h3 id=convert-windowsdos-text-files-to-unix_1>Convert Windows/DOS Text Files to Unix<a class=headerlink href=#convert-windowsdos-text-files-to-unix_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/\r//&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=insert-blank-lines_1>insert blank lines<a class=headerlink href=#insert-blank-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed G input.txt <span class=p>|</span> cat -s
</code></pre></div> <h3 id=removes-lines-range-from-file_1>Removes lines [range] from file<a class=headerlink href=#removes-lines-range-from-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1,5d&#39;</span>  /path/to/file
</code></pre></div> <h3 id=more-than-4-repeated-characters-to-a-single-character_1>more than 4 repeated characters to a single character<a class=headerlink href=#more-than-4-repeated-characters-to-a-single-character_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -ru <span class=s1>&#39;s/(.)\1{4,}/\1/g&#39;</span>
</code></pre></div> <h3 id=convert-camelcase-to-underscores-camel_case_1>Convert camelCase to underscores (camel_case)<a class=headerlink href=#convert-camelcase-to-underscores-camel_case_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s1>&#39;s/([a-z]+)([A-Z][a-z]+)/\1_\l\2/g&#39;</span> file.txt
</code></pre></div> <h3 id=tells-which-group-you-dont-belong-to-opposite-of-command-groups---uses-sed_1>Tells which group you DON'T belong to (opposite of command "groups") - uses sed<a class=headerlink href=#tells-which-group-you-dont-belong-to-opposite-of-command-groups---uses-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;/</span><span class=nv>$USER</span><span class=s2>/d;s/:.*//g&quot;</span> /etc/group <span class=p>|</span> sed -e :a -e <span class=s1>&#39;/$/N;s/\n/ /;ta&#39;</span>
</code></pre></div> <h3 id=remove-blank-lines-from-a-file_1>Remove blank lines from a file<a class=headerlink href=#remove-blank-lines-from-a-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i.bak <span class=s1>&#39;/^[[:space:]]*$/d&#39;</span> file_name
</code></pre></div> <h3 id=convert-iso8601-dates-to-milliseconds-since-epoch_1>Convert ISO8601 dates to milliseconds since epoch<a class=headerlink href=#convert-iso8601-dates-to-milliseconds-since-epoch_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s2>&quot;s|\(2[0-9]\{3\}-[01][0-9]-[0-3][0-9]T[01][0-9]:[0-5][0-9]:[0-5][0-9].[0-9]\{3\}Z\)|</span><span class=k>$(</span>date -d <span class=se>\1</span> +%s<span class=k>)</span><span class=s2>000|g&quot;</span>
</code></pre></div> <h3 id=go-to-the-nth-line-of-file_3>Go to the Nth line of file<a class=headerlink href=#go-to-the-nth-line-of-file_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;15p&#39;</span> <span class=nv>$file</span>
</code></pre></div> <h3 id=mysql-slice-out-a-specific-database-assumes-existence-of-the-use-statement-from-mysqldump-output_1>MySQL: Slice out a specific database (assumes existence of the USE statement) from mysqldump output<a class=headerlink href=#mysql-slice-out-a-specific-database-assumes-existence-of-the-use-statement-from-mysqldump-output_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s2>&quot;/^USE \`employees\`/,/^USE \`/p&quot;</span>
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_13>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_13 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s@\^\[{1,2}([0-9]{1,2}(;[0-9]{1,2})?(;[0-9])?(m|K){1,2})?@@g&quot;</span>
</code></pre></div> <h3 id=only-change-the-first-occurrence-of-the-pattern_1>Only change the first occurrence of the pattern<a class=headerlink href=#only-change-the-first-occurrence-of-the-pattern_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;0,/enabled/{s|enabled=0|enabled=1|}&quot;</span> /etc/yum.repos.d/remi.repo
</code></pre></div> <h3 id=remove-the-first-line-containing-match-from-file_1>Remove the first line containing 'match' from file<a class=headerlink href=#remove-the-first-line-containing-match-from-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s2>&quot;</span><span class=k>$(</span>grep -nm <span class=m>1</span> match file<span class=p>|</span>cut -f1 -d:<span class=k>)</span><span class=s2>d&quot;</span> file
</code></pre></div> <h3 id=replace-deprecated-php-function-split-in-php-files_1>replace deprecated php-function split in php files<a class=headerlink href=#replace-deprecated-php-function-split-in-php-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i s/split<span class=se>\(</span>/explode<span class=se>\(</span>/ whatever.php
</code></pre></div> <h3 id=file-without-comments-or-blank-lines_1>File without comments or blank lines.<a class=headerlink href=#file-without-comments-or-blank-lines_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[[:blank:]]*//; s/^#.*//; /^$/d&#39;</span> filename
</code></pre></div> <h3 id=comment-out-all-lines-in-a-file-beginning-with-string_3>Comment out all lines in a file beginning with string<a class=headerlink href=#comment-out-all-lines-in-a-file-beginning-with-string_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;/^somestring/ s/^/#/&#39;</span> somefile.cfg
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_14>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_14 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -r <span class=s2>&quot;s/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=replace-strings-in-files_1>Replace strings in files<a class=headerlink href=#replace-strings-in-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;s/war/peace/g&#39;</span> *
</code></pre></div> <h3 id=pick-up-3-lines-start-at-every-5th-line-of-filetxt_1>pick up 3 lines start at every 5<sup>th</sup> line of file.txt<a class=headerlink href=#pick-up-3-lines-start-at-every-5th-line-of-filetxt_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;1~5{N;N;p}&#39;</span> file.txt
</code></pre></div> <h3 id=regular-expression-search-pattern-to-remove-the-datetime-and-name-when-you-paste-from-skype-chat-into-your-text-editor_1>Regular expression search pattern to remove the Datetime and Name when you paste from skype chat into your text editor<a class=headerlink href=#regular-expression-search-pattern-to-remove-the-datetime-and-name-when-you-paste-from-skype-chat-into-your-text-editor_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;s/^.*?].*?:\s//g&#39;</span> skype-chat-log.txt
</code></pre></div> <h3 id=analyze-apache-web-log-statistics-starting-on-date-x_1>Analyze Apache Web Log Statistics starting on DATE x<a class=headerlink href=#analyze-apache-web-log-statistics-starting-on-date-x_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/05\/Dec\/2010/,$ p&#39;</span> access.log <span class=p>|</span> goaccess -s -b
</code></pre></div> <h3 id=duplicate-a-line-in-a-text-file-and-replace-part-of-the-duplicated-line_1>Duplicate a line in a text file and replace part of the duplicated line<a class=headerlink href=#duplicate-a-line-in-a-text-file-and-replace-part-of-the-duplicated-line_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;/foo/p&#39;</span> -e <span class=s1>&#39;s/foo/barfoo/&#39;</span> file
</code></pre></div> <h3 id=format-a-password-file-for-john-the-ripper-from-cisco-configs--level-5_1>Format a password file for John the Ripper from Cisco configs (Level 5)<a class=headerlink href=#format-a-password-file-for-john-the-ripper-from-cisco-configs--level-5_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/[ :]/_/g; s/^\(.\{1,\}\)_5_\($1$[$./0-9A-Za-z]\{27,31\}\)_*$/\1:\2/p&#39;</span> &lt; cisco-device-config &gt; passwd
</code></pre></div> <h3 id=html-esacaping-with-sed_1>HTML esacaping with sed<a class=headerlink href=#html-esacaping-with-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/&amp;/\&amp;amp;/g; s/&lt;/\&amp;lt;/g; s/&gt;/\&amp;gt;/g; s/&quot;/\&amp;quot;/g; s/&#39;</span><span class=s2>&quot;&#39;&quot;</span><span class=s1>&#39;/\&amp;#39;/g&#39;</span>
</code></pre></div> <h3 id=parse-bookmarks-and-download-youtube-files_1>Parse bookmarks and download youtube files<a class=headerlink href=#parse-bookmarks-and-download-youtube-files_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s+href=&quot;\([^&quot;]*\)&quot;+\n\1\n+g&#39;</span> bookmarks.html <span class=p>|</span> grep <span class=s1>&#39;^http&#39;</span> <span class=p>|</span>clive
</code></pre></div> <h3 id=remove-color-codes-special-characters-with-sed_15>Remove color codes (special characters) with sed<a class=headerlink href=#remove-color-codes-special-characters-with-sed_15 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -E <span class=s2>&quot;s/&quot;</span><span class=s1>$&#39;\E&#39;</span><span class=s2>&quot;\[([0-9]{1,3}((;[0-9]{1,3})*)?)?[m|K]//g&quot;</span>
</code></pre></div> <h3 id=extract-specific-lines-from-a-text-file-using-stream-editor-sed_1>Extract specific lines from a text file using Stream Editor (sed)<a class=headerlink href=#extract-specific-lines-from-a-text-file-using-stream-editor-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=m>1186</span>,1210p A-small-practice.in
</code></pre></div> <h3 id=insert-lines-at-top-of-file-using-sed_1>Insert line(s) at top of file using sed<a class=headerlink href=#insert-lines-at-top-of-file-using-sed_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i <span class=s1>&#39;1iI am a new line&#39;</span> file.txt
</code></pre></div> <h3 id=extract-xml-from-an-otherwise-plain-text-log-file_1>Extract XML from an otherwise plain text log file<a class=headerlink href=#extract-xml-from-an-otherwise-plain-text-log-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;/&lt;Tag&gt;/,/&lt;\/Tag&gt;/p&#39;</span> logfile.log
</code></pre></div> <h3 id=list-the-cpu-model-name_1>List the CPU model name<a class=headerlink href=#list-the-cpu-model-name_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n <span class=s1>&#39;s/^model name[ \t]*: *//p&#39;</span> /proc/cpuinfo
</code></pre></div> <h3 id=edit-hosts-file-to-remove-foonovalocal-from-it-where-foo-is-the-hostname-of-a-new-vm_1>Edit hosts file to remove "foo.novalocal" from it where foo is the hostname of a new VM<a class=headerlink href=#edit-hosts-file-to-remove-foonovalocal-from-it-where-foo-is-the-hostname-of-a-new-vm_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s2>&quot;s/^127.0.1.1 </span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>.novalocal/127.0.1.1/g&quot;</span> /etc/hosts
</code></pre></div> <h3 id=convert-html-links-into-plain-text-with-link-anchor_1>convert html links into plain text with link anchor<a class=headerlink href=#convert-html-links-into-plain-text-with-link-anchor_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s!&lt;[Aa] *href*=*&quot;\([^&quot;]*\)&quot;*&gt;\([^&lt;&gt;]*\)&lt;/[Aa]&gt;!\1,\2!g&#39;</span> links.html
</code></pre></div> <h3 id=delete-first-and-last-line-from-file_1>delete first and last line from file<a class=headerlink href=#delete-first-and-last-line-from-file_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;1d;$d&#39;</span> filename
</code></pre></div> <h3 id=remove-comments-from-files_3>Remove comments from files<a class=headerlink href=#remove-comments-from-files_3 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -i -e <span class=s1>&#39;/^#[^!].*/d&#39;</span> -e <span class=s1>&#39;s/\(.*[^!]\)#.*[^}]/\1/&#39;</span> &lt;filename&gt;
</code></pre></div> <h3 id=sort-a-one-per-line-list-of-email-address-weeding-out-duplicates_1>Sort a one-per-line list of email address, weeding out duplicates<a class=headerlink href=#sort-a-one-per-line-list-of-email-address-weeding-out-duplicates_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/[ \t]*$//&#39;</span> &lt; emails.txt <span class=p>|</span> tr <span class=s1>&#39;A-Z&#39;</span> <span class=s1>&#39;a-z&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq &gt; emails_sorted.txt
</code></pre></div> <h3 id=join-lines-split-with-backslash-at-the-end_1>Join lines split with backslash at the end<a class=headerlink href=#join-lines-split-with-backslash-at-the-end_1 title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;/\\$/{:0;N;s/\\\n//;t0}&#39;</span> 
</code></pre></div> <h3 id=cut-everything-until-last-slash>Cut everything until last slash<a class=headerlink href=#cut-everything-until-last-slash title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s:..*/::&#39;</span>                   
<span class=nb>echo</span> <span class=s2>&quot;</span><span class=si>${</span><span class=nv>var</span><span class=p>##*/</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=c1># Colorize sed outpu</span>
<span class=nb>printf</span> <span class=s1>&#39;my ERROR color&#39;</span> <span class=p>|</span> sed s/ERROR/<span class=sb>`</span><span class=nb>printf</span> <span class=s2>&quot;\033[32mERROR\033[0m&quot;</span><span class=sb>`</span>/ 
</code></pre></div> <h3 id=remove-all-space-before-a-line>Remove all space before a line<a class=headerlink href=#remove-all-space-before-a-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;NUMq;d&#39;</span> 
</code></pre></div> <h3 id=print-only-num-line>Print only NUM line<a class=headerlink href=#print-only-num-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/^[ \t]*//&#39;</span> 
</code></pre></div> <h3 id=remove-all-leading-and-trailing-whitespace-from-end-of-each-line>Remove all leading and trailing whitespace from end of each line<a class=headerlink href=#remove-all-leading-and-trailing-whitespace-from-end-of-each-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s/^[ \t]*//;s/[ \t]*$//&#39;</span>
</code></pre></div> <h3 id=print-everything-after->Print everything after /<a class=headerlink href=#print-everything-after- title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed <span class=s1>&#39;s:.*/::&#39;</span>
</code></pre></div> <h3 id=print-everything-after-stalled>Print everything after stalled<a class=headerlink href=#print-everything-after-stalled title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>sed -n -e <span class=s1>&#39;s/^.*stalled: //p&#39;</span>
</code></pre></div> <h4 id=cut-all-spaces-infront-of-all-words>Cut all spaces infront of all words<a class=headerlink href=#cut-all-spaces-infront-of-all-words title="Permanent link"></a></h4> <div class=highlight><pre><span></span><code>sed -e <span class=s1>&#39;s/^[ \t]*//&#39;</span>   
</code></pre></div> <h3 id=make-space-very-3-word>Make space very 3 word<a class=headerlink href=#make-space-very-3-word title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>echo</span> <span class=s2>&quot;Youcaneasilydothisbyhighlightingyourcode.&quot;</span> <span class=p>|</span> sed <span class=s1>&#39;s/\(.\{3\}\)/\1 /g&#39;</span> 
</code></pre></div> <h3 id=cut-after-every-third-line>Cut after every third line<a class=headerlink href=#cut-after-every-third-line title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code><span class=nb>printf</span> <span class=s1>&#39;Line 1\nLine 2\nLine 3\nLine 4\nLine 5\n&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;$!N;$!N;s/\n/ /g&#39;</span>
</code></pre></div> <h3 id=print-with-tabular>Print with tabular<a class=headerlink href=#print-with-tabular title="Permanent link"></a></h3> <div class=highlight><pre><span></span><code>head -4 /etc/passwd <span class=p>|</span> tr : , <span class=p>|</span> sed -e <span class=s1>&#39;s/^/| /&#39;</span> -e <span class=s1>&#39;s/,/,| /g&#39;</span> -e <span class=s1>&#39;s/$/,|/&#39;</span> <span class=p>|</span> column -t -s,
</code></pre></div> <h3 id=resources>Resources<a class=headerlink href=#resources title="Permanent link"></a></h3> <p><a href=https://fabianlee.org/2018/10/28/linux-using-sed-to-insert-lines-before-or-after-a-match/ >https://fabianlee.org/2018/10/28/linux-using-sed-to-insert-lines-before-or-after-a-match/</a></p></div> </div> </div> <footer class=col-md-12> <hr> <p>Copyright &copy; 2015 - 2022 <a href=https://github.com/wuseman target=_blank rel=noopener>wuseman</a> </p> <p>Documentation built with <a href=https://www.mkdocs.org/ >MkDocs</a>.</p> </footer> <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script> <script src=../../js/base.js defer></script> <script src=https://unpkg.com/mermaid@8.13.3/dist/mermaid.min.js defer></script> <script src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js defer></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js defer></script> <script src=../../assets/pymdownx-extras/extra-loader-5bb526e4.js defer></script> <script src=../../search/main.js defer></script> <div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true> <div class="modal-dialog modal-lg"> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=searchModalLabel>Search</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <p>From here you can search these documents. Enter your search terms below.</p> <form> <div class=form-group> <input type=search class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"> </div> </form> <div id=mkdocs-search-results data-no-results-text="No results found"></div> </div> <div class=modal-footer> </div> </div> </div> </div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <table class=table> <thead> <tr> <th style="width: 20%;">Keys</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td class="help shortcut"><kbd>?</kbd></td> <td>Open this help</td> </tr> <tr> <td class="next shortcut"><kbd>n</kbd></td> <td>Next page</td> </tr> <tr> <td class="prev shortcut"><kbd>p</kbd></td> <td>Previous page</td> </tr> <tr> <td class="search shortcut"><kbd>s</kbd></td> <td>Search</td> </tr> </tbody> </table> </div> <div class=modal-footer> </div> </div> </div> </div> </body> </html> 